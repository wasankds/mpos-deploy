const _0x1af33c=_0x3381;(function(_0x5f26ca,_0x25398b){const _0xab27aa=_0x3381,_0x58e448=_0x5f26ca();while(!![]){try{const _0x96d14e=parseInt(_0xab27aa(0x21b))/0x1*(-parseInt(_0xab27aa(0x2d8))/0x2)+parseInt(_0xab27aa(0x227))/0x3+parseInt(_0xab27aa(0x201))/0x4+parseInt(_0xab27aa(0x315))/0x5+parseInt(_0xab27aa(0x2a3))/0x6*(-parseInt(_0xab27aa(0x2d3))/0x7)+-parseInt(_0xab27aa(0x28d))/0x8*(-parseInt(_0xab27aa(0x255))/0x9)+-parseInt(_0xab27aa(0x2fa))/0xa;if(_0x96d14e===_0x25398b)break;else _0x58e448['push'](_0x58e448['shift']());}catch(_0x2cf460){_0x58e448['push'](_0x58e448['shift']());}}}(_0x263e,0x5bce6));const _0x585182=(function(){const _0x58e26c=_0x3381,_0x121292={'yuBUX':_0x58e26c(0x225),'xzsti':_0x58e26c(0x2b8),'UhorD':function(_0x33c97f,_0x3d1ceb){return _0x33c97f===_0x3d1ceb;},'qylMV':_0x58e26c(0x1cd),'SVOqq':'ysMfy','ZOEAA':function(_0x442597,_0x11412e){return _0x442597===_0x11412e;},'apTaZ':'tqNMe','tEMqz':_0x58e26c(0x319)};let _0x54b9d7=!![];return function(_0x597aa9,_0x361d32){const _0x10f52b=_0x58e26c;if(_0x121292[_0x10f52b(0x29d)](_0x121292[_0x10f52b(0x2cf)],_0x121292[_0x10f52b(0x31b)]))return _0x55c02d;else{const _0x4d4798=_0x54b9d7?function(){const _0x285431=_0x10f52b,_0x571fda={'jyANx':_0x121292[_0x285431(0x2a1)],'NdCLz':_0x121292[_0x285431(0x242)]};if(_0x121292['UhorD'](_0x121292[_0x285431(0x29b)],_0x121292[_0x285431(0x29b)])){if(_0x361d32){if(_0x121292[_0x285431(0x290)](_0x121292[_0x285431(0x29c)],_0x121292[_0x285431(0x29c)])){const _0x2f7b56=_0x361d32[_0x285431(0x2bf)](_0x597aa9,arguments);return _0x361d32=null,_0x2f7b56;}else{const _0x394abc=_0x3b1cb1[_0x285431(0x2bf)](_0x148729,arguments);return _0x6b614=null,_0x394abc;}}}else return function(_0x3fe6ff){}['constructor'](_0x571fda[_0x285431(0x2bd)])[_0x285431(0x2bf)](_0x571fda[_0x285431(0x2ca)]);}:function(){};return _0x54b9d7=![],_0x4d4798;}};}());(function(){const _0x53cb70=_0x3381,_0x42f17f={'fRFTR':function(_0x4009aa,_0x1617d8){return _0x4009aa+_0x1617d8;},'HLect':_0x53cb70(0x26f),'MahYD':_0x53cb70(0x1fd),'SKhrM':_0x53cb70(0x24c),'MXNnZ':function(_0x1f1467,_0x28e8de){return _0x1f1467!==_0x28e8de;},'rcDss':'MNYmQ','qUOVd':_0x53cb70(0x25e),'OoHsc':_0x53cb70(0x205),'exutq':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','FbKbl':function(_0x2d2560,_0x40052b){return _0x2d2560(_0x40052b);},'pxYyO':_0x53cb70(0x2a6),'swKFX':function(_0x197876,_0x39d6fd){return _0x197876+_0x39d6fd;},'oDcSv':_0x53cb70(0x2f3),'bipaa':function(_0x3679c2,_0x33c149){return _0x3679c2+_0x33c149;},'XwkmC':_0x53cb70(0x269),'bowRi':_0x53cb70(0x252),'AmREh':_0x53cb70(0x2a5),'rSnfc':function(_0x3eb2aa,_0x3bfb5c){return _0x3eb2aa(_0x3bfb5c);},'mxXcM':function(_0xe424d0,_0x4f91fd){return _0xe424d0===_0x4f91fd;},'UXnZF':'rYeBG','bMsyk':_0x53cb70(0x1dc),'BtSxe':function(_0x5a2620){return _0x5a2620();},'jAFSr':function(_0x56de32,_0x578694,_0x2a151f){return _0x56de32(_0x578694,_0x2a151f);}};_0x42f17f[_0x53cb70(0x1f0)](_0x585182,this,function(){const _0x1dd4c9=_0x53cb70;if(_0x42f17f['MXNnZ'](_0x42f17f['rcDss'],_0x42f17f[_0x1dd4c9(0x26e)])){const _0x448e0f=new RegExp(_0x42f17f[_0x1dd4c9(0x29a)]),_0x417fd6=new RegExp(_0x42f17f['exutq'],'i'),_0x4ef145=_0x42f17f[_0x1dd4c9(0x26b)](_0x23d0d4,_0x42f17f['pxYyO']);if(!_0x448e0f[_0x1dd4c9(0x30e)](_0x42f17f[_0x1dd4c9(0x2d7)](_0x4ef145,_0x42f17f[_0x1dd4c9(0x283)]))||!_0x417fd6[_0x1dd4c9(0x30e)](_0x42f17f['bipaa'](_0x4ef145,_0x42f17f[_0x1dd4c9(0x28b)])))_0x42f17f[_0x1dd4c9(0x2c1)](_0x42f17f[_0x1dd4c9(0x215)],_0x42f17f[_0x1dd4c9(0x1d7)])?_0x42f17f['rSnfc'](_0x4ef145,'0'):function(){return![];}[_0x1dd4c9(0x2a8)](_0x42f17f[_0x1dd4c9(0x27b)](_0x42f17f[_0x1dd4c9(0x2b3)],_0x42f17f[_0x1dd4c9(0x262)]))[_0x1dd4c9(0x2bf)](_0x42f17f[_0x1dd4c9(0x2f1)]);else{if(_0x42f17f[_0x1dd4c9(0x1e8)](_0x42f17f[_0x1dd4c9(0x224)],_0x42f17f[_0x1dd4c9(0x1d4)])){if(_0x1dd2e9){const _0x3842cf=_0x467391[_0x1dd4c9(0x2bf)](_0x56f0e3,arguments);return _0x234f0f=null,_0x3842cf;}}else _0x42f17f[_0x1dd4c9(0x23e)](_0x23d0d4);}}else{const _0x4c9a69=_0x3117e3[_0x1dd4c9(0x2bf)](_0x2a272e,arguments);return _0x569a9b=null,_0x4c9a69;}})();}());const _0x193ee4=(function(){const _0x233f52=_0x3381,_0x36d945={'BDjOr':function(_0x10b6f4,_0x4e6f07){return _0x10b6f4(_0x4e6f07);},'WDNFL':function(_0x2b69d5,_0x45d56a){return _0x2b69d5!==_0x45d56a;},'liLwW':'mGOGB','udgTV':_0x233f52(0x2e3),'qgWNa':function(_0x4c9c8f,_0x150ce4){return _0x4c9c8f!==_0x150ce4;},'DDcVB':_0x233f52(0x296),'kkeUF':_0x233f52(0x21f),'cVZlw':function(_0x4f1046,_0x4a40de){return _0x4f1046!==_0x4a40de;},'JhYtj':'aJhWZ'};let _0x237c27=!![];return function(_0x3e59ce,_0x2b831b){const _0x3442ac=_0x233f52,_0x26cb21={'kmIYh':function(_0x193255,_0x5b670d){const _0x360340=_0x3381;return _0x36d945[_0x360340(0x1f1)](_0x193255,_0x5b670d);},'xiNTd':_0x36d945[_0x3442ac(0x1fe)],'izppF':_0x36d945[_0x3442ac(0x216)],'EHpFl':function(_0x1d091f,_0x42631b){const _0x106b89=_0x3442ac;return _0x36d945[_0x106b89(0x245)](_0x1d091f,_0x42631b);},'dqOdh':_0x36d945[_0x3442ac(0x2b2)],'pwixH':_0x36d945[_0x3442ac(0x1f8)]};if(_0x36d945['cVZlw'](_0x36d945[_0x3442ac(0x288)],_0x36d945[_0x3442ac(0x288)]))_0x36d945[_0x3442ac(0x1f3)](_0x13ac9b,'0');else{const _0x55a16c=_0x237c27?function(){const _0x1569d4=_0x3442ac;if(_0x26cb21['kmIYh'](_0x26cb21['xiNTd'],_0x26cb21[_0x1569d4(0x1cc)])){if(_0x2b831b){if(_0x26cb21[_0x1569d4(0x2e2)](_0x26cb21[_0x1569d4(0x1dd)],_0x26cb21[_0x1569d4(0x233)])){const _0x474c21=_0x2b831b['apply'](_0x3e59ce,arguments);return _0x2b831b=null,_0x474c21;}else{const _0x50305a=_0x3c1167?function(){const _0x2df28a=_0x1569d4;if(_0x300629){const _0x52bf8b=_0x5b6109[_0x2df28a(0x2bf)](_0x23bfee,arguments);return _0x149f0f=null,_0x52bf8b;}}:function(){};return _0x165628=![],_0x50305a;}}}else _0x4c537e=_0x3b9984;}:function(){};return _0x237c27=![],_0x55a16c;}};}()),_0x4c30ff=_0x193ee4(this,function(){const _0x125864=_0x3381,_0x3bf644={'hQBaA':function(_0x1ddfd1,_0x4ba6f7){return _0x1ddfd1===_0x4ba6f7;},'AQzGV':_0x125864(0x240),'QkDVI':_0x125864(0x299),'fANHc':function(_0x174aff,_0x55f309){return _0x174aff(_0x55f309);},'fQceN':function(_0x3f79b2,_0x48a9aa){return _0x3f79b2+_0x48a9aa;},'uMoki':_0x125864(0x2e4),'iIUoN':_0x125864(0x311),'aoOMX':function(_0x55081d){return _0x55081d();},'JGeCk':function(_0x5d9ac5,_0x47b537){return _0x5d9ac5!==_0x47b537;},'JHVSI':_0x125864(0x219),'jwXQU':'fDGPm','feJUr':'log','uMMbO':_0x125864(0x1ef),'EsCYz':_0x125864(0x237),'ecaRd':_0x125864(0x1cb),'OjRPi':_0x125864(0x229),'ojJUc':'table','RVBLS':_0x125864(0x257),'LYivD':function(_0x23bc11,_0x20b8de){return _0x23bc11<_0x20b8de;},'WIVWv':function(_0x3dc453,_0x41ee6e){return _0x3dc453!==_0x41ee6e;},'RdluS':_0x125864(0x1f9),'DLErp':_0x125864(0x2c4)};let _0x51c532;try{if(_0x3bf644[_0x125864(0x231)](_0x3bf644['AQzGV'],_0x3bf644[_0x125864(0x318)])){var _0x46ef89=_0x35f1ab['body']['refImageBase64']?_0x152816[_0x125864(0x307)]['refImageBase64']:null;delete _0x4b7fb1[_0x125864(0x307)]['refImageBase64'];}else{const _0x551138=_0x3bf644[_0x125864(0x2da)](Function,_0x3bf644['fQceN'](_0x3bf644['fQceN'](_0x3bf644[_0x125864(0x310)],_0x3bf644[_0x125864(0x2a0)]),');'));_0x51c532=_0x3bf644[_0x125864(0x2dc)](_0x551138);}}catch(_0x48475b){if(_0x3bf644['JGeCk'](_0x3bf644[_0x125864(0x27e)],_0x3bf644[_0x125864(0x20d)]))_0x51c532=window;else{if(_0x5c3005){const _0x52f4ba=_0x40ac7d[_0x125864(0x2bf)](_0x26aead,arguments);return _0x240d27=null,_0x52f4ba;}}}const _0x4f6bc3=_0x51c532['console']=_0x51c532[_0x125864(0x267)]||{},_0x29c8e1=[_0x3bf644[_0x125864(0x250)],_0x3bf644[_0x125864(0x27a)],_0x3bf644[_0x125864(0x21a)],_0x3bf644['ecaRd'],_0x3bf644[_0x125864(0x29f)],_0x3bf644['ojJUc'],_0x3bf644['RVBLS']];for(let _0x3ed0c3=0x0;_0x3bf644[_0x125864(0x297)](_0x3ed0c3,_0x29c8e1[_0x125864(0x206)]);_0x3ed0c3++){if(_0x3bf644[_0x125864(0x21c)](_0x3bf644[_0x125864(0x236)],_0x3bf644[_0x125864(0x25b)])){const _0x3aa1f1=_0x193ee4['constructor'][_0x125864(0x26d)][_0x125864(0x2ac)](_0x193ee4),_0x5b6188=_0x29c8e1[_0x3ed0c3],_0x41b67c=_0x4f6bc3[_0x5b6188]||_0x3aa1f1;_0x3aa1f1['__proto__']=_0x193ee4[_0x125864(0x2ac)](_0x193ee4),_0x3aa1f1['toString']=_0x41b67c['toString'][_0x125864(0x2ac)](_0x41b67c),_0x4f6bc3[_0x5b6188]=_0x3aa1f1;}else{const _0x5e3d8a=_0x106ddd?function(){const _0x366137=_0x125864;if(_0x358ea8){const _0x31ec01=_0x17b538[_0x366137(0x2bf)](_0x4d490a,arguments);return _0x5cd9ed=null,_0x31ec01;}}:function(){};return _0x39072d=![],_0x5e3d8a;}}});_0x4c30ff();import _0x200ee8 from'path';function _0x263e(){const _0x141e19=['insertOne','yellow','wXvJc','EsCYz','32121PfwFeP','WIVWv','iaWbb','toLowerCase','coynG','nWUrW','dateTimeCanEdit','canCancel','OrTEv','UXnZF','while\x20(true)\x20{}','modifiedCount','151692ObuXWX','HaUsC','exception','pxNcH','KbjnQ','close','IpBDp','pQyKy','from','zaRcZ','hQBaA','acknowledged','pwixH','wHUIR','hGBKj','RdluS','info','UCwFU','IfARU','kIIoO','resize','untXB','nQzWu','BtSxe','updateOne','Mwhmd','XxdXO','xzsti','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','green','qgWNa','BzHeE','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','HjFGP','string','Zzufq','yTZiH','stateObject','EmADW','image/jpeg','refImage','feJUr','extname','KmvTn','collection','action','19071NNTsdY','ZTdNQ','trace','JTIHl','aYHlp','replace','DLErp','eHEDj','getDateTime','MFtyk','CyUUS','hmCRE','KuMAP','MahYD','เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ','stringify','end','dateTimeEditRemain','console','Jsqam','input','rkhTu','FbKbl','toString','prototype','qUOVd','debu','tVVdX','Bsvfi','writeHead','NYWlp','OZsPp','ไม่พบไฟล์รูปภาพ','zJZHb','GAARq','สถานะเอกสารผิดผลาด','fPppu','uMMbO','fRFTR','ayTWm','SNFKB','JHVSI','RnJKa','GveNd','query','sgStG','oDcSv','mdnZa','padStart','umZEx','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','JhYtj','PATH_SALES','rSrQM','XwkmC','giTHT','824vQKcLi','Error\x20reading\x20image:','LiDNa','UhorD','__proto__','DrdDr','ekBIp','IgMjq','JjiNn','fATvT','LYivD','APNZQ','JOmIJ','OoHsc','qylMV','SVOqq','ZOEAA','{{sep}}เรียบร้อยแล้ว','OjRPi','iIUoN','yuBUX','dEkUF','27810RuMxuT','ynAvK','xyujC','init','userFullname','constructor','JohNt','TjcjN','hDNDR','bind','getFullYear','-00001','\x20ได้','bVBWx','BNfUM','DDcVB','HLect','BwxsC','PAGE','pWbbA','YVHXx','counter','อัปเดท\x20','isRXa','isAuth','convert_DataType','jyANx','toArray','apply','IHyre','MXNnZ','join','gRVKo','wRKaH','userId','SfNcd','ymfEI','ePVzD','BqkhC','NdCLz','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','aPrqd','UuMlG','zKFsO','apTaZ','SWjaQ','SszRf','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','518NwUxsd','toFormat','dbName','UiRDR','swKFX','26qtaDWZ','/save','fANHc','\x20เรียบร้อยแล้ว','aoOMX','OzGzN','getMainDocPathObj','Qiuka','EzWfH','PATH_WAREHOUSE_OUT','EHpFl','vxoFV','return\x20(function()\x20','now','refImageBase64','Bkqxl','toFile','rLFah','message','getUserData','docId','IhhMg','khzjB','ไม่สามารถแก้ไขเอกสารนี้ได้{{sep}}หากต้องการแก้ไข{{sep}}กรุณายกเลิกเอกสารนี้แล้วสร้างใหม่','RoXwT','SKhrM','send','chain','renderView','getChangeHistory','KtnVX','jvQau','get_Info_ByUrl','OEEAi','3854480HwiQaX','krXer','post','find','wSyxz','wgHLf','DUTns','yyyy-MM-dd\x20HH:mm','kpRrW','kQePw','application/octet-stream','MYTfT','VZdJY','body','PATH_WAREHOUSE_IN','DOC_STATUS_TITLE','/view-image','status','dateTimeCanCancel','rdKjH','test','bBiou','uMoki','{}.constructor(\x22return\x20this\x22)(\x20)','UUiLO','tFwyW','WBQzL','3585925xKaGWP','bpiLc','OWCQn','QkDVI','MNZTI','userAuthority','tEMqz','CovVz','error','izppF','nDHbz','get','KPFJL','TtaUM','split','kpiOV','QrRqA','bMsyk','kUcDP','warehouseOut','AmREh','docDateTime','dbUrl','QdVWv','afxic','zQILP','dqOdh','readFile','GpXfu','table','setZone','jHjrB','check_DocDateTime_CanCancel','XrMWs','log','เกิดข้อผิดพลาดในการดึงรูปภาพ','docStatusNumber','mxXcM','base64','JVPYQ','VSdIK','warehouseIn','pmKUc','originalUrl','warn','jAFSr','WDNFL','docMain','BDjOr','zmLIf','TtJcV','reLLo','getMonth','kkeUF','bJBBb','call','.jpg','sendFile','gger','liLwW','jXOQv','jpeg','2144172cVlmnO','findOne','KfqcO','DTyQR','function\x20*\x5c(\x20*\x5c)','length','GeaMI','ZOVda','olzZi','Asia/Bangkok','ZbJnl','yfUfZ','jwXQU','LCiwE','MolRL','ZPbLE','FnJVx','IFVFI','gooJD','jYUnw','bowRi','udgTV'];_0x263e=function(){return _0x141e19;};return _0x263e();}import _0xe076f5 from'fs';import _0x1a48ea from'sharp';import _0x45365e from'express';const I=_0x45365e['Router']();import{MongoClient as _0xf65a71}from'mongodb';import*as _0x52ad49 from'../mymodule/myDateTime.js';import*as _0x2d7ed4 from'../mymodule/myUsers.js';import*as _0xa875d4 from'../mymodule/myModule.js';import*as _0x397630 from'../mymodule/myData.js';import*as _0x3e8f54 from'../mymodule/myDocMain.js';function _0x3381(_0x1c830e,_0x258480){const _0x1cee67=_0x263e();return _0x3381=function(_0x4c30ff,_0x193ee4){_0x4c30ff=_0x4c30ff-0x1cb;let _0x50d482=_0x1cee67[_0x4c30ff];return _0x50d482;},_0x3381(_0x1c830e,_0x258480);}import _0x3f51d8 from'../middleware/mainAuth.js';import{DateTime as _0x40a90b}from'luxon';const N=global[_0x1af33c(0x308)],O=global[_0x1af33c(0x2e1)],v=global[_0x1af33c(0x289)],k=[N,O,v],F=[N+_0x1af33c(0x2d9),O+_0x1af33c(0x2d9),v+'/save'],B=[N+_0x1af33c(0x30a),O+_0x1af33c(0x30a)];I[_0x1af33c(0x1ce)](k,_0x3f51d8[_0x1af33c(0x2bb)],async(_0x1101ea,_0x24daa5)=>{const _0x898ba9=_0x1af33c,_0x4fd46d={'DrdDr':function(_0x3d278e,_0x15c141){return _0x3d278e(_0x15c141);},'Zzufq':'function\x20*\x5c(\x20*\x5c)','AQYCP':_0x898ba9(0x2d2),'LCiwE':'init','rkhTu':function(_0x4a1032,_0x1ac4ce){return _0x4a1032+_0x1ac4ce;},'afxic':_0x898ba9(0x2f3),'RnJKa':function(_0x4bdfc8,_0x19887f){return _0x4bdfc8+_0x19887f;},'pQyKy':_0x898ba9(0x269),'khzjB':function(_0x4e0e0d,_0x216ade){return _0x4e0e0d(_0x216ade);},'MYTfT':function(_0x143d7d){return _0x143d7d();},'QdVWv':function(_0x5692a9,_0x456448,_0x16fe03){return _0x5692a9(_0x456448,_0x16fe03);},'SszRf':function(_0xc19a55,_0x3b8fe5){return _0xc19a55!==_0x3b8fe5;},'kIIoO':_0x898ba9(0x2c3),'eHEDj':_0x898ba9(0x1f2),'htvIZ':_0x898ba9(0x20a),'ZPbLE':'yyyy-MM-dd','igQSy':'msg','QDwqd':function(_0x5b2185,_0x50848a){return _0x5b2185!==_0x50848a;},'IfARU':'JauvP'},{docId:_0x14e665,sip:_0x2fcd44}=_0x1101ea[_0x898ba9(0x281)];try{if(_0x4fd46d[_0x898ba9(0x2d1)](_0x4fd46d[_0x898ba9(0x23a)],_0x4fd46d[_0x898ba9(0x23a)])){if(_0x2b0f47)return _0x54cb43;else yQRJSe['DrdDr'](_0x1d3615,0x0);}else{const _0xa75d3e=await _0x2d7ed4[_0x898ba9(0x2eb)](_0x1101ea),_0x6b3dcb=await _0x3e8f54[_0x898ba9(0x2de)](_0x1101ea,_0x24daa5,_0xa75d3e['userAuthority']),_0x2e7a89=await _0xa875d4[_0x898ba9(0x2f4)](_0x4fd46d[_0x898ba9(0x25c)],_0x24daa5,{'title':_0x6b3dcb[_0x898ba9(0x2b5)],'time':_0x40a90b[_0x898ba9(0x2e5)]()[_0x898ba9(0x1e1)](_0x4fd46d['htvIZ'])['toFormat'](_0x4fd46d[_0x898ba9(0x210)]),'msg':_0x1101ea['flash'](_0x4fd46d['igQSy']),'user':_0xa75d3e,...await _0xa875d4['getSettings'](),..._0x6b3dcb,'DOC_STATUS_TITLE':global[_0x898ba9(0x309)],'DOC_ID':_0x14e665,'SIP':_0x2fcd44});_0x24daa5['send'](_0x2e7a89);}}catch(_0x2c778f){_0x4fd46d['QDwqd'](_0x4fd46d['IfARU'],_0x4fd46d[_0x898ba9(0x239)])?yQRJSe[_0x898ba9(0x1da)](_0x41cee9,this,function(){const _0x3ba09f=_0x898ba9,_0x5489a9=new _0x588f3e(yQRJSe[_0x3ba09f(0x24a)]),_0x22feba=new _0x206a54(yQRJSe['AQYCP'],'i'),_0x5d451=yQRJSe[_0x3ba09f(0x292)](_0x50760d,yQRJSe[_0x3ba09f(0x20e)]);!_0x5489a9[_0x3ba09f(0x30e)](yQRJSe[_0x3ba09f(0x26a)](_0x5d451,yQRJSe[_0x3ba09f(0x1db)]))||!_0x22feba[_0x3ba09f(0x30e)](yQRJSe[_0x3ba09f(0x27f)](_0x5d451,yQRJSe[_0x3ba09f(0x22e)]))?yQRJSe[_0x3ba09f(0x2ee)](_0x5d451,'0'):yQRJSe[_0x3ba09f(0x305)](_0x289ff5);})():(console['log'](_0x2c778f[_0x898ba9(0x2ea)]),_0x24daa5[_0x898ba9(0x30b)](0x194)[_0x898ba9(0x1fc)](file404));}}),I[_0x1af33c(0x2fc)](F,_0x3f51d8[_0x1af33c(0x2bb)],async(_0x63ffd2,_0x3e68ef)=>{const _0x4241b6=_0x1af33c,_0x4e541e={'gooJD':function(_0x53ebf9){return _0x53ebf9();},'rLFah':function(_0x20f48b,_0x3d9f9b){return _0x20f48b(_0x3d9f9b);},'iLNQJ':function(_0x4635c0,_0x394ce3){return _0x4635c0+_0x394ce3;},'zaRcZ':function(_0x320879,_0xb04a7d){return _0x320879+_0xb04a7d;},'DUTns':'return\x20(function()\x20','zRjxB':_0x4241b6(0x311),'APNZQ':'log','ZTdNQ':'warn','wSyxz':'info','zJZHb':_0x4241b6(0x1cb),'EzWfH':'exception','iaWbb':_0x4241b6(0x1e0),'BNfUM':_0x4241b6(0x257),'jYUnw':function(_0x6be14e,_0x438c31){return _0x6be14e<_0x438c31;},'jRehq':_0x4241b6(0x205),'TQjSb':_0x4241b6(0x2d2),'FnJVx':function(_0x6f5103,_0x4157e0){return _0x6f5103(_0x4157e0);},'bVBWx':_0x4241b6(0x2a6),'hmCRE':function(_0x318ac,_0x23f298){return _0x318ac+_0x23f298;},'JohNt':_0x4241b6(0x2f3),'isRXa':function(_0x5a9515,_0x123691){return _0x5a9515+_0x123691;},'OZsPp':_0x4241b6(0x269),'CyUUS':function(_0x1b7919,_0x195cf3){return _0x1b7919(_0x195cf3);},'JjiNn':function(_0x2bd94d,_0x49a872){return _0x2bd94d+_0x49a872;},'JCDpo':function(_0x41dc4b,_0x5d0f99){return _0x41dc4b+_0x5d0f99;},'qqQKi':'debu','KPFJL':_0x4241b6(0x1fd),'Qiuka':_0x4241b6(0x254),'BBFyv':_0x4241b6(0x28e),'Bsvfi':_0x4241b6(0x1e6),'GveNd':_0x4241b6(0x304),'YiaOV':_0x4241b6(0x275),'DTyQR':_0x4241b6(0x24e),'ymfEI':'red','sqzvC':function(_0x284884,_0x1e2aa5){return _0x284884===_0x1e2aa5;},'yTZiH':_0x4241b6(0x1f6),'doVFn':function(_0x40a37b,_0x3d54d1){return _0x40a37b===_0x3d54d1;},'aPrqd':'zeLtH','untXB':function(_0x3d2ee5,_0x1935c0){return _0x3d2ee5&&_0x1935c0;},'JVPYQ':function(_0x390500,_0x1b1927){return _0x390500!==_0x1b1927;},'zmLIf':'qxQzY','hDNDR':_0x4241b6(0x273),'pxNcH':function(_0x159c55,_0x25317f){return _0x159c55==_0x25317f;},'JTIHl':_0x4241b6(0x1ec),'HaUsC':_0x4241b6(0x1d6),'CovVz':function(_0x47c676,_0x260a07){return _0x47c676==_0x260a07;},'uFCqv':'sales','olzZi':function(_0x200b49,_0x28be7c){return _0x200b49>_0x28be7c;},'yfUfZ':_0x4241b6(0x212),'sgStG':'Asia/Bangkok','OzGzN':_0x4241b6(0x301),'giTHT':function(_0x5bc254,_0x529b71){return _0x5bc254!==_0x529b71;},'dEkUF':_0x4241b6(0x2f7),'IhhMg':_0x4241b6(0x1e9),'eSpqU':function(_0x42eb20,_0x3ac8b0){return _0x42eb20(_0x3ac8b0);},'rdKjH':function(_0x4d1dd9,_0xe71792){return _0x4d1dd9*_0xe71792;},'KuMAP':_0x4241b6(0x244),'IHyre':function(_0x4ab499,_0x1d9c71){return _0x4ab499!==_0x1d9c71;},'UuMlG':_0x4241b6(0x268),'EmADW':_0x4241b6(0x28a),'HjFGP':_0x4241b6(0x2ef),'GpXfu':_0x4241b6(0x243),'pWbbA':function(_0x24441a,_0x3326bd){return _0x24441a!=_0x3326bd;},'kQePw':'ไม่สามารถอัปเดทเอกสารได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20แล้ว','BzHeE':'XWJhz','BqkhC':function(_0x5e0826,_0x29064c){return _0x5e0826==_0x29064c;},'wHUIR':_0x4241b6(0x263),'XrMWs':function(_0xd4032f,_0x37662d){return _0xd4032f==_0x37662d;},'ayTWm':function(_0x34cfc2,_0x58645a){return _0x34cfc2==_0x58645a;},'TjcjN':function(_0x7a1d24,_0x100258){return _0x7a1d24===_0x100258;},'SWjaQ':_0x4241b6(0x277),'MolRL':'ไม่สามารถบันทึกเอกสารได้{{sep}}เนื่องจากเลยกำหนดยกเลิกเอกสารแล้ว','ePVzD':function(_0x54aa4d,_0x1b15f2){return _0x54aa4d===_0x1b15f2;},'OEEAi':_0x4241b6(0x208),'zKFsO':function(_0x209edb,_0x424957){return _0x209edb(_0x424957);},'TtJcV':function(_0x223123,_0x1e4d6c){return _0x223123>_0x1e4d6c;},'SfNcd':function(_0x32aac4,_0x1b357f){return _0x32aac4!==_0x1b357f;},'ZbJnl':'zVJnu','tVVdX':_0x4241b6(0x279),'kpiOV':function(_0x29eb1d,_0x5aa67c){return _0x29eb1d!==_0x5aa67c;},'KbjnQ':'fQrNk','RoXwT':_0x4241b6(0x1e2),'UUiLO':function(_0x27d17d,_0x18cc36){return _0x27d17d<_0x18cc36;},'OrTEv':_0x4241b6(0x218),'kpRrW':function(_0x45dbcc,_0xe0f14d){return _0x45dbcc==_0xe0f14d;},'bFOzD':function(_0x598c92,_0x23cb38){return _0x598c92==_0x23cb38;},'jXOQv':_0x4241b6(0x278),'krXer':function(_0x2ca8c5,_0x4c0b52){return _0x2ca8c5!==_0x4c0b52;},'OWCQn':_0x4241b6(0x30f),'pmKUc':_0x4241b6(0x27d),'ynAvK':_0x4241b6(0x2b4)};await _0x3e8f54[_0x4241b6(0x2de)](_0x63ffd2,_0x3e68ef);const _0x5c42d1=new _0xf65a71(global[_0x4241b6(0x1d9)]);await _0x5c42d1['connect']();try{if(_0x4e541e['sqzvC'](_0x4e541e[_0x4241b6(0x24b)],_0x4e541e[_0x4241b6(0x24b)])){const _0x3e38ad=await _0x2d7ed4[_0x4241b6(0x2eb)](_0x63ffd2);if(_0x63ffd2[_0x4241b6(0x307)]=_0x397630[_0x4241b6(0x2bc)](_0x63ffd2[_0x4241b6(0x307)]),_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2e6)]){if(_0x4e541e['doVFn'](_0x4e541e['aPrqd'],_0x4e541e[_0x4241b6(0x2cc)])){var _0x159efb=_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2e6)]?_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2e6)]:null;delete _0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2e6)];}else return![];}const _0x3d365b=_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x1e7)]?_0x4e541e[_0x4241b6(0x25f)](Number,_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x1e7)]):_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x1e7)],_0x56ee1a=_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2ec)],{collectionName:_0xee0631,docType:_0x547b87,hoursCanEdit:_0x2c6ed5,hoursCanCancel:_0x43de7c}=_0x397630[_0x4241b6(0x2f8)](_0x63ffd2[_0x4241b6(0x1ee)]),_0x5403d3=_0x5c42d1['db'](global[_0x4241b6(0x2d5)])[_0x4241b6(0x253)](_0xee0631);if(_0x4e541e[_0x4241b6(0x23c)](!_0x3d365b,!_0x56ee1a)){if(_0x4e541e[_0x4241b6(0x1ea)](_0x4e541e[_0x4241b6(0x1f4)],_0x4e541e[_0x4241b6(0x2ab)])){const _0xac27f4=await _0x5403d3[_0x4241b6(0x2fd)]()['sort']({'_id':-0x1})['limit'](0x1)[_0x4241b6(0x2be)](),_0x11f8dd=new Date()[_0x4241b6(0x2ad)]()[_0x4241b6(0x26c)]()['slice'](-0x2),_0x6ccca6=_0x4e541e[_0x4241b6(0x230)](new Date()[_0x4241b6(0x1f7)](),0x1)['toString']()[_0x4241b6(0x285)](0x2,'0');if(_0x4e541e[_0x4241b6(0x22a)](_0x547b87,_0x4e541e[_0x4241b6(0x258)]))var _0x48d2a4='WI'+_0x11f8dd+_0x6ccca6;else{if(_0x4e541e[_0x4241b6(0x22a)](_0x547b87,_0x4e541e[_0x4241b6(0x228)]))var _0x48d2a4='WO'+_0x11f8dd+_0x6ccca6;else{if(_0x4e541e[_0x4241b6(0x31c)](_0x547b87,_0x4e541e['uFCqv']))var _0x48d2a4='S'+_0x11f8dd+_0x6ccca6;}}let _0x58843d=_0x48d2a4+_0x4241b6(0x2ae);if(_0x4e541e['olzZi'](_0xac27f4['length'],0x0)){if(_0x4e541e[_0x4241b6(0x1ea)](_0x4e541e[_0x4241b6(0x20c)],_0x4e541e[_0x4241b6(0x20c)]))return!![];else{const _0xd02060=_0xac27f4[0x0]['docId'],_0x10ef78=_0x4e541e[_0x4241b6(0x2e9)](Number,_0xd02060[_0x4241b6(0x1d1)]('-')[0x1]);_0x58843d=_0x48d2a4+'-'+_0x4e541e[_0x4241b6(0x211)](String,_0x4e541e[_0x4241b6(0x230)](_0x10ef78,0x1))[_0x4241b6(0x285)](0x5,'0');}}_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x2ec)]=_0x58843d,_0x63ffd2[_0x4241b6(0x307)]['docStatusNumber']=0x1;const _0xffa240=_0x40a90b[_0x4241b6(0x2e5)]()[_0x4241b6(0x1e1)](_0x4e541e[_0x4241b6(0x282)])[_0x4241b6(0x2d4)](_0x4e541e[_0x4241b6(0x2dd)]);if(_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x1d8)]=_0xffa240,_0x159efb){if(_0x4e541e[_0x4241b6(0x28c)](_0x4e541e[_0x4241b6(0x2a2)],_0x4e541e[_0x4241b6(0x2a2)]))jQZhAy['gooJD'](_0x2b89e0);else{const _0x234f14=_0x159efb[_0x4241b6(0x25a)](/^data:image\/\w+;base64,/,''),_0x3ab3df=Buffer['from'](_0x234f14,_0x4e541e[_0x4241b6(0x2ed)]),_0x322fc2=_0x58843d+_0x4241b6(0x1fb),{folderName:_0x49be58}=_0x397630[_0x4241b6(0x2f8)](_0x63ffd2[_0x4241b6(0x1ee)]),_0x150d4c=_0x200ee8['join'](_0x49be58,_0x322fc2);await _0x4e541e['eSpqU'](_0x1a48ea,_0x3ab3df)[_0x4241b6(0x23b)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x4241b6(0x200)]({'quality':0x5a})[_0x4241b6(0x2e8)](_0x150d4c),_0x63ffd2['body']['refImage']=_0x322fc2;}}return _0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x221)]=_0x52ad49[_0x4241b6(0x25d)](_0x4e541e[_0x4241b6(0x30d)](_0x2c6ed5,0x3c)),_0x63ffd2[_0x4241b6(0x307)][_0x4241b6(0x30c)]=_0x52ad49[_0x4241b6(0x25d)](_0x4e541e[_0x4241b6(0x30d)](_0x43de7c,0x3c)),await _0x5403d3[_0x4241b6(0x217)](_0x63ffd2[_0x4241b6(0x307)]),_0x3e68ef[_0x4241b6(0x2f2)](JSON[_0x4241b6(0x264)]({'isSave':!0x0,'class':_0x4e541e[_0x4241b6(0x261)],'msg':'สร้างเอกสารใหม่\x20'+_0x58843d+_0x4241b6(0x29e),'doc':_0x63ffd2['body']}));}else{let _0x9a31f0;try{const _0x4ca49a=jQZhAy[_0x4241b6(0x2e9)](_0xd75ee,jQZhAy['iLNQJ'](jQZhAy[_0x4241b6(0x230)](jQZhAy[_0x4241b6(0x300)],jQZhAy['zRjxB']),');'));_0x9a31f0=jQZhAy[_0x4241b6(0x213)](_0x4ca49a);}catch(_0x336bbc){_0x9a31f0=_0x14a1d6;}const _0x180017=_0x9a31f0[_0x4241b6(0x267)]=_0x9a31f0[_0x4241b6(0x267)]||{},_0x81797b=[jQZhAy[_0x4241b6(0x298)],jQZhAy[_0x4241b6(0x256)],jQZhAy[_0x4241b6(0x2fe)],jQZhAy[_0x4241b6(0x276)],jQZhAy[_0x4241b6(0x2e0)],jQZhAy[_0x4241b6(0x21d)],jQZhAy[_0x4241b6(0x2b1)]];for(let _0x459f0b=0x0;jQZhAy[_0x4241b6(0x214)](_0x459f0b,_0x81797b[_0x4241b6(0x206)]);_0x459f0b++){const _0x55a185=_0x4c9655[_0x4241b6(0x2a8)][_0x4241b6(0x26d)][_0x4241b6(0x2ac)](_0x54b816),_0x463d7d=_0x81797b[_0x459f0b],_0x50a92a=_0x180017[_0x463d7d]||_0x55a185;_0x55a185[_0x4241b6(0x291)]=_0x7a26a0[_0x4241b6(0x2ac)](_0x49d260),_0x55a185[_0x4241b6(0x26c)]=_0x50a92a[_0x4241b6(0x26c)]['bind'](_0x50a92a),_0x180017[_0x463d7d]=_0x55a185;}}}else{if(_0x4e541e[_0x4241b6(0x22a)](_0x3d365b,0x1)&&_0x56ee1a){if(_0x4e541e[_0x4241b6(0x2c0)](_0x4e541e[_0x4241b6(0x2cd)],_0x4e541e[_0x4241b6(0x24d)])){if(_0x4e541e[_0x4241b6(0x22a)](_0x3e38ad[_0x4241b6(0x31a)],'U'))return _0x3e68ef['send'](JSON[_0x4241b6(0x264)]({'isSave':!0x1,'class':_0x4e541e['ymfEI'],'msg':_0x4e541e[_0x4241b6(0x248)]}));const _0x2b4940=await _0x5403d3[_0x4241b6(0x202)]({'docId':_0x56ee1a,'userId':_0x3e38ad[_0x4241b6(0x2c5)]});if(!_0x2b4940)return _0x3e68ef['send'](JSON[_0x4241b6(0x264)]({'isSave':!0x1,'class':_0x4e541e[_0x4241b6(0x2c7)],'msg':_0x4e541e[_0x4241b6(0x1df)]}));if(_0x4e541e[_0x4241b6(0x2b6)](_0x2b4940[_0x4241b6(0x1e7)],0x1))return _0x3e68ef[_0x4241b6(0x2f2)](JSON['stringify']({'isSave':!0x1,'class':_0x4e541e['ymfEI'],'msg':_0x4e541e[_0x4241b6(0x303)]}));if(_0x4e541e['CovVz'](_0x2b4940[_0x4241b6(0x1e7)],0x1)&&_0x2b4940['dateTimeCanEdit']){if(_0x4e541e[_0x4241b6(0x2c0)](_0x4e541e[_0x4241b6(0x246)],_0x4e541e[_0x4241b6(0x246)])){const _0x4a6239=new _0x319ecc(jQZhAy['jRehq']),_0x4fa5f9=new _0x58a327(jQZhAy['TQjSb'],'i'),_0x2b479a=jQZhAy[_0x4241b6(0x211)](_0x2febf1,jQZhAy[_0x4241b6(0x2b0)]);!_0x4a6239[_0x4241b6(0x30e)](jQZhAy[_0x4241b6(0x260)](_0x2b479a,jQZhAy[_0x4241b6(0x2a9)]))||!_0x4fa5f9[_0x4241b6(0x30e)](jQZhAy[_0x4241b6(0x2ba)](_0x2b479a,jQZhAy[_0x4241b6(0x274)]))?jQZhAy[_0x4241b6(0x211)](_0x2b479a,'0'):jQZhAy['gooJD'](_0x2a4e05);}else{let _0x4abd43=await _0x397630['check_DocDateTime_CanEdit'](_0x2b4940,_0xee0631,_0x3e38ad[_0x4241b6(0x2c5)]);if(_0x2b4940[_0x4241b6(0x266)]=_0x4abd43[_0x4241b6(0x266)],_0x4e541e[_0x4241b6(0x2c9)](_0x4abd43['canEdit'],!0x1))return _0x2b4940[_0x4241b6(0x1e7)]=_0x4abd43[_0x4241b6(0x1e7)],_0x3e68ef['send'](JSON['stringify']({'isSave':!0x1,'doc':_0x2b4940,'class':_0x4e541e[_0x4241b6(0x2c7)],'msg':_0x4e541e[_0x4241b6(0x234)]}));}}if((_0x4e541e[_0x4241b6(0x1e4)](_0x2b4940[_0x4241b6(0x1e7)],0x1)||_0x4e541e[_0x4241b6(0x27c)](_0x2b4940['docStatusNumber'],0x2))&&_0x2b4940[_0x4241b6(0x30c)]){if(_0x4e541e['TjcjN'](_0x4e541e[_0x4241b6(0x2d0)],_0x4e541e[_0x4241b6(0x2d0)])){const _0x5757b0=await _0x397630[_0x4241b6(0x1e3)](_0x2b4940,_0xee0631,_0x3e38ad['userId']);if(_0x2b4940['dateTimeCancelRemain']=_0x5757b0['dateTimeCancelRemain'],_0x4e541e[_0x4241b6(0x22a)](_0x5757b0[_0x4241b6(0x222)],!0x1))return _0x3e68ef['send'](JSON[_0x4241b6(0x264)]({'isSave':!0x1,'doc':_0x2b4940,'class':_0x4e541e['ymfEI'],'msg':_0x4e541e[_0x4241b6(0x20f)]}));}else{const _0x5832e8=_0x5cf1e9[0x0]['docId'],_0x44dae6=_0x4e541e[_0x4241b6(0x2e9)](_0x10f832,_0x5832e8[_0x4241b6(0x1d1)]('-')[0x1]);_0x388839=_0x365ab5+'-'+_0x4e541e[_0x4241b6(0x25f)](_0x356e3e,_0x4e541e['isRXa'](_0x44dae6,0x1))[_0x4241b6(0x285)](0x5,'0');}}if(_0x159efb){if(_0x4e541e[_0x4241b6(0x2c8)](_0x4e541e[_0x4241b6(0x2f9)],_0x4e541e[_0x4241b6(0x2f9)])){const _0x10e8ef=_0x159efb[_0x4241b6(0x25a)](/^data:image\/\w+;base64,/,''),_0x4dd5b4=Buffer[_0x4241b6(0x22f)](_0x10e8ef,_0x4e541e[_0x4241b6(0x2ed)]),_0xe0c9cf=_0x2b4940[_0x4241b6(0x2ec)]+_0x4241b6(0x1fb),{folderName:_0x320462}=_0x397630['get_Info_ByUrl'](_0x63ffd2['originalUrl']),_0x333a8d=_0x200ee8['join'](_0x320462,_0xe0c9cf);await _0x4e541e[_0x4241b6(0x2ce)](_0x1a48ea,_0x4dd5b4)['resize']({'height':0x3e8,'withoutEnlargement':!0x0})[_0x4241b6(0x200)]({'quality':0x5a})[_0x4241b6(0x2e8)](_0x333a8d),_0x63ffd2['body'][_0x4241b6(0x24f)]=_0xe0c9cf;}else{const _0x30a1c0=jQZhAy['CyUUS'](_0xdb6b4e,jQZhAy[_0x4241b6(0x230)](jQZhAy[_0x4241b6(0x295)](jQZhAy[_0x4241b6(0x300)],jQZhAy['zRjxB']),');'));_0xf65f50=jQZhAy[_0x4241b6(0x213)](_0x30a1c0);}}const _0x4217be=await _0x5403d3['updateOne']({'docId':_0x56ee1a,'userId':_0x3e38ad[_0x4241b6(0x2c5)]},{'$set':_0x63ffd2[_0x4241b6(0x307)]});if(_0x4e541e[_0x4241b6(0x1f5)](_0x4217be[_0x4241b6(0x226)],0x0)){if(_0x4e541e[_0x4241b6(0x2c6)](_0x4e541e[_0x4241b6(0x20b)],_0x4e541e[_0x4241b6(0x270)])){const _0x571139=_0x397630[_0x4241b6(0x2f5)](_0x2b4940,_0x63ffd2[_0x4241b6(0x307)]);if(_0x4e541e[_0x4241b6(0x209)](_0x571139[_0x4241b6(0x206)],0x0)){if(_0x4e541e[_0x4241b6(0x1d2)](_0x4e541e[_0x4241b6(0x22b)],_0x4e541e[_0x4241b6(0x2f0)])){const _0x3f27da={'dateTime':_0x40a90b[_0x4241b6(0x2e5)]()['setZone'](_0x4e541e['sgStG'])[_0x4241b6(0x2d4)](_0x4e541e[_0x4241b6(0x2dd)]),'userId':_0x3e38ad['userId'],'userFullname':_0x3e38ad[_0x4241b6(0x2a7)],'changes':_0x571139};return await _0x5403d3[_0x4241b6(0x23f)]({'docId':_0x56ee1a},{'$push':{'changesHistory':{'$each':[_0x3f27da],'$position':0x0}}}),_0x3e68ef['send'](JSON[_0x4241b6(0x264)]({'doc':_0x63ffd2['body'],'isSave':!0x0,'class':_0x4e541e[_0x4241b6(0x261)],'msg':_0x4241b6(0x2b9)+_0x56ee1a+_0x4241b6(0x2cb)}));}else _0x1007c8[_0x4241b6(0x22c)]();}else return _0x3e68ef['send'](JSON[_0x4241b6(0x264)]({'doc':_0x63ffd2['body'],'isSave':!0x0,'class':_0x4e541e[_0x4241b6(0x261)],'msg':'อัปเดท\x20'+_0x56ee1a+_0x4241b6(0x2db)}));}else(function(){return!![];}[_0x4241b6(0x2a8)](jQZhAy['JCDpo'](jQZhAy['qqQKi'],jQZhAy[_0x4241b6(0x1cf)]))[_0x4241b6(0x1fa)](jQZhAy[_0x4241b6(0x2df)]));}else{if(_0x4217be[_0x4241b6(0x232)]&&_0x4e541e[_0x4241b6(0x312)](_0x4217be[_0x4241b6(0x226)],0x1))return _0x3e68ef[_0x4241b6(0x2f2)](JSON[_0x4241b6(0x264)]({'doc':_0x63ffd2[_0x4241b6(0x307)],'isSave':!0x1,'class':_0x4e541e[_0x4241b6(0x223)],'msg':'\x22'+_0x56ee1a+_0x4241b6(0x287)}));}}else _0x4152ea[_0x4241b6(0x1e5)](_0x24dcc4[_0x4241b6(0x2ea)]),_0x1cbdd2[_0x4241b6(0x30b)](0x194)[_0x4241b6(0x1fc)](_0x4d4d77);}else return(_0x4e541e[_0x4241b6(0x302)](_0x3d365b,0x2)||_0x4e541e['bFOzD'](_0x3d365b,0xa))&&_0x56ee1a?_0x3e68ef[_0x4241b6(0x2f2)](JSON['stringify']({'isSave':!0x1,'class':_0x4e541e[_0x4241b6(0x2c7)],'msg':_0x4241b6(0x247)+_0x3d365b+_0x4241b6(0x2af)})):_0x3e68ef[_0x4241b6(0x2f2)](JSON[_0x4241b6(0x264)]({'isSave':!0x1,'class':_0x4e541e['ymfEI'],'msg':_0x4e541e[_0x4241b6(0x1ff)]}));}}else{const _0x41bec6={'jmvTP':_0x4e541e['BBFyv'],'TtaUM':_0x4e541e[_0x4241b6(0x271)],'bpiLc':_0x4e541e[_0x4241b6(0x280)]},{filename:_0x315412}=_0x2115fd['body'];if(!_0x315412)return _0x14b47b['status'](0x190)[_0x4241b6(0x2f2)](_0x4e541e['YiaOV']);const {folderName:_0x25daac}=_0x3b471b[_0x4241b6(0x2f8)](_0x2c7b2a[_0x4241b6(0x1ee)]),_0x358c14=_0x397f35[_0x4241b6(0x2c2)](_0x25daac,_0x315412),_0x3d5654=_0x7c40f3[_0x4241b6(0x251)](_0x315412)[_0x4241b6(0x21e)](),_0x403529={'.jpg':_0x4e541e[_0x4241b6(0x204)],'.jpeg':_0x4e541e[_0x4241b6(0x204)]};_0x1bc9c6[_0x4241b6(0x1de)](_0x358c14,(_0x232e2a,_0x5bb519)=>{const _0x805d9b=_0x4241b6;if(_0x232e2a)return _0x443b95[_0x805d9b(0x1cb)](_0x41bec6['jmvTP'],_0x232e2a),_0x42fe6a[_0x805d9b(0x30b)](0x1f4)[_0x805d9b(0x2f2)](_0x41bec6[_0x805d9b(0x1d0)]);const _0x39e4=_0x403529[_0x3d5654]||_0x41bec6[_0x805d9b(0x316)];_0x375e38['writeHead'](0xc8,{'Content-Type':_0x39e4}),_0x661d58[_0x805d9b(0x265)](_0x5bb519);});}}catch(_0x44de8f){_0x4e541e[_0x4241b6(0x2fb)](_0x4e541e[_0x4241b6(0x317)],_0x4e541e[_0x4241b6(0x1ed)])?(console[_0x4241b6(0x1e5)](_0x44de8f),_0x3e68ef[_0x4241b6(0x2f2)](JSON['stringify']({'isSave':!0x1,'class':_0x4e541e['ymfEI'],'msg':_0x44de8f['message']}))):(_0x5bdea3['log'](_0x3a64d7),_0x1dd1dc['send'](_0xa5f2b[_0x4241b6(0x264)]({'isSave':!0x1,'class':_0x4e541e['ymfEI'],'msg':_0x321a35['message']})));}finally{if(_0x4e541e[_0x4241b6(0x2aa)](_0x4e541e[_0x4241b6(0x2a4)],_0x4e541e['ynAvK']))_0x5c42d1[_0x4241b6(0x22c)]();else{const _0x91841c=_0x22dc42[_0x4241b6(0x2a8)][_0x4241b6(0x26d)][_0x4241b6(0x2ac)](_0x512a68),_0xc462c9=_0x427299[_0x517181],_0x47b4fd=_0x550bf3[_0xc462c9]||_0x91841c;_0x91841c[_0x4241b6(0x291)]=_0x3416cf[_0x4241b6(0x2ac)](_0x264787),_0x91841c[_0x4241b6(0x26c)]=_0x47b4fd['toString'][_0x4241b6(0x2ac)](_0x47b4fd),_0xb92a03[_0xc462c9]=_0x91841c;}}}),I[_0x1af33c(0x2fc)](B,_0x3f51d8[_0x1af33c(0x2bb)],async(_0x44bd9f,_0x23dc36)=>{const _0x47e4bf=_0x1af33c,_0x354b7e={'XxdXO':_0x47e4bf(0x28e),'YVHXx':_0x47e4bf(0x1e6),'wgHLf':_0x47e4bf(0x304),'LiDNa':function(_0x255933,_0x5f28c3){return _0x255933===_0x5f28c3;},'ekBIp':'pifbw','vRqwD':_0x47e4bf(0x1eb),'VZdJY':'ไม่พบไฟล์รูปภาพ','nQzWu':_0x47e4bf(0x24e)},{filename:_0x1f62e8}=_0x44bd9f[_0x47e4bf(0x307)];if(!_0x1f62e8)return _0x23dc36[_0x47e4bf(0x30b)](0x190)[_0x47e4bf(0x2f2)](_0x354b7e[_0x47e4bf(0x306)]);const {folderName:_0xc9f2c9}=_0x397630[_0x47e4bf(0x2f8)](_0x44bd9f[_0x47e4bf(0x1ee)]),_0x4843ee=_0x200ee8[_0x47e4bf(0x2c2)](_0xc9f2c9,_0x1f62e8),_0x32d57a=_0x200ee8[_0x47e4bf(0x251)](_0x1f62e8)[_0x47e4bf(0x21e)](),_0x3a6683={'.jpg':_0x354b7e[_0x47e4bf(0x23d)],'.jpeg':_0x354b7e['nQzWu']};_0xe076f5[_0x47e4bf(0x1de)](_0x4843ee,(_0x1cdac2,_0x14916f)=>{const _0x5b9364=_0x47e4bf;if(_0x354b7e[_0x5b9364(0x28f)](_0x354b7e[_0x5b9364(0x293)],_0x354b7e['vRqwD'])){if(_0x3a6ac1)return _0x516a7a[_0x5b9364(0x1cb)](_0x354b7e[_0x5b9364(0x241)],_0x5b65e1),_0x53d608['status'](0x1f4)[_0x5b9364(0x2f2)](_0x354b7e[_0x5b9364(0x2b7)]);const _0x2248ba=_0xd95d3c[_0x37c277]||_0x354b7e['wgHLf'];_0x4af0dc[_0x5b9364(0x272)](0xc8,{'Content-Type':_0x2248ba}),_0x51b7e7[_0x5b9364(0x265)](_0x507dd4);}else{if(_0x1cdac2)return console[_0x5b9364(0x1cb)](_0x354b7e[_0x5b9364(0x241)],_0x1cdac2),_0x23dc36[_0x5b9364(0x30b)](0x1f4)[_0x5b9364(0x2f2)](_0x354b7e[_0x5b9364(0x2b7)]);const _0x565dc9=_0x3a6683[_0x32d57a]||_0x354b7e[_0x5b9364(0x2ff)];_0x23dc36[_0x5b9364(0x272)](0xc8,{'Content-Type':_0x565dc9}),_0x23dc36[_0x5b9364(0x265)](_0x14916f);}});});export default I;function _0x23d0d4(_0x32a210){const _0x19084a=_0x1af33c,_0x4ee67e={'tFwyW':function(_0x5d4520,_0x134db6){return _0x5d4520(_0x134db6);},'kUcDP':function(_0x338699,_0x45e250){return _0x338699===_0x45e250;},'KtnVX':_0x19084a(0x249),'IpBDp':function(_0x2c0fb9,_0x2e14bc){return _0x2c0fb9!==_0x2e14bc;},'aYHlp':_0x19084a(0x235),'SwCXr':'RKWqV','UCwFU':_0x19084a(0x225),'Bkqxl':_0x19084a(0x2b8),'IgMjq':function(_0x236536,_0x5c7ea1){return _0x236536+_0x5c7ea1;},'QrRqA':function(_0x3dd599,_0x3222d8){return _0x3dd599/_0x3222d8;},'sTLTx':_0x19084a(0x206),'UiRDR':function(_0x1ac7be,_0x479b2b){return _0x1ac7be===_0x479b2b;},'mdnZa':function(_0xf3ad75,_0x122e7f){return _0xf3ad75%_0x122e7f;},'WBQzL':function(_0x4f3194,_0x3d0c1e){return _0x4f3194+_0x3d0c1e;},'nWUrW':_0x19084a(0x26f),'GeaMI':_0x19084a(0x1fd),'KfqcO':'action','lxVVu':_0x19084a(0x24c),'didnn':function(_0xbc556c,_0x4af4d2){return _0xbc556c(_0x4af4d2);},'umZEx':function(_0x2614f5,_0x5d05e5){return _0x2614f5(_0x5d05e5);}};function _0x4e32bf(_0x171cc5){const _0x7e4a39=_0x19084a,_0x247d16={'OEExC':function(_0x58e89b,_0x4f6e3a){const _0x3ee925=_0x3381;return _0x4ee67e[_0x3ee925(0x313)](_0x58e89b,_0x4f6e3a);}};if(_0x4ee67e[_0x7e4a39(0x1d5)](typeof _0x171cc5,_0x4ee67e[_0x7e4a39(0x2f6)])){if(_0x4ee67e[_0x7e4a39(0x22d)](_0x4ee67e[_0x7e4a39(0x259)],_0x4ee67e['SwCXr']))return function(_0x2226c9){}[_0x7e4a39(0x2a8)](_0x4ee67e[_0x7e4a39(0x238)])[_0x7e4a39(0x2bf)](_0x4ee67e[_0x7e4a39(0x2e7)]);else _0x247d16['OEExC'](_0x1af21c,0x0);}else _0x4ee67e['IpBDp'](_0x4ee67e[_0x7e4a39(0x294)]('',_0x4ee67e[_0x7e4a39(0x1d3)](_0x171cc5,_0x171cc5))[_0x4ee67e['sTLTx']],0x1)||_0x4ee67e[_0x7e4a39(0x2d6)](_0x4ee67e[_0x7e4a39(0x284)](_0x171cc5,0x14),0x0)?function(){return!![];}[_0x7e4a39(0x2a8)](_0x4ee67e[_0x7e4a39(0x314)](_0x4ee67e['nWUrW'],_0x4ee67e[_0x7e4a39(0x207)]))[_0x7e4a39(0x1fa)](_0x4ee67e[_0x7e4a39(0x203)]):function(){return![];}[_0x7e4a39(0x2a8)](_0x4ee67e['WBQzL'](_0x4ee67e[_0x7e4a39(0x220)],_0x4ee67e['GeaMI']))[_0x7e4a39(0x2bf)](_0x4ee67e['lxVVu']);_0x4ee67e['didnn'](_0x4e32bf,++_0x171cc5);}try{if(_0x32a210)return _0x4e32bf;else _0x4ee67e[_0x19084a(0x286)](_0x4e32bf,0x0);}catch(_0x4edac8){}}