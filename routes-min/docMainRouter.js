const _0x1ec636=_0x49fc;(function(_0x47447d,_0x4c3514){const _0x29f676=_0x49fc,_0x71d12f=_0x47447d();while(!![]){try{const _0x5e8703=-parseInt(_0x29f676(0x288))/0x1*(parseInt(_0x29f676(0x2f8))/0x2)+-parseInt(_0x29f676(0x262))/0x3+-parseInt(_0x29f676(0x2a4))/0x4+-parseInt(_0x29f676(0x31c))/0x5+-parseInt(_0x29f676(0x20c))/0x6*(parseInt(_0x29f676(0x29a))/0x7)+parseInt(_0x29f676(0x234))/0x8+-parseInt(_0x29f676(0x322))/0x9*(-parseInt(_0x29f676(0x25e))/0xa);if(_0x5e8703===_0x4c3514)break;else _0x71d12f['push'](_0x71d12f['shift']());}catch(_0x5bf902){_0x71d12f['push'](_0x71d12f['shift']());}}}(_0x3e2c,0x1946a));const _0xe085b7=(function(){const _0x2ee9f6=_0x49fc,_0x12e9d7={'aqqxK':function(_0x5dfd50,_0x1d60e1){return _0x5dfd50(_0x1d60e1);},'etrnr':function(_0x407131,_0x432126){return _0x407131!==_0x432126;},'EpqlI':_0x2ee9f6(0x313),'IPkLP':_0x2ee9f6(0x2fe),'wmraK':function(_0x16cd41,_0x5e70c7){return _0x16cd41===_0x5e70c7;},'SLefG':_0x2ee9f6(0x2fd),'qyvoR':_0x2ee9f6(0x2b2),'Wcrdy':_0x2ee9f6(0x27c)};let _0x4051d2=!![];return function(_0x246b33,_0x56f22c){const _0x4634dc=_0x2ee9f6,_0x146f7d={'QMpto':function(_0x4db4e5,_0x158f26){const _0x490108=_0x49fc;return _0x12e9d7[_0x490108(0x1ee)](_0x4db4e5,_0x158f26);},'ChycE':function(_0x4a74e1,_0x11872c){const _0x4d751b=_0x49fc;return _0x12e9d7[_0x4d751b(0x267)](_0x4a74e1,_0x11872c);},'WMkCo':_0x12e9d7[_0x4634dc(0x29c)],'GNXSF':_0x12e9d7['IPkLP'],'tQBJv':function(_0x267079,_0x4ada37){return _0x12e9d7['wmraK'](_0x267079,_0x4ada37);},'WoPmt':_0x12e9d7[_0x4634dc(0x26f)]};if(_0x12e9d7[_0x4634dc(0x267)](_0x12e9d7[_0x4634dc(0x309)],_0x12e9d7[_0x4634dc(0x21c)])){const _0x344f5b=_0x4051d2?function(){const _0x4e78c6=_0x4634dc;if(_0x146f7d['ChycE'](_0x146f7d[_0x4e78c6(0x21b)],_0x146f7d[_0x4e78c6(0x2b1)])){if(_0x56f22c){if(_0x146f7d[_0x4e78c6(0x310)](_0x146f7d[_0x4e78c6(0x326)],_0x146f7d['WoPmt'])){const _0x40a3fd=_0x56f22c[_0x4e78c6(0x33d)](_0x246b33,arguments);return _0x56f22c=null,_0x40a3fd;}else{if(_0x3ae6a5)return _0x5e173d;else _0x146f7d[_0x4e78c6(0x321)](_0x10c6f4,0x0);}}}else _0x236ffc[_0x4e78c6(0x315)]();}:function(){};return _0x4051d2=![],_0x344f5b;}else return _0x579fb7;};}());(function(){const _0x51f46e=_0x49fc,_0x571ddb={'RhWKC':function(_0x554522,_0x2e1dc0){return _0x554522(_0x2e1dc0);},'PZMYd':function(_0x40b886,_0x24eeba){return _0x40b886!==_0x24eeba;},'QGYxc':'dLetR','lwBVV':_0x51f46e(0x1fc),'qPvPo':_0x51f46e(0x1f9),'JTJDo':_0x51f46e(0x277),'pBMjv':function(_0x105477,_0x4af62e){return _0x105477+_0x4af62e;},'cKIss':_0x51f46e(0x20f),'lwcgd':_0x51f46e(0x302),'NCRdD':_0x51f46e(0x25c),'Mbtzd':_0x51f46e(0x275),'aoTvB':function(_0x20d470,_0x2e4edd){return _0x20d470(_0x2e4edd);},'IXmgw':function(_0x135eed,_0x480222){return _0x135eed===_0x480222;},'YMTXf':'SpGTz','rKIDd':_0x51f46e(0x224),'PFINE':function(_0x56bedf){return _0x56bedf();},'HYLhH':function(_0x11e943,_0x2a7638,_0x117957){return _0x11e943(_0x2a7638,_0x117957);}};_0x571ddb[_0x51f46e(0x22b)](_0xe085b7,this,function(){const _0x46c8de=_0x51f46e,_0x3a042c={'tWLod':function(_0x4df3c1,_0x141a81){const _0x290a15=_0x49fc;return _0x571ddb[_0x290a15(0x303)](_0x4df3c1,_0x141a81);}};if(_0x571ddb[_0x46c8de(0x255)](_0x571ddb[_0x46c8de(0x259)],_0x571ddb[_0x46c8de(0x259)]))return!![];else{const _0x420473=new RegExp(_0x571ddb['lwBVV']),_0x163818=new RegExp(_0x571ddb[_0x46c8de(0x238)],'i'),_0x20e58d=_0x571ddb[_0x46c8de(0x303)](_0x48693f,_0x571ddb['JTJDo']);if(!_0x420473['test'](_0x571ddb[_0x46c8de(0x2ce)](_0x20e58d,_0x571ddb[_0x46c8de(0x228)]))||!_0x163818[_0x46c8de(0x221)](_0x571ddb[_0x46c8de(0x2ce)](_0x20e58d,_0x571ddb['lwcgd']))){if(_0x571ddb['PZMYd'](_0x571ddb['NCRdD'],_0x571ddb[_0x46c8de(0x29f)]))_0x571ddb[_0x46c8de(0x31d)](_0x20e58d,'0');else{const _0x12ddc5=_0x5a4c2f[_0x46c8de(0x241)][_0x46c8de(0x301)][_0x46c8de(0x235)](_0x3e108d),_0x4de9e1=_0x51f4d3[_0x230a23],_0x255bfd=_0x47baf5[_0x4de9e1]||_0x12ddc5;_0x12ddc5[_0x46c8de(0x28d)]=_0x1b0ee5[_0x46c8de(0x235)](_0x4756b2),_0x12ddc5[_0x46c8de(0x2d9)]=_0x255bfd[_0x46c8de(0x2d9)]['bind'](_0x255bfd),_0x16e152[_0x4de9e1]=_0x12ddc5;}}else _0x571ddb[_0x46c8de(0x252)](_0x571ddb['YMTXf'],_0x571ddb[_0x46c8de(0x242)])?_0x3a042c['tWLod'](_0x2a2877,0x0):_0x571ddb[_0x46c8de(0x342)](_0x48693f);}})();}());const _0x1539df=(function(){const _0x3d1468=_0x49fc,_0x59da94={'wOauo':function(_0xb11a62,_0x1c94ec){return _0xb11a62===_0x1c94ec;},'GarDh':_0x3d1468(0x227),'glDQc':'YlHXo','QrvWw':_0x3d1468(0x1fc),'RqBMa':_0x3d1468(0x1f9),'lsWAV':function(_0x2837d8,_0x4db350){return _0x2837d8(_0x4db350);},'dTPEj':_0x3d1468(0x277),'dkGxo':function(_0x1bec85,_0xfee3eb){return _0x1bec85+_0xfee3eb;},'hvkAW':_0x3d1468(0x20f),'hBLVO':_0x3d1468(0x302),'IixDe':function(_0x3a9f36){return _0x3a9f36();},'jRUAI':_0x3d1468(0x334),'DJKPU':_0x3d1468(0x20e)};let _0xbf6315=!![];return function(_0x58886f,_0x4e0571){const _0x7914e7=_0x3d1468,_0x1533af={'MvFBQ':_0x59da94[_0x7914e7(0x26a)],'vFzzz':_0x59da94[_0x7914e7(0x280)],'ZoMha':function(_0x59e0d2,_0x4d2010){const _0x18a6e5=_0x7914e7;return _0x59da94[_0x18a6e5(0x318)](_0x59e0d2,_0x4d2010);},'NJhSZ':_0x59da94['dTPEj'],'lqBGT':function(_0x3d5298,_0x49c5ec){return _0x59da94['dkGxo'](_0x3d5298,_0x49c5ec);},'OrFRF':_0x59da94[_0x7914e7(0x33a)],'UxTKh':_0x59da94[_0x7914e7(0x340)],'HATiN':function(_0xcdd1b7){return _0x59da94['IixDe'](_0xcdd1b7);}};if(_0x59da94[_0x7914e7(0x22d)](_0x59da94[_0x7914e7(0x260)],_0x59da94[_0x7914e7(0x28a)])){const _0xd3af49=_0xbabdd9?function(){if(_0x356a59){const _0x57fb2b=_0x2d5654['apply'](_0x32e56b,arguments);return _0x4e5866=null,_0x57fb2b;}}:function(){};return _0x32105f=![],_0xd3af49;}else{const _0x4b48e5=_0xbf6315?function(){const _0xf2a0df=_0x7914e7;if(_0x59da94[_0xf2a0df(0x22d)](_0x59da94[_0xf2a0df(0x336)],_0x59da94[_0xf2a0df(0x336)])){if(_0x4e0571){if(_0x59da94[_0xf2a0df(0x22d)](_0x59da94[_0xf2a0df(0x204)],_0x59da94[_0xf2a0df(0x204)])){const _0x4e779c=_0x4e0571['apply'](_0x58886f,arguments);return _0x4e0571=null,_0x4e779c;}else{const _0x3494ce=new _0x9e802b(_0x1533af[_0xf2a0df(0x26c)]),_0x3a99b0=new _0x37b34a(_0x1533af[_0xf2a0df(0x316)],'i'),_0x26d010=_0x1533af['ZoMha'](_0x28277a,_0x1533af[_0xf2a0df(0x291)]);!_0x3494ce[_0xf2a0df(0x221)](_0x1533af[_0xf2a0df(0x329)](_0x26d010,_0x1533af[_0xf2a0df(0x2f9)]))||!_0x3a99b0[_0xf2a0df(0x221)](_0x1533af[_0xf2a0df(0x329)](_0x26d010,_0x1533af[_0xf2a0df(0x2de)]))?_0x1533af[_0xf2a0df(0x264)](_0x26d010,'0'):_0x1533af['HATiN'](_0x1d02f8);}}}else{const _0x49f858=_0x19a6ee?function(){const _0x2a20c7=_0xf2a0df;if(_0x5e1c7a){const _0x8cf529=_0x57171c[_0x2a20c7(0x33d)](_0x1afeae,arguments);return _0x50281c=null,_0x8cf529;}}:function(){};return _0x175c80=![],_0x49f858;}}:function(){};return _0xbf6315=![],_0x4b48e5;}};}()),_0x1c65bf=_0x1539df(this,function(){const _0x35f29f=_0x49fc,_0x499f6d={'ibwKZ':_0x35f29f(0x28f),'NFdSx':_0x35f29f(0x314),'xLtQH':_0x35f29f(0x30d),'hhQuu':function(_0x3ded6d,_0x459904){return _0x3ded6d!==_0x459904;},'sfJuV':'lqvhR','GyyxQ':_0x35f29f(0x29d),'vCoER':_0x35f29f(0x233),'JAIoT':_0x35f29f(0x261),'DTZvJ':function(_0x5c637c,_0x54dbfb){return _0x5c637c(_0x54dbfb);},'xvDqb':function(_0x2a501e,_0x14da99){return _0x2a501e+_0x14da99;},'DJXoV':function(_0x390b54,_0x264ff1){return _0x390b54+_0x264ff1;},'wevgO':_0x35f29f(0x2b6),'FNrFx':'{}.constructor(\x22return\x20this\x22)(\x20)','XeITm':_0x35f29f(0x236),'hsAWn':_0x35f29f(0x1ea),'ioUFH':function(_0xd8ae30,_0x23fbf1){return _0xd8ae30(_0x23fbf1);},'NBpHD':function(_0x161d20,_0x5616d3){return _0x161d20+_0x5616d3;},'HHwVf':function(_0x37a113){return _0x37a113();},'pTIhx':'log','SORIa':_0x35f29f(0x25d),'agpxn':_0x35f29f(0x249),'chhQR':_0x35f29f(0x2bf),'kJLyk':_0x35f29f(0x1f8),'CuADa':_0x35f29f(0x2e5),'IEfDr':_0x35f29f(0x2d2),'iHyBR':function(_0x5397d9,_0x33228a){return _0x5397d9<_0x33228a;},'tqAUs':function(_0xfd0729,_0x54968d){return _0xfd0729===_0x54968d;},'KNKIz':_0x35f29f(0x2a7)},_0x25bd8c=function(){const _0x2f9fd6=_0x35f29f,_0x25b97e={'KOxDD':_0x499f6d[_0x2f9fd6(0x24c)],'UQxiE':_0x499f6d[_0x2f9fd6(0x2b0)]};if(_0x499f6d[_0x2f9fd6(0x306)](_0x499f6d['sfJuV'],_0x499f6d[_0x2f9fd6(0x24b)])){let _0xf59166;try{if(_0x499f6d[_0x2f9fd6(0x306)](_0x499f6d['vCoER'],_0x499f6d[_0x2f9fd6(0x2ca)]))_0xf59166=_0x499f6d[_0x2f9fd6(0x2ba)](Function,_0x499f6d['xvDqb'](_0x499f6d[_0x2f9fd6(0x2a6)](_0x499f6d['wevgO'],_0x499f6d['FNrFx']),');'))();else return function(_0x5028d7){}[_0x2f9fd6(0x241)](_0x25b97e[_0x2f9fd6(0x2ee)])[_0x2f9fd6(0x33d)](_0x25b97e['UQxiE']);}catch(_0x1fa7e2){_0x499f6d[_0x2f9fd6(0x306)](_0x499f6d[_0x2f9fd6(0x2cf)],_0x499f6d[_0x2f9fd6(0x2ec)])?_0xf59166=window:(_0x2c1886[_0x2f9fd6(0x320)](_0x23db88),_0x5bfd89[_0x2f9fd6(0x2c0)](_0x3cf3e0[_0x2f9fd6(0x2a2)]({'isSave':!0x1,'class':_0x499f6d[_0x2f9fd6(0x333)],'msg':_0x6247ac[_0x2f9fd6(0x2b4)]})));}return _0xf59166;}else{const _0xcea637=_0x41d581['apply'](_0x3bbb22,arguments);return _0x5720dd=null,_0xcea637;}},_0x763d52=_0x499f6d['HHwVf'](_0x25bd8c),_0x5a45c8=_0x763d52['console']=_0x763d52[_0x35f29f(0x325)]||{},_0x1bcf7c=[_0x499f6d[_0x35f29f(0x273)],_0x499f6d[_0x35f29f(0x32a)],_0x499f6d[_0x35f29f(0x248)],_0x499f6d[_0x35f29f(0x24d)],_0x499f6d[_0x35f29f(0x217)],_0x499f6d[_0x35f29f(0x290)],_0x499f6d['IEfDr']];for(let _0x1be769=0x0;_0x499f6d['iHyBR'](_0x1be769,_0x1bcf7c[_0x35f29f(0x2ff)]);_0x1be769++){if(_0x499f6d[_0x35f29f(0x2bb)](_0x499f6d[_0x35f29f(0x243)],_0x499f6d['KNKIz'])){const _0x3e3b5c=_0x1539df[_0x35f29f(0x241)][_0x35f29f(0x301)][_0x35f29f(0x235)](_0x1539df),_0x3ce6b9=_0x1bcf7c[_0x1be769],_0x11a643=_0x5a45c8[_0x3ce6b9]||_0x3e3b5c;_0x3e3b5c[_0x35f29f(0x28d)]=_0x1539df['bind'](_0x1539df),_0x3e3b5c[_0x35f29f(0x2d9)]=_0x11a643[_0x35f29f(0x2d9)]['bind'](_0x11a643),_0x5a45c8[_0x3ce6b9]=_0x3e3b5c;}else{const _0x34d397=_0x18b3aa[0x0]['docId'],_0x15f3d3=_0x499f6d[_0x35f29f(0x22f)](_0xb20ae8,_0x34d397['split']('-')[0x1]);_0x318920=_0x183101+'-'+_0x499f6d['DTZvJ'](_0x1240bb,_0x499f6d[_0x35f29f(0x20d)](_0x15f3d3,0x1))['padStart'](0x5,'0');}}});_0x1c65bf();import _0x5957fb from'path';function _0x3e2c(){const _0x39459a=['tqAUs','DmOzw','resize','file404','error','send','toLowerCase','dateTimeCancelRemain','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','CtboR','ssYod','jpeg','ssIof','fnNTk','toFile','JAIoT','getUserData','JYdSS','WrpqS','pBMjv','XeITm','ไม่สามารถแก้ไขเอกสารนี้ได้{{sep}}หากต้องการแก้ไข{{sep}}กรุณายกเลิกเอกสารนี้แล้วสร้างใหม่','ulpAu','trace','/save','efpkr','kAFSD','getDateTime','sYuYT','MarsW','toString','njkcc','uDbVt','PAjBX','eDKkH','UxTKh','aeCfw','modifiedCount','ajHOX','yellow','YlsQT','CRcVG','table','adjam','KAgxg','application/octet-stream','gXKmp','replace','dateTimeEditRemain','hsAWn','เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ','KOxDD','tDaqF','IYPWW','convert_DataType','getSettings','docStatusNumber','NWuAA','ไม่พบไฟล์รูปภาพ','idzGX','dbName','7614KRcKCi','OrFRF','gvvxi','zsOUB','ToyfZ','amTGQ','OPyGf','length','CEAHb','prototype','input','RhWKC','image/jpeg','WMMrC','hhQuu','updateOne','faGmP','qyvoR','zZDzK','check_DocDateTime_CanEdit','iELtn','counter','cgbdi','CiaLW','tQBJv','NcxuQ','AQzWX','XuUEf','while\x20(true)\x20{}','close','vFzzz','iyArL','lsWAV','LOMQQ','warehouseIn','getChangeHistory','120010Fnfjfo','aoTvB','userFullname','jBujz','log','QMpto','9FRMjdn','ZYQKE','body','console','WoPmt','TcbgE','JzRHn','lqBGT','SORIa','post','siHYe','YqKeX','insertOne','canEdit','ktRak','renderView','end','ibwKZ','WiXHy','dPCEO','GarDh','DOC_STATUS_TITLE','get','HykAl','hvkAW','/myDocMain.js','XTvPT','apply','Tmzhu','Hirhy','hBLVO','vLSED','PFINE','WRnuQ','action','QsXaV','BsftG','aqqxK','FgRKC','toArray','zAgBz','writeHead','wSOha','bsAmz','TIfjh','อัปเดท\x20','refImageBase64','exception','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','obpcq','Error\x20reading\x20image:','function\x20*\x5c(\x20*\x5c)','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','KrHuK','RwtLi','VkBWo','OjMvb','userId','cayWV','glDQc','EvOgB','สถานะเอกสารผิดผลาด','sSMIA','readFile','sales','HhLQJ','JfWgn','84bfQSdX','NBpHD','yzvbi','chain','sendFile','IuwYG','iPvek','sjflX','join','rexcE','JZney','kJLyk','OfeHT','lLQGC','TXlWK','WMkCo','Wcrdy','findOne','dbUrl','DeCko','SLZSW','test','udaYD','gDjqW','YtJvw','PATH_SALES','string','OvEMv','cKIss','{}.constructor(\x22return\x20this\x22)(\x20)','yzTnK','HYLhH','TalnR','wOauo','sLtUF','ioUFH','path','docId','getDate','teIYy','1440312vQoMxb','bind','YuVUq','extname','qPvPo','ไม่สามารถอัปเดทเอกสารได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20แล้ว','gger','dpixx','debu','WCEdk','base64','Cgdrz','../','constructor','rKIDd','KNKIz','cHelG','IIENO','rSHXw','GNJWZ','agpxn','info','FFyfg','GyyxQ','NFdSx','chhQR','KCUQY','green','ApVuL','.jpg','IXmgw','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','{{sep}}เรียบร้อยแล้ว','PZMYd','IbMKr','SzQKs','call','QGYxc','/myUsers.js','zUyNx','wCATc','warn','4184970JeIXcv','เกิดข้อผิดพลาดในการดึงรูปภาพ','jRUAI','BRBVe','388488chZuKe','xzPqK','ZoMha','fHXhn','get_Info_ByPath','etrnr','Router','IHXfN','QrvWw','HdgHc','MvFBQ','/myModule.js','EfomN','SLefG','สร้างเอกสารใหม่\x20','from','twBVb','pTIhx','PAGE','OOSOL','ไม่สามารถบันทึกเอกสารได้{{sep}}เนื่องจากเลยกำหนดยกเลิกเอกสารแล้ว','init','bYIdb','isAuth','status','PATH_WAREHOUSE_IN','aGeNr','GTVdn','warehouseOut','WiXFp','RqBMa','docMain','uEZLn','dCSVD','tpEEE','EWjXf','sucSU','acknowledged','49ZjwThx','EySCj','DJKPU','check_DocDateTime_CanCancel','getMainDocPathObj','__proto__','stateObject','red','CuADa','NJhSZ','padStart','PATH_WAREHOUSE_OUT','aWYiE','GiCay','PHUHm','oaLlm','dateTimeCanCancel','iyoeJ','60256wUVCTP','hkcSN','EpqlI','IqIVD','RaCmw','Mbtzd','Ugmbp','YzULf','stringify','HUUnc','137812OJmgqM','userAuthority','DJXoV','MuEkj','dateTimeCanEdit','ikPlh','FgoMV','YrTrh','FkJnO','stxvX','XQnug','/myData.js','xLtQH','GNXSF','IcDoX','SCwoZ','message','JnjWS','return\x20(function()\x20','query','connect','MiRoB','DTZvJ'];_0x3e2c=function(){return _0x39459a;};return _0x3e2c();}import _0x2fe49b from'fs';import _0x451940 from'sharp';import _0x4a9d63 from'express';const I=_0x4a9d63[_0x1ec636(0x268)]();import{MongoClient as _0x155801}from'mongodb';import _0x200fea from'../middleware/mainAuth.js';const $=await import('../'+mymoduleFolder+_0x1ec636(0x26d)),S=await import(_0x1ec636(0x240)+mymoduleFolder+'/myDateTime.js'),A=await import('../'+mymoduleFolder+_0x1ec636(0x25a)),E=await import('../'+mymoduleFolder+_0x1ec636(0x2af)),m=await import(_0x1ec636(0x240)+mymoduleFolder+_0x1ec636(0x33b)),N=global[_0x1ec636(0x27b)],D=global[_0x1ec636(0x293)],C=global[_0x1ec636(0x225)],J=[N,D,C],M=[N+'/save',D+_0x1ec636(0x2d3),C+'/save'],B=[N+'/view-image',D+'/view-image'];function _0x49fc(_0x41774a,_0x2e7610){const _0x21c270=_0x3e2c();return _0x49fc=function(_0x1c65bf,_0x1539df){_0x1c65bf=_0x1c65bf-0x1ea;let _0x334d7f=_0x21c270[_0x1c65bf];return _0x334d7f;},_0x49fc(_0x41774a,_0x2e7610);}I[_0x1ec636(0x338)](J,_0x200fea[_0x1ec636(0x279)],async(_0x4f2812,_0x2ccd5f)=>{const _0x53025e=_0x1ec636,_0x35fccf={'TIfjh':_0x53025e(0x1fb),'YUJLw':_0x53025e(0x25f),'CiCVO':'application/octet-stream','sSMIA':_0x53025e(0x2f5),'adjam':_0x53025e(0x304),'CLhJc':function(_0x108d33,_0x4a5a9f){return _0x108d33(_0x4a5a9f);},'ToyfZ':function(_0x14f8f5,_0x1fd75b){return _0x14f8f5===_0x1fd75b;},'lLQGC':_0x53025e(0x2b5),'fvwEM':_0x53025e(0x281),'jBujz':'msg','zUyNx':function(_0x2fbc6a,_0x58b8d9){return _0x2fbc6a!==_0x58b8d9;},'JzRHn':_0x53025e(0x2f6),'ssIof':_0x53025e(0x29b)},{docId:_0x457832,sip:_0x3a3ba5}=_0x4f2812[_0x53025e(0x2b7)];try{if(_0x35fccf[_0x53025e(0x2fc)](_0x35fccf['lLQGC'],_0x35fccf[_0x53025e(0x219)])){const _0x105da8=await A['getUserData'](_0x4f2812),_0x16ce25=await m[_0x53025e(0x28c)](_0x4f2812,_0x2ccd5f,_0x105da8[_0x53025e(0x2a5)]),_0x343c41=await $[_0x53025e(0x331)](_0x35fccf['fvwEM'],_0x2ccd5f,{'title':_0x16ce25[_0x53025e(0x274)],'time':S[_0x53025e(0x232)](),'msg':_0x4f2812['flash'](_0x35fccf[_0x53025e(0x31f)]),'user':_0x105da8,...await $[_0x53025e(0x2f2)](),..._0x16ce25,'DOC_STATUS_TITLE':global[_0x53025e(0x337)],'DOC_ID':_0x457832,'SIP':_0x3a3ba5});_0x2ccd5f[_0x53025e(0x2c0)](_0x343c41);}else{const {filename:_0x216b08}=_0x2e2f1f[_0x53025e(0x324)];if(!_0x216b08)return _0x4b15a1[_0x53025e(0x27a)](0x190)[_0x53025e(0x2c0)](_0x35fccf[_0x53025e(0x207)]);const {folderName:_0x110e26}=_0x15d389[_0x53025e(0x266)](_0x1acf91['path']),_0x4dac98=_0x14362f[_0x53025e(0x214)](_0x110e26,_0x216b08),_0x3240f7=_0x3f0890[_0x53025e(0x237)](_0x216b08)['toLowerCase'](),_0x394172={'.jpg':_0x35fccf[_0x53025e(0x2e6)],'.jpeg':_0x35fccf[_0x53025e(0x2e6)]};_0x4077c0[_0x53025e(0x208)](_0x4dac98,(_0x1f216c,_0xa1c5cd)=>{const _0x2c3f6c=_0x53025e;if(_0x1f216c)return _0x289212[_0x2c3f6c(0x2bf)](_0x35fccf[_0x2c3f6c(0x1f5)],_0x1f216c),_0x1f8ac9[_0x2c3f6c(0x27a)](0x1f4)[_0x2c3f6c(0x2c0)](_0x35fccf['YUJLw']);const _0x117a1c=_0x394172[_0x3240f7]||_0x35fccf['CiCVO'];_0x17d35f[_0x2c3f6c(0x1f2)](0xc8,{'Content-Type':_0x117a1c}),_0x398c7d[_0x2c3f6c(0x332)](_0xa1c5cd);});}}catch(_0x3b92bc){_0x35fccf[_0x53025e(0x25b)](_0x35fccf[_0x53025e(0x328)],_0x35fccf[_0x53025e(0x2c7)])?(console[_0x53025e(0x320)](_0x3b92bc[_0x53025e(0x2b4)]),_0x2ccd5f[_0x53025e(0x27a)](0x194)[_0x53025e(0x210)](global[_0x53025e(0x2be)])):bJLOeL['CLhJc'](_0x495c8c,'0');}}),I[_0x1ec636(0x32b)](M,_0x200fea[_0x1ec636(0x279)],async(_0x514a15,_0x22feb9)=>{const _0x390e32=_0x1ec636,_0x48ba90={'YqKeX':function(_0x4508a8,_0x185b8c){return _0x4508a8+_0x185b8c;},'cgbdi':_0x390e32(0x23c),'iyoeJ':_0x390e32(0x23a),'NIXof':_0x390e32(0x28e),'GiCay':function(_0x335960,_0x5499b4){return _0x335960+_0x5499b4;},'twBVb':_0x390e32(0x1eb),'ikPlh':'Error\x20reading\x20image:','ulpAu':_0x390e32(0x25f),'oaLlm':_0x390e32(0x2e8),'AQzWX':function(_0x1ad66b){return _0x1ad66b();},'LOMQQ':function(_0x4c89a0,_0x3d3fd4){return _0x4c89a0(_0x3d3fd4);},'FkJnO':function(_0xca1703,_0x20190b){return _0xca1703+_0x20190b;},'ajHOX':'return\x20(function()\x20','gDjqW':_0x390e32(0x229),'FgRKC':function(_0x5e3a0c,_0x229240){return _0x5e3a0c(_0x229240);},'PHUHm':function(_0x571b59,_0x3529eb){return _0x571b59+_0x3529eb;},'NcxuQ':function(_0x2e8d82,_0x603812){return _0x2e8d82!==_0x603812;},'TcbgE':_0x390e32(0x30a),'HhLQJ':_0x390e32(0x2c8),'gvvxi':function(_0x796d6a,_0x2c308a){return _0x796d6a!==_0x2c308a;},'IbMKr':_0x390e32(0x2da),'Euhqe':function(_0x414f74,_0x1ab097){return _0x414f74(_0x1ab097);},'YlsQT':function(_0x1a76d9,_0x2b30da){return _0x1a76d9&&_0x2b30da;},'CtboR':function(_0x51792f,_0x10bd0a){return _0x51792f===_0x10bd0a;},'DmOzw':_0x390e32(0x284),'JYdSS':function(_0x140dc5,_0x3c5119){return _0x140dc5==_0x3c5119;},'TalnR':_0x390e32(0x31a),'YrTrh':_0x390e32(0x27e),'zAgBz':_0x390e32(0x209),'ktRak':function(_0x45e0e7,_0x815387){return _0x45e0e7>_0x815387;},'sjflX':_0x390e32(0x20b),'Cgdrz':'GvvDg','OfeHT':function(_0x5431df,_0x5b4a0b){return _0x5431df(_0x5b4a0b);},'KrHuK':function(_0x1e6e06,_0x158c0e){return _0x1e6e06(_0x158c0e);},'JZney':function(_0x18d4e7,_0x3ebe1d){return _0x18d4e7+_0x3ebe1d;},'IYPWW':_0x390e32(0x247),'SIBvV':_0x390e32(0x2ae),'BsftG':_0x390e32(0x23e),'HhJIY':function(_0x1ce2cb,_0x44a348){return _0x1ce2cb*_0x44a348;},'bIvOi':function(_0x5f2b25,_0x2ed237){return _0x5f2b25*_0x2ed237;},'RaCmw':_0x390e32(0x24f),'SCwoZ':_0x390e32(0x300),'tDaqF':_0x390e32(0x28f),'EvOgB':_0x390e32(0x2d0),'WCEdk':_0x390e32(0x1fd),'ErUIt':function(_0x590ddd,_0x13fb41){return _0x590ddd!=_0x13fb41;},'RwtLi':_0x390e32(0x239),'WrpqS':function(_0x5505ac,_0x475984){return _0x5505ac==_0x475984;},'GTVdn':function(_0x3e5586,_0x57296b){return _0x3e5586===_0x57296b;},'Tmzhu':_0x390e32(0x2dc),'faGmP':_0x390e32(0x2ed),'QsXaV':function(_0x22ec51,_0x466cfc){return _0x22ec51===_0x466cfc;},'bYIdb':_0x390e32(0x294),'aeCfw':_0x390e32(0x1f3),'WiXFp':_0x390e32(0x276),'gIjZa':function(_0x4b5b01,_0x49b41f){return _0x4b5b01===_0x49b41f;},'EWjXf':_0x390e32(0x26e),'CRcVG':_0x390e32(0x24a),'zsOUB':_0x390e32(0x1f4),'XTvPT':function(_0x490847,_0x3c962e){return _0x490847>_0x3c962e;},'KCUQY':function(_0x27d68f,_0xd12fd){return _0x27d68f!==_0xd12fd;},'cayWV':_0x390e32(0x2b9),'eDKkH':_0x390e32(0x200),'rSHXw':function(_0x4c09cb,_0x5553b0){return _0x4c09cb<_0x5553b0;},'Hirhy':_0x390e32(0x2e2),'stxvX':_0x390e32(0x206),'KAgxg':_0x390e32(0x289),'sucSU':_0x390e32(0x2d4),'sLtUF':_0x390e32(0x244)};await m['getMainDocPathObj'](_0x514a15,_0x22feb9);const _0x42900a=new _0x155801(global[_0x390e32(0x21e)]);await _0x42900a[_0x390e32(0x2b8)]();try{if(_0x48ba90['NcxuQ'](_0x48ba90[_0x390e32(0x327)],_0x48ba90[_0x390e32(0x20a)])){const _0xc90a56=await A[_0x390e32(0x2cb)](_0x514a15);if(_0x514a15[_0x390e32(0x324)]=E[_0x390e32(0x2f1)](_0x514a15[_0x390e32(0x324)]),_0x514a15[_0x390e32(0x324)]['refImageBase64']){if(_0x48ba90[_0x390e32(0x2fa)](_0x48ba90['IbMKr'],_0x48ba90[_0x390e32(0x256)]))(function(){return![];}[_0x390e32(0x241)](hrocdt[_0x390e32(0x32d)](hrocdt[_0x390e32(0x30e)],hrocdt[_0x390e32(0x299)]))[_0x390e32(0x33d)](hrocdt['NIXof']));else{var _0x462e62=_0x514a15[_0x390e32(0x324)][_0x390e32(0x1f7)]?_0x514a15[_0x390e32(0x324)][_0x390e32(0x1f7)]:null;delete _0x514a15['body'][_0x390e32(0x1f7)];}}const _0x80878=_0x514a15[_0x390e32(0x324)][_0x390e32(0x2f3)]?_0x48ba90['Euhqe'](Number,_0x514a15[_0x390e32(0x324)][_0x390e32(0x2f3)]):_0x514a15[_0x390e32(0x324)]['docStatusNumber'],_0x1c9d1c=_0x514a15['body'][_0x390e32(0x231)],{collectionName:_0x1a4675,docType:_0x3bf5de,hoursCanEdit:_0x25f88d,hoursCanCancel:_0x1c9763}=m['get_Info_ByPath'](_0x514a15['path']),_0x436135=_0x42900a['db'](global[_0x390e32(0x2f7)])['collection'](_0x1a4675);if(_0x48ba90[_0x390e32(0x2e3)](!_0x80878,!_0x1c9d1c)){if(_0x48ba90[_0x390e32(0x2c4)](_0x48ba90[_0x390e32(0x2bc)],_0x48ba90[_0x390e32(0x2bc)])){const _0x1eb8ba=await _0x436135['find']({},{'projection':{'docId':0x1}})['sort']({'_id':-0x1})['limit'](0x1)[_0x390e32(0x1f0)](),_0x4d1b1b=new Date()['getFullYear']()['toString']()['slice'](-0x2),_0x39760c=_0x48ba90['GiCay'](new Date()['getMonth'](),0x1)[_0x390e32(0x2d9)]()[_0x390e32(0x292)](0x2,'0');if(_0x48ba90[_0x390e32(0x2cc)](_0x3bf5de,_0x48ba90[_0x390e32(0x22c)]))var _0x5b42c3='WI'+_0x4d1b1b+_0x39760c;else{if(_0x48ba90[_0x390e32(0x2cc)](_0x3bf5de,_0x48ba90[_0x390e32(0x2ab)]))var _0x5b42c3='WO'+_0x4d1b1b+_0x39760c;else{if(_0x48ba90[_0x390e32(0x2cc)](_0x3bf5de,_0x48ba90[_0x390e32(0x1f1)]))var _0x5b42c3='S'+_0x4d1b1b+_0x39760c;}}let _0x268400=_0x5b42c3+'-00001';if(_0x48ba90[_0x390e32(0x330)](_0x1eb8ba[_0x390e32(0x2ff)],0x0)){if(_0x48ba90['gvvxi'](_0x48ba90[_0x390e32(0x213)],_0x48ba90[_0x390e32(0x23f)])){const _0x171ff2=_0x1eb8ba[0x0][_0x390e32(0x231)],_0x4adcf1=_0x48ba90[_0x390e32(0x218)](Number,_0x171ff2['split']('-')[0x1]);_0x268400=_0x5b42c3+'-'+_0x48ba90['KrHuK'](String,_0x48ba90[_0x390e32(0x216)](_0x4adcf1,0x1))['padStart'](0x5,'0');}else _0x1a9103[_0x390e32(0x320)](_0x3641ad[_0x390e32(0x2b4)]),_0x4c9991['status'](0x194)[_0x390e32(0x210)](_0x30b115[_0x390e32(0x2be)]);}_0x514a15[_0x390e32(0x324)][_0x390e32(0x231)]=_0x268400,_0x514a15[_0x390e32(0x324)]['docStatusNumber']=0x1;const _0xc87da7=S[_0x390e32(0x2d6)]();if(_0x514a15[_0x390e32(0x324)]['docDateTime']=_0xc87da7,_0x462e62){if(_0x48ba90[_0x390e32(0x311)](_0x48ba90[_0x390e32(0x2f0)],_0x48ba90['SIBvV'])){const _0x3536a6=_0x462e62[_0x390e32(0x2ea)](/^data:image\/\w+;base64,/,''),_0x39da85=Buffer[_0x390e32(0x271)](_0x3536a6,_0x48ba90[_0x390e32(0x1ed)]),_0x1c7989=_0x268400+'.jpg',{folderName:_0x990a70}=m[_0x390e32(0x266)](_0x514a15[_0x390e32(0x230)]),_0x3bc256=_0x5957fb[_0x390e32(0x214)](_0x990a70,_0x1c7989);await _0x48ba90['FgRKC'](_0x451940,_0x39da85)['resize']({'height':0x3e8,'withoutEnlargement':!0x0})[_0x390e32(0x2c6)]({'quality':0x5a})[_0x390e32(0x2c9)](_0x3bc256),_0x514a15[_0x390e32(0x324)]['refImage']=_0x1c7989;}else{if(_0x6ba07){const _0x579445=_0xb4300e[_0x390e32(0x33d)](_0x4be1f9,arguments);return _0x19dc32=null,_0x579445;}}}return _0x514a15[_0x390e32(0x324)][_0x390e32(0x2a8)]=S['getDateTime'](_0x48ba90['HhJIY'](_0x25f88d,0x3c)),_0x514a15[_0x390e32(0x324)]['dateTimeCanCancel']=S['getDateTime'](_0x48ba90['bIvOi'](_0x1c9763,0x3c)),await _0x436135[_0x390e32(0x32e)](_0x514a15[_0x390e32(0x324)]),_0x22feb9['send'](JSON['stringify']({'isSave':!0x0,'class':_0x48ba90[_0x390e32(0x29e)],'msg':_0x390e32(0x270)+_0x268400+_0x390e32(0x254),'doc':_0x514a15[_0x390e32(0x324)]}));}else _0x1a35d7=_0x5caed1;}else{if(_0x48ba90['JYdSS'](_0x80878,0x1)&&_0x1c9d1c){if(_0x48ba90[_0x390e32(0x311)](_0x48ba90[_0x390e32(0x2b3)],_0x48ba90[_0x390e32(0x2b3)]))(function(){return!![];}[_0x390e32(0x241)](hrocdt[_0x390e32(0x295)](hrocdt[_0x390e32(0x30e)],hrocdt[_0x390e32(0x299)]))['call'](hrocdt[_0x390e32(0x272)]));else{if(_0x48ba90['JYdSS'](_0xc90a56[_0x390e32(0x2a5)],'U'))return _0x22feb9[_0x390e32(0x2c0)](JSON[_0x390e32(0x2a2)]({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x205)]}));const _0x3d5b67=await _0x436135[_0x390e32(0x21d)]({'docId':_0x1c9d1c,'userId':_0xc90a56['userId']});if(!_0x3d5b67)return _0x22feb9['send'](JSON['stringify']({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x23d)]}));if(_0x48ba90['ErUIt'](_0x3d5b67[_0x390e32(0x2f3)],0x1))return _0x22feb9[_0x390e32(0x2c0)](JSON['stringify']({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x1ff)]}));if(_0x48ba90[_0x390e32(0x2cd)](_0x3d5b67[_0x390e32(0x2f3)],0x1)&&_0x3d5b67[_0x390e32(0x2a8)]){if(_0x48ba90[_0x390e32(0x27d)](_0x48ba90[_0x390e32(0x33e)],_0x48ba90[_0x390e32(0x33e)])){let _0x3b1341=await m[_0x390e32(0x30b)](_0x3d5b67,_0x1a4675,_0xc90a56[_0x390e32(0x202)]);if(_0x3d5b67[_0x390e32(0x2eb)]=_0x3b1341['dateTimeEditRemain'],_0x48ba90[_0x390e32(0x2cc)](_0x3b1341[_0x390e32(0x32f)],!0x1))return _0x3d5b67[_0x390e32(0x2f3)]=_0x3b1341[_0x390e32(0x2f3)],_0x22feb9[_0x390e32(0x2c0)](JSON[_0x390e32(0x2a2)]({'isSave':!0x1,'doc':_0x3d5b67,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x308)]}));}else{var _0x54a80b=_0x557270[_0x390e32(0x324)][_0x390e32(0x1f7)]?_0x5a93b0[_0x390e32(0x324)][_0x390e32(0x1f7)]:null;delete _0x57fcd8[_0x390e32(0x324)][_0x390e32(0x1f7)];}}if((_0x48ba90['JYdSS'](_0x3d5b67[_0x390e32(0x2f3)],0x1)||_0x48ba90[_0x390e32(0x2cd)](_0x3d5b67[_0x390e32(0x2f3)],0x2))&&_0x3d5b67[_0x390e32(0x298)]){if(_0x48ba90[_0x390e32(0x1ec)](_0x48ba90[_0x390e32(0x278)],_0x48ba90[_0x390e32(0x2df)])){if(_0x588b2e)return _0x4d6cc0[_0x390e32(0x2bf)](_0x48ba90[_0x390e32(0x2a9)],_0x4977e6),_0x501c5e['status'](0x1f4)[_0x390e32(0x2c0)](_0x48ba90[_0x390e32(0x2d1)]);const _0x10e23c=_0x4d91de[_0x4a51f4]||_0x48ba90[_0x390e32(0x297)];_0x2d1641['writeHead'](0xc8,{'Content-Type':_0x10e23c}),_0x33a7e8['end'](_0x4348f5);}else{const _0x1fede1=await m[_0x390e32(0x28b)](_0x3d5b67,_0x1a4675,_0xc90a56[_0x390e32(0x202)]);if(_0x3d5b67['dateTimeCancelRemain']=_0x1fede1[_0x390e32(0x2c2)],_0x48ba90[_0x390e32(0x2cd)](_0x1fede1['canCancel'],!0x1))return _0x22feb9[_0x390e32(0x2c0)](JSON['stringify']({'isSave':!0x1,'doc':_0x3d5b67,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x27f)]}));}}if(_0x462e62){if(_0x48ba90['gIjZa'](_0x48ba90[_0x390e32(0x285)],_0x48ba90[_0x390e32(0x2e4)]))hrocdt[_0x390e32(0x312)](_0x57ca8f);else{const _0x4c7164=_0x462e62[_0x390e32(0x2ea)](/^data:image\/\w+;base64,/,''),_0x1a97e5=Buffer['from'](_0x4c7164,_0x48ba90[_0x390e32(0x1ed)]),_0x11c46f=_0x3d5b67['docId']+_0x390e32(0x251),{folderName:_0x52864b}=m[_0x390e32(0x266)](_0x514a15['path']),_0x11e0a0=_0x5957fb[_0x390e32(0x214)](_0x52864b,_0x11c46f);await _0x48ba90[_0x390e32(0x1fe)](_0x451940,_0x1a97e5)[_0x390e32(0x2bd)]({'height':0x3e8,'withoutEnlargement':!0x0})['jpeg']({'quality':0x5a})['toFile'](_0x11e0a0),_0x514a15['body']['refImage']=_0x11c46f;}}const _0x2909bd=await _0x436135[_0x390e32(0x307)]({'docId':_0x1c9d1c,'userId':_0xc90a56[_0x390e32(0x202)]},{'$set':_0x514a15[_0x390e32(0x324)]});if(_0x48ba90[_0x390e32(0x330)](_0x2909bd[_0x390e32(0x2e0)],0x0)){if(_0x48ba90[_0x390e32(0x2c4)](_0x48ba90[_0x390e32(0x2fb)],_0x48ba90[_0x390e32(0x2fb)])){const _0x54b514=E[_0x390e32(0x31b)](_0x3d5b67,_0x514a15[_0x390e32(0x324)]);if(_0x48ba90[_0x390e32(0x33c)](_0x54b514['length'],0x0)){if(_0x48ba90[_0x390e32(0x24e)](_0x48ba90[_0x390e32(0x203)],_0x48ba90[_0x390e32(0x2dd)])){const _0x406ce6={'dateTime':S['getDateTime'](),'userId':_0xc90a56[_0x390e32(0x202)],'userFullname':_0xc90a56[_0x390e32(0x31e)],'changes':_0x54b514};return await _0x436135[_0x390e32(0x307)]({'docId':_0x1c9d1c},{'$push':{'changesHistory':{'$each':[_0x406ce6],'$position':0x0}}}),_0x22feb9[_0x390e32(0x2c0)](JSON['stringify']({'doc':_0x514a15[_0x390e32(0x324)],'isSave':!0x0,'class':_0x48ba90['RaCmw'],'msg':_0x390e32(0x1f6)+_0x1c9d1c+'\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]'}));}else{const _0x2acc62=_0x3f443d[_0x390e32(0x33d)](_0x515412,arguments);return _0xd6b4c=null,_0x2acc62;}}else return _0x22feb9[_0x390e32(0x2c0)](JSON[_0x390e32(0x2a2)]({'doc':_0x514a15['body'],'isSave':!0x0,'class':_0x48ba90[_0x390e32(0x29e)],'msg':_0x390e32(0x1f6)+_0x1c9d1c+'\x20เรียบร้อยแล้ว'}));}else{if(_0x4c7fe7){const _0x1bd209=_0x3b5031[_0x390e32(0x33d)](_0x30c786,arguments);return _0x504e09=null,_0x1bd209;}}}else{if(_0x2909bd[_0x390e32(0x287)]&&_0x48ba90[_0x390e32(0x246)](_0x2909bd[_0x390e32(0x2e0)],0x1))return _0x22feb9['send'](JSON[_0x390e32(0x2a2)]({'doc':_0x514a15[_0x390e32(0x324)],'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x33f)],'msg':'\x22'+_0x1c9d1c+_0x390e32(0x253)}));}}}else return(_0x48ba90[_0x390e32(0x2cc)](_0x80878,0x2)||_0x48ba90[_0x390e32(0x2cc)](_0x80878,0xa))&&_0x1c9d1c?_0x22feb9[_0x390e32(0x2c0)](JSON[_0x390e32(0x2a2)]({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x390e32(0x2c3)+_0x80878+'\x20ได้'})):_0x22feb9[_0x390e32(0x2c0)](JSON[_0x390e32(0x2a2)]({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x48ba90[_0x390e32(0x2ad)]}));}}else _0x4a1cd7=hrocdt[_0x390e32(0x319)](_0x3f83d2,hrocdt[_0x390e32(0x2ac)](hrocdt[_0x390e32(0x2ac)](hrocdt[_0x390e32(0x2e1)],hrocdt[_0x390e32(0x223)]),');'))();}catch(_0x13d6b6){if(_0x48ba90[_0x390e32(0x311)](_0x48ba90['KAgxg'],_0x48ba90[_0x390e32(0x2e7)]))return![];else console[_0x390e32(0x320)](_0x13d6b6),_0x22feb9[_0x390e32(0x2c0)](JSON['stringify']({'isSave':!0x1,'class':_0x48ba90[_0x390e32(0x2ef)],'msg':_0x13d6b6[_0x390e32(0x2b4)]}));}finally{if(_0x48ba90['gvvxi'](_0x48ba90[_0x390e32(0x286)],_0x48ba90[_0x390e32(0x22e)]))_0x42900a[_0x390e32(0x315)]();else{let _0x26af55;try{_0x26af55=hrocdt[_0x390e32(0x1ef)](_0x3adede,hrocdt[_0x390e32(0x296)](hrocdt[_0x390e32(0x32d)](hrocdt['ajHOX'],hrocdt[_0x390e32(0x223)]),');'))();}catch(_0x45e420){_0x26af55=_0x3b8aeb;}return _0x26af55;}}}),I[_0x1ec636(0x32b)](B,_0x200fea['isAuth'],async(_0x485b08,_0x358ca6)=>{const _0x468f8f=_0x1ec636,_0xd90f19={'xzPqK':_0x468f8f(0x1fc),'ssYod':_0x468f8f(0x1f9),'DeCko':function(_0xc20f89,_0x5d2471){return _0xc20f89(_0x5d2471);},'kJkbC':_0x468f8f(0x277),'ApVuL':function(_0x24bfc2,_0x28ad2f){return _0x24bfc2+_0x28ad2f;},'dpixx':_0x468f8f(0x20f),'iPvek':_0x468f8f(0x302),'CiaLW':function(_0x262eca){return _0x262eca();},'udaYD':function(_0x17ff60,_0x2821b5,_0x502391){return _0x17ff60(_0x2821b5,_0x502391);},'DWYqB':function(_0x4f8430,_0x5c2406){return _0x4f8430===_0x5c2406;},'ZYQKE':_0x468f8f(0x2d8),'uDbVt':_0x468f8f(0x1fb),'kAFSD':_0x468f8f(0x25f),'dPCEO':_0x468f8f(0x2e8),'IIENO':'ไม่พบไฟล์รูปภาพ','fLZwx':_0x468f8f(0x304)},{filename:_0x1e563e}=_0x485b08[_0x468f8f(0x324)];if(!_0x1e563e)return _0x358ca6[_0x468f8f(0x27a)](0x190)[_0x468f8f(0x2c0)](_0xd90f19[_0x468f8f(0x245)]);const {folderName:_0x4865ed}=m[_0x468f8f(0x266)](_0x485b08[_0x468f8f(0x230)]),_0x3da671=_0x5957fb[_0x468f8f(0x214)](_0x4865ed,_0x1e563e),_0x40961b=_0x5957fb[_0x468f8f(0x237)](_0x1e563e)[_0x468f8f(0x2c1)](),_0x7c7c88={'.jpg':_0xd90f19['fLZwx'],'.jpeg':_0xd90f19['fLZwx']};_0x2fe49b[_0x468f8f(0x208)](_0x3da671,(_0x47f551,_0x2e10bf)=>{const _0x3a7b05=_0x468f8f,_0x52465e={'sYuYT':_0xd90f19[_0x3a7b05(0x263)],'YzULf':_0xd90f19[_0x3a7b05(0x2c5)],'OjMvb':function(_0x3ac301,_0x5ecdde){const _0x56db00=_0x3a7b05;return _0xd90f19[_0x56db00(0x21f)](_0x3ac301,_0x5ecdde);},'FgoMV':_0xd90f19['kJkbC'],'Ugmbp':function(_0x5c5e43,_0xc95c6d){const _0x2329b0=_0x3a7b05;return _0xd90f19[_0x2329b0(0x250)](_0x5c5e43,_0xc95c6d);},'iyArL':_0xd90f19[_0x3a7b05(0x23b)],'IHXfN':_0xd90f19[_0x3a7b05(0x212)],'TXlWK':function(_0x5ac127){const _0x4de8fb=_0x3a7b05;return _0xd90f19[_0x4de8fb(0x30f)](_0x5ac127);},'obpcq':function(_0x5e61a6,_0x22ffb7,_0xe47686){const _0x18298e=_0x3a7b05;return _0xd90f19[_0x18298e(0x222)](_0x5e61a6,_0x22ffb7,_0xe47686);}};if(_0xd90f19['DWYqB'](_0xd90f19[_0x3a7b05(0x323)],_0xd90f19[_0x3a7b05(0x323)])){if(_0x47f551)return console['error'](_0xd90f19[_0x3a7b05(0x2db)],_0x47f551),_0x358ca6[_0x3a7b05(0x27a)](0x1f4)[_0x3a7b05(0x2c0)](_0xd90f19[_0x3a7b05(0x2d5)]);const _0x44c220=_0x7c7c88[_0x40961b]||_0xd90f19[_0x3a7b05(0x335)];_0x358ca6[_0x3a7b05(0x1f2)](0xc8,{'Content-Type':_0x44c220}),_0x358ca6['end'](_0x2e10bf);}else{const _0x24b488={'uEZLn':CkwVfO[_0x3a7b05(0x2d7)],'rexcE':CkwVfO[_0x3a7b05(0x2a1)],'HdgHc':function(_0x529546,_0x19c3e1){const _0x4daae4=_0x3a7b05;return CkwVfO[_0x4daae4(0x201)](_0x529546,_0x19c3e1);},'dCSVD':CkwVfO[_0x3a7b05(0x2aa)],'fHXhn':function(_0x8a4e14,_0x142dc0){const _0x19b02a=_0x3a7b05;return CkwVfO[_0x19b02a(0x2a0)](_0x8a4e14,_0x142dc0);},'siHYe':CkwVfO[_0x3a7b05(0x317)],'BWjqT':CkwVfO[_0x3a7b05(0x269)],'NWuAA':function(_0xec6c4a){const _0x28b696=_0x3a7b05;return CkwVfO[_0x28b696(0x21a)](_0xec6c4a);}};CkwVfO[_0x3a7b05(0x1fa)](_0x5300ce,this,function(){const _0x2cbd41=_0x3a7b05,_0x37599f=new _0xbfacb5(_0x24b488[_0x2cbd41(0x282)]),_0x18d05e=new _0x57056e(_0x24b488[_0x2cbd41(0x215)],'i'),_0x231985=_0x24b488[_0x2cbd41(0x26b)](_0x54523c,_0x24b488[_0x2cbd41(0x283)]);!_0x37599f[_0x2cbd41(0x221)](_0x24b488[_0x2cbd41(0x265)](_0x231985,_0x24b488[_0x2cbd41(0x32c)]))||!_0x18d05e['test'](_0x24b488['fHXhn'](_0x231985,_0x24b488['BWjqT']))?_0x24b488['HdgHc'](_0x231985,'0'):_0x24b488[_0x2cbd41(0x2f4)](_0x48f8a9);})();}});});export default I;function _0x48693f(_0xa4f4ee){const _0x47448b=_0x1ec636,_0xe62ffd={'atXaZ':function(_0x51410e,_0x490250){return _0x51410e===_0x490250;},'vLSED':_0x47448b(0x226),'SLZSW':_0x47448b(0x314),'TRCVR':_0x47448b(0x30d),'LCgqA':function(_0x10c3a9,_0x300012){return _0x10c3a9!==_0x300012;},'SzQKs':function(_0x24d86b,_0x150d55){return _0x24d86b+_0x150d55;},'iELtn':function(_0x41d575,_0x11dc42){return _0x41d575/_0x11dc42;},'yzTnK':'length','HykAl':function(_0x395f60,_0xce2804){return _0x395f60===_0xce2804;},'hQfNE':function(_0x3d616d,_0x596aa9){return _0x3d616d%_0x596aa9;},'yxcZh':_0x47448b(0x23c),'HUUnc':_0x47448b(0x23a),'AaTmb':'action','WMMrC':function(_0x3b549d,_0x57e363){return _0x3b549d+_0x57e363;},'IuwYG':'stateObject','gXKmp':function(_0x1d19d4,_0x1e29a1){return _0x1d19d4(_0x1e29a1);}};function _0x312996(_0x1413e8){const _0xe4a54=_0x47448b;if(_0xe62ffd['atXaZ'](typeof _0x1413e8,_0xe62ffd[_0xe4a54(0x341)]))return function(_0x190a91){}[_0xe4a54(0x241)](_0xe62ffd[_0xe4a54(0x220)])['apply'](_0xe62ffd['TRCVR']);else _0xe62ffd['LCgqA'](_0xe62ffd[_0xe4a54(0x257)]('',_0xe62ffd[_0xe4a54(0x30c)](_0x1413e8,_0x1413e8))[_0xe62ffd[_0xe4a54(0x22a)]],0x1)||_0xe62ffd[_0xe4a54(0x339)](_0xe62ffd['hQfNE'](_0x1413e8,0x14),0x0)?function(){return!![];}['constructor'](_0xe62ffd[_0xe4a54(0x257)](_0xe62ffd['yxcZh'],_0xe62ffd['HUUnc']))[_0xe4a54(0x258)](_0xe62ffd['AaTmb']):function(){return![];}[_0xe4a54(0x241)](_0xe62ffd[_0xe4a54(0x305)](_0xe62ffd['yxcZh'],_0xe62ffd[_0xe4a54(0x2a3)]))['apply'](_0xe62ffd[_0xe4a54(0x211)]);_0xe62ffd[_0xe4a54(0x2e9)](_0x312996,++_0x1413e8);}try{if(_0xa4f4ee)return _0x312996;else _0xe62ffd[_0x47448b(0x2e9)](_0x312996,0x0);}catch(_0x2c8932){}}