const _0x1dd5e8=_0x1438;(function(_0x5d2e41,_0x4bf18a){const _0x2fe9cf=_0x1438,_0x1a5841=_0x5d2e41();while(!![]){try{const _0x3dcfff=-parseInt(_0x2fe9cf(0x151))/0x1+-parseInt(_0x2fe9cf(0x23e))/0x2+-parseInt(_0x2fe9cf(0x196))/0x3+-parseInt(_0x2fe9cf(0x274))/0x4*(-parseInt(_0x2fe9cf(0x249))/0x5)+-parseInt(_0x2fe9cf(0x149))/0x6*(-parseInt(_0x2fe9cf(0x1be))/0x7)+parseInt(_0x2fe9cf(0x29a))/0x8+-parseInt(_0x2fe9cf(0x25f))/0x9*(-parseInt(_0x2fe9cf(0x280))/0xa);if(_0x3dcfff===_0x4bf18a)break;else _0x1a5841['push'](_0x1a5841['shift']());}catch(_0x462aac){_0x1a5841['push'](_0x1a5841['shift']());}}}(_0x52e2,0xf0eae));const _0x1b4818=(function(){const _0x2636df=_0x1438,_0x5bc24e={'TYVYX':_0x2636df(0x1a8),'uQkVe':'counter','JLnOH':function(_0xf4f65b,_0x44feaa){return _0xf4f65b===_0x44feaa;},'YJptP':_0x2636df(0x22d),'WhpbX':_0x2636df(0x2a8),'IGIjb':function(_0x1acee2,_0x493353){return _0x1acee2!==_0x493353;},'dzCal':'XoUld','WbniL':'rqsfL','USpIP':'red','TZRdC':function(_0x2a23cb,_0x238bb8){return _0x2a23cb===_0x238bb8;},'KsJdS':_0x2636df(0x1af)};let _0x4d7110=!![];return function(_0x2640ef,_0x59de98){const _0xa1520c=_0x2636df,_0x4451b2={'zzJet':_0x5bc24e[_0xa1520c(0x17c)],'TWyUe':_0x5bc24e[_0xa1520c(0x22a)],'xYAlG':function(_0x4525d0,_0x13b10f){return _0x5bc24e['JLnOH'](_0x4525d0,_0x13b10f);},'XPssL':_0x5bc24e[_0xa1520c(0x18a)],'WSOvO':_0x5bc24e[_0xa1520c(0x214)],'MsKTP':function(_0x4133e7,_0xeaa2){const _0x4b01b5=_0xa1520c;return _0x5bc24e[_0x4b01b5(0x26a)](_0x4133e7,_0xeaa2);},'KfXVI':_0x5bc24e[_0xa1520c(0x1a0)],'kuVLO':_0x5bc24e['WbniL'],'KdvfQ':_0x5bc24e[_0xa1520c(0x221)]};if(_0x5bc24e['TZRdC'](_0x5bc24e['KsJdS'],_0x5bc24e['KsJdS'])){const _0x2f470f=_0x4d7110?function(){const _0x497f3d=_0xa1520c,_0xb60c6f={'gWoft':_0x4451b2[_0x497f3d(0x166)],'aZcvX':_0x4451b2['TWyUe']};if(_0x4451b2['xYAlG'](_0x4451b2[_0x497f3d(0x25e)],_0x4451b2[_0x497f3d(0x1fe)])){const _0x2cf2d0=_0x2f21e8['apply'](_0x54f83d,arguments);return _0x40e1bc=null,_0x2cf2d0;}else{if(_0x59de98){if(_0x4451b2[_0x497f3d(0x240)](_0x4451b2[_0x497f3d(0x17d)],_0x4451b2[_0x497f3d(0x164)])){const _0x36be4a=_0x59de98[_0x497f3d(0x28c)](_0x2640ef,arguments);return _0x59de98=null,_0x36be4a;}else return function(_0x2c2f43){}[_0x497f3d(0x14d)](_0xb60c6f['gWoft'])[_0x497f3d(0x28c)](_0xb60c6f['aZcvX']);}}}:function(){};return _0x4d7110=![],_0x2f470f;}else _0x4a77e6[_0xa1520c(0x16a)](_0x2d92d1),_0x338322['send'](_0x13108c['stringify']({'isSave':!0x1,'class':_0x4451b2[_0xa1520c(0x28b)],'msg':_0x2a46ae[_0xa1520c(0x1b9)]}));};}());(function(){const _0x167d76=_0x1438,_0x174fa3={'bsCGq':_0x167d76(0x250),'huvhX':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','NdDBc':function(_0xe4a642,_0xb09eea){return _0xe4a642(_0xb09eea);},'cjVkm':_0x167d76(0x20f),'dyqKs':function(_0x32eda1,_0x9dd42d){return _0x32eda1+_0x9dd42d;},'pCYYg':'chain','HtwyI':function(_0x1fe47c,_0x4d11c2){return _0x1fe47c+_0x4d11c2;},'CuyFB':_0x167d76(0x209),'kaTMD':function(_0x1c038c,_0x439a89){return _0x1c038c(_0x439a89);},'xonMk':function(_0x65339f){return _0x65339f();},'RoxbW':function(_0xe178b2,_0x1b6ae2,_0x108b12){return _0xe178b2(_0x1b6ae2,_0x108b12);},'Hunff':function(_0x3b4d89,_0x3de9fc){return _0x3b4d89===_0x3de9fc;},'eJFCn':_0x167d76(0x27d),'ZvFgP':_0x167d76(0x2a6),'ttAZC':function(_0x737e56,_0x30dc4f){return _0x737e56!==_0x30dc4f;},'ZEZBp':_0x167d76(0x2a5),'LuQHY':_0x167d76(0x237),'NOQzR':function(_0x4d9ef8,_0x4b27be){return _0x4d9ef8===_0x4b27be;},'TBjHg':_0x167d76(0x219),'BlDjf':_0x167d76(0x278),'hiAIQ':function(_0x4a8d9e){return _0x4a8d9e();},'mDMYm':function(_0x2b65fa,_0x714b0c,_0x4d3e33){return _0x2b65fa(_0x714b0c,_0x4d3e33);}};_0x174fa3[_0x167d76(0x2a1)](_0x1b4818,this,function(){const _0x15da64=_0x167d76;if(_0x174fa3[_0x15da64(0x2a7)](_0x174fa3['eJFCn'],_0x174fa3[_0x15da64(0x198)])){const _0xbb3d25=_0x40c672?function(){const _0x13ec1f=_0x15da64;if(_0x47a4fb){const _0x4c5d35=_0x43e382[_0x13ec1f(0x28c)](_0x3f5c2e,arguments);return _0x2062f2=null,_0x4c5d35;}}:function(){};return _0x1a4be8=![],_0xbb3d25;}else{const _0x3cb37a=new RegExp(_0x174fa3[_0x15da64(0x26e)]),_0x6c6ee5=new RegExp(_0x174fa3[_0x15da64(0x15f)],'i'),_0x1f160a=_0x174fa3[_0x15da64(0x19a)](_0x28ad55,_0x174fa3[_0x15da64(0x22f)]);if(!_0x3cb37a[_0x15da64(0x231)](_0x174fa3[_0x15da64(0x195)](_0x1f160a,_0x174fa3[_0x15da64(0x2a9)]))||!_0x6c6ee5[_0x15da64(0x231)](_0x174fa3[_0x15da64(0x1e3)](_0x1f160a,_0x174fa3[_0x15da64(0x297)]))){if(_0x174fa3[_0x15da64(0x215)](_0x174fa3[_0x15da64(0x222)],_0x174fa3[_0x15da64(0x25b)]))_0x174fa3[_0x15da64(0x1a5)](_0x1f160a,'0');else{const _0x33b291={'lhThI':_0x174fa3[_0x15da64(0x26e)],'kizUV':_0x174fa3[_0x15da64(0x15f)],'MNBFt':function(_0x6d18b3,_0x2c8c94){const _0x34aeb7=_0x15da64;return _0x174fa3[_0x34aeb7(0x19a)](_0x6d18b3,_0x2c8c94);},'PrlXS':_0x174fa3[_0x15da64(0x22f)],'rtalN':function(_0x2b2f30,_0x1ec3cf){const _0x59b740=_0x15da64;return _0x174fa3[_0x59b740(0x1e3)](_0x2b2f30,_0x1ec3cf);},'joplP':_0x174fa3['pCYYg'],'ZJZET':function(_0xf779b,_0x4f016b){return _0x174fa3['HtwyI'](_0xf779b,_0x4f016b);},'dMlOs':_0x174fa3[_0x15da64(0x297)],'CYgyv':function(_0x5c4e8d,_0x5ba19f){const _0x2a53cf=_0x15da64;return _0x174fa3[_0x2a53cf(0x1a5)](_0x5c4e8d,_0x5ba19f);},'Undjl':function(_0x2ec448){return _0x174fa3['xonMk'](_0x2ec448);}};_0x174fa3['RoxbW'](_0x3d6b01,this,function(){const _0x122796=_0x15da64,_0x11cdd5=new _0x1af631(_0x33b291[_0x122796(0x1b3)]),_0x2c2a24=new _0x1e43be(_0x33b291[_0x122796(0x293)],'i'),_0x1f8860=_0x33b291[_0x122796(0x1d1)](_0x399a53,_0x33b291['PrlXS']);!_0x11cdd5[_0x122796(0x231)](_0x33b291[_0x122796(0x25d)](_0x1f8860,_0x33b291['joplP']))||!_0x2c2a24[_0x122796(0x231)](_0x33b291[_0x122796(0x257)](_0x1f8860,_0x33b291[_0x122796(0x287)]))?_0x33b291[_0x122796(0x165)](_0x1f8860,'0'):_0x33b291['Undjl'](_0x3ac778);})();}}else{if(_0x174fa3[_0x15da64(0x1ca)](_0x174fa3['TBjHg'],_0x174fa3['BlDjf'])){if(_0x2cc16c){const _0x4de933=_0x2ef92d[_0x15da64(0x28c)](_0x2d2df9,arguments);return _0x120d89=null,_0x4de933;}}else _0x174fa3['hiAIQ'](_0x28ad55);}}})();}());const _0x24ec41=(function(){const _0x117ffa=_0x1438,_0xc593db={'VURwa':function(_0x31b731,_0x27bbd0){return _0x31b731(_0x27bbd0);},'ZihrZ':function(_0x5e79c6,_0xe7b798){return _0x5e79c6+_0xe7b798;},'TkwSO':_0x117ffa(0x1d0),'YqxSp':_0x117ffa(0x172),'ACuVW':function(_0x261e0d){return _0x261e0d();},'aqCYO':_0x117ffa(0x16a),'DFoJM':_0x117ffa(0x18e),'LNEfv':_0x117ffa(0x24f),'Zxblg':_0x117ffa(0x26d),'yQSAd':'exception','XPooZ':_0x117ffa(0x1f0),'guPjV':'trace','BvPEy':function(_0x159f2d,_0x131728){return _0x159f2d<_0x131728;},'QbGjI':function(_0x1953d7,_0x212c7f){return _0x1953d7!==_0x212c7f;},'yLnXh':'uaHvv','NPZwv':_0x117ffa(0x259),'KFzWH':function(_0x591533,_0x352603){return _0x591533!==_0x352603;},'xqecS':_0x117ffa(0x210),'lTprP':function(_0x261c17,_0x42cc95){return _0x261c17!==_0x42cc95;},'famPw':'UlTGO'};let _0x342606=!![];return function(_0x42279c,_0x35057a){const _0x275aff=_0x117ffa,_0x1ff427={'VHqfx':function(_0x9598f7,_0x3485c4){return _0xc593db['VURwa'](_0x9598f7,_0x3485c4);},'tYMcA':function(_0x2c07bf,_0x7a3b93){const _0x136962=_0x1438;return _0xc593db[_0x136962(0x160)](_0x2c07bf,_0x7a3b93);},'BDgRS':function(_0x335e4b,_0x5efa58){const _0x4f07a0=_0x1438;return _0xc593db[_0x4f07a0(0x160)](_0x335e4b,_0x5efa58);},'Odzsi':_0xc593db[_0x275aff(0x28a)],'UzfGU':_0xc593db[_0x275aff(0x1cc)],'rKPBP':function(_0x5a5f21){const _0x488c6f=_0x275aff;return _0xc593db[_0x488c6f(0x27b)](_0x5a5f21);},'LWvGs':_0xc593db[_0x275aff(0x1dc)],'YlHur':_0xc593db[_0x275aff(0x184)],'ISUde':_0xc593db['LNEfv'],'aXvID':_0xc593db[_0x275aff(0x18b)],'BJTWe':_0xc593db[_0x275aff(0x1e9)],'jldzF':_0xc593db[_0x275aff(0x225)],'KotKr':_0xc593db['guPjV'],'DzGAu':function(_0x39bcad,_0x229cd7){return _0xc593db['BvPEy'](_0x39bcad,_0x229cd7);},'cYhHG':function(_0x2ccd7e,_0x57f9a0){return _0xc593db['QbGjI'](_0x2ccd7e,_0x57f9a0);},'qRAvp':_0xc593db[_0x275aff(0x254)],'MRWjg':_0xc593db[_0x275aff(0x29f)],'qlgoI':function(_0x5890f9,_0x407123){const _0x4bfda7=_0x275aff;return _0xc593db[_0x4bfda7(0x217)](_0x5890f9,_0x407123);},'UbQQJ':_0xc593db[_0x275aff(0x191)]};if(_0xc593db['lTprP'](_0xc593db[_0x275aff(0x1c1)],_0xc593db['famPw'])){let _0x1bf0a4;try{const _0x1c4ce2=_0x1ff427[_0x275aff(0x18f)](_0x11dcca,_0x1ff427[_0x275aff(0x208)](_0x1ff427[_0x275aff(0x26f)](_0x1ff427[_0x275aff(0x267)],_0x1ff427['UzfGU']),');'));_0x1bf0a4=_0x1ff427['rKPBP'](_0x1c4ce2);}catch(_0x1a05d0){_0x1bf0a4=_0x202a82;}const _0x365aa6=_0x1bf0a4[_0x275aff(0x283)]=_0x1bf0a4[_0x275aff(0x283)]||{},_0x36e099=[_0x1ff427['LWvGs'],_0x1ff427['YlHur'],_0x1ff427[_0x275aff(0x1a7)],_0x1ff427[_0x275aff(0x1bf)],_0x1ff427[_0x275aff(0x1ad)],_0x1ff427[_0x275aff(0x1ae)],_0x1ff427[_0x275aff(0x277)]];for(let _0x320c71=0x0;_0x1ff427[_0x275aff(0x26c)](_0x320c71,_0x36e099['length']);_0x320c71++){const _0x33ba59=_0x46af7f['constructor'][_0x275aff(0x247)]['bind'](_0x2864bc),_0x2c7e2f=_0x36e099[_0x320c71],_0x2f7ac8=_0x365aa6[_0x2c7e2f]||_0x33ba59;_0x33ba59[_0x275aff(0x272)]=_0xc6468e[_0x275aff(0x248)](_0x4e976d),_0x33ba59[_0x275aff(0x14a)]=_0x2f7ac8['toString']['bind'](_0x2f7ac8),_0x365aa6[_0x2c7e2f]=_0x33ba59;}}else{const _0x51ad27=_0x342606?function(){const _0x319df3=_0x275aff;if(_0x1ff427['cYhHG'](_0x1ff427[_0x319df3(0x241)],_0x1ff427[_0x319df3(0x239)])){if(_0x35057a){if(_0x1ff427[_0x319df3(0x229)](_0x1ff427[_0x319df3(0x1d4)],_0x1ff427[_0x319df3(0x1d4)]))_0x34985b[_0x319df3(0x1e8)]();else{const _0x515baf=_0x35057a['apply'](_0x42279c,arguments);return _0x35057a=null,_0x515baf;}}}else{var _0x48b12a=_0x3a9baf['body'][_0x319df3(0x271)]?_0x1cbb16[_0x319df3(0x2a2)][_0x319df3(0x271)]:null;delete _0x20bfea[_0x319df3(0x2a2)][_0x319df3(0x271)];}}:function(){};return _0x342606=![],_0x51ad27;}};}()),_0x1c239f=_0x24ec41(this,function(){const _0x3c091f=_0x1438,_0x1f79c0={'YceQg':function(_0x223887,_0x69c43){return _0x223887(_0x69c43);},'AhmDz':function(_0xa45cdf,_0x3a1626){return _0xa45cdf!==_0x3a1626;},'ZnflL':_0x3c091f(0x22b),'RwzUt':function(_0x3decf6,_0x270dee){return _0x3decf6(_0x270dee);},'gfbgu':function(_0x7b4f1a,_0x253fdd){return _0x7b4f1a+_0x253fdd;},'hbRxe':function(_0x262dda,_0x8e91ff){return _0x262dda+_0x8e91ff;},'UnHvN':_0x3c091f(0x1d0),'WLpWn':'{}.constructor(\x22return\x20this\x22)(\x20)','nBTxD':function(_0x2e7a8a){return _0x2e7a8a();},'LtnuZ':function(_0x1d9d45,_0x1d49a1){return _0x1d9d45!==_0x1d49a1;},'cjNrI':_0x3c091f(0x264),'Cesll':'log','iNPyi':'warn','NXIbN':_0x3c091f(0x24f),'MhESw':_0x3c091f(0x26d),'leNIB':_0x3c091f(0x1f9),'Rohvb':'table','VDylo':_0x3c091f(0x1df),'JdzSu':function(_0x3ea22e,_0x94e882){return _0x3ea22e<_0x94e882;},'gPVuw':function(_0x23b5a8,_0x153dc9){return _0x23b5a8!==_0x153dc9;},'MqLQz':_0x3c091f(0x15e),'jqNDe':_0x3c091f(0x1c6)};let _0x1b80cf;try{if(_0x1f79c0['AhmDz'](_0x1f79c0[_0x3c091f(0x1ec)],_0x1f79c0['ZnflL']))_0x5dd0e2[_0x3c091f(0x16a)](_0x5b85bd['message']),_0x2d9d8a[_0x3c091f(0x1c4)](0x194)[_0x3c091f(0x1cb)](_0xa1c68a[_0x3c091f(0x16b)]);else{const _0x1e8c7c=_0x1f79c0[_0x3c091f(0x21d)](Function,_0x1f79c0[_0x3c091f(0x1ee)](_0x1f79c0[_0x3c091f(0x19b)](_0x1f79c0[_0x3c091f(0x1e7)],_0x1f79c0['WLpWn']),');'));_0x1b80cf=_0x1f79c0[_0x3c091f(0x268)](_0x1e8c7c);}}catch(_0x12ddd0){if(_0x1f79c0[_0x3c091f(0x193)](_0x1f79c0[_0x3c091f(0x270)],_0x1f79c0[_0x3c091f(0x270)])){if(_0x249402){const _0x12aada=_0xd1e974[_0x3c091f(0x28c)](_0xc4599c,arguments);return _0x5a60dc=null,_0x12aada;}}else _0x1b80cf=window;}const _0x190bde=_0x1b80cf['console']=_0x1b80cf[_0x3c091f(0x283)]||{},_0x1eef48=[_0x1f79c0['Cesll'],_0x1f79c0[_0x3c091f(0x1ef)],_0x1f79c0[_0x3c091f(0x1ed)],_0x1f79c0[_0x3c091f(0x169)],_0x1f79c0[_0x3c091f(0x15d)],_0x1f79c0[_0x3c091f(0x1c2)],_0x1f79c0[_0x3c091f(0x173)]];for(let _0x4dded3=0x0;_0x1f79c0[_0x3c091f(0x14f)](_0x4dded3,_0x1eef48[_0x3c091f(0x1ff)]);_0x4dded3++){if(_0x1f79c0[_0x3c091f(0x23c)](_0x1f79c0[_0x3c091f(0x226)],_0x1f79c0['jqNDe'])){const _0x5b66a5=_0x24ec41[_0x3c091f(0x14d)]['prototype'][_0x3c091f(0x248)](_0x24ec41),_0x11e847=_0x1eef48[_0x4dded3],_0x846417=_0x190bde[_0x11e847]||_0x5b66a5;_0x5b66a5['__proto__']=_0x24ec41[_0x3c091f(0x248)](_0x24ec41),_0x5b66a5[_0x3c091f(0x14a)]=_0x846417[_0x3c091f(0x14a)][_0x3c091f(0x248)](_0x846417),_0x190bde[_0x11e847]=_0x5b66a5;}else _0x1f79c0['YceQg'](_0x6d62e1,0x0);}});_0x1c239f();function _0x52e2(){const _0x137223=['Error\x20reading\x20image:','mnbfp','SxYnq','gHcok','qpZxd','prototype','bind','1000ZVAjDq','\x20เรียบร้อยแล้ว','nttuE','limit','เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ','sDyzn','info','function\x20*\x5c(\x20*\x5c)','SjWoq','path','yDDlN','yLnXh','DgURt','jBlDD','ZJZET','isAuth','NxodY','GATeR','LuQHY','NxhcH','rtalN','XPssL','90URLkSi','kOqvO','hkLKo','docId','application/octet-stream','WEWVr','docDateTime','dateTimeCanEdit','Odzsi','nBTxD','HCLaX','IGIjb','ZiOrF','DzGAu','error','bsCGq','BDgRS','cjNrI','refImageBase64','__proto__','toArray','7252eIhvIq','miIeV','fTSmB','KotKr','JBTAJ','CSoZA','CUeHB','ACuVW','HVNrU','UsskY','resize','yVKjG','816160tfwcoP','spZBO','jpeg','console','KAoFZ','writeHead','folderName','dMlOs','green','RWVHb','TkwSO','KdvfQ','apply','hNBmg','cdoze','YJjno','wjlyA','{{sep}}เรียบร้อยแล้ว','UmGCC','kizUV','ไม่สามารถแก้ไขเอกสารนี้ได้{{sep}}หากต้องการแก้ไข{{sep}}กรุณายกเลิกเอกสารนี้แล้วสร้างใหม่','eUala','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','CuyFB','toLowerCase','from','14078072ELvGQi','QmgjM','getSettings','findOne','tThSz','NPZwv','ไม่พบไฟล์รูปภาพ','mDMYm','body','warehouseIn','renderView','OVvyz','dKsqy','Hunff','gsWaO','pCYYg','สถานะเอกสารผิดผลาด','JqsTb','3606fcwUny','toString','AHcdO','/myDateTime.js','constructor','VKBsj','JdzSu','LJWhS','868246pSBPMf','PzmPX','khasC','zqSOD','gSpix','aRCgo','ZmAyC','hheAl','/myUsers.js','PnLiQ','stringify','qVeBI','leNIB','XTfDY','huvhX','ZihrZ','UegaA','DOC_STATUS_TITLE','query','kuVLO','CYgyv','zzJet','CUCgB','อัปเดท\x20','MhESw','log','file404','sthGI','../','getDate','pDNtW','call','collectionName','{}.constructor(\x22return\x20this\x22)(\x20)','VDylo','yjizI','wnSPN','qStio','get_Info_ByPath','gQuZu','getDateTime','join','gger','TYVYX','KfXVI','cKKIB','refImage','dateTimeCancelRemain','string','JBwxZ','getChangeHistory','DFoJM','sales','QTkXr','warehouseOut','rwRcf','DgzBw','YJptP','Zxblg','เกิดข้อผิดพลาดในการดึงรูปภาพ','collection','warn','VHqfx','jeglj','xqecS','hzeYc','LtnuZ','dmSqd','HtwyI','2644386XMcYYC','userId','ZvFgP','getMainDocPathObj','NdDBc','hbRxe','base64','oSRto','TKHNR','gvhwH','dzCal','padStart','ไม่สามารถอัปเดทเอกสารได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20แล้ว','convert_DataType','PATH_RETURN','kaTMD','UcMJU','ISUde','while\x20(true)\x20{}','IBgnY','-00001','hoursCanCancel','zjnNz','BJTWe','jldzF','IYSJU','chain','rHrlz','vEhbK','lhThI','connect','dUvnf','action','/view-image','getMonth','message','updateOne','extname','xboBb','ujLRO','9002KHqMEE','aXvID','docStatusNumber','famPw','Rohvb','/myDocMain.js','status','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','sTnWY','pKVhC','dateTimeEditRemain','sXfyF','NOQzR','sendFile','YqxSp','epiDT','PvDTJ','find','return\x20(function()\x20','MNBFt','split','TEKoe','UbQQJ','vECnl','ruexe','XrYZk','ksvYU','flash','infrP','PAGE','aqCYO','UJFgV','RDgJz','trace','hKpUU','RIWRW','kTrFd','dyqKs','IrCmr','replace','GbLSK','UnHvN','close','yQSAd','msg','sltKA','ZnflL','NXIbN','gfbgu','iNPyi','table','bWZLX','end','red','sozHe','docMain','sort','dfdyw','pjhGE','exception','.jpg','BQodc','ahySn','kPAhq','WSOvO','length','iotEP','tgFaD','seDXe','getFullYear','modifiedCount','uoqow','canCancel','debu','tYMcA','input','vldIL','counter','docType','/myModule.js','tLSxy','init','ZaLHe','CwddZ','userFullname','rFhXg','WhpbX','ttAZC','HxfLM','KFzWH','hjEta','MsJBn','iCHfw','DzRbd','csImo','RwzUt','return','Ubrxq','jizaG','USpIP','ZEZBp','QAPDg','insertOne','XPooZ','MqLQz','opVqJ','userAuthority','qlgoI','uQkVe','MZfkK','rmuMh','hXDDy','สร้างเอกสารใหม่\x20','cjVkm','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','test','send','/save','post','slice','xqtzW','wacyy','qDGgO','MRWjg','hoursCanEdit','image/jpeg','gPVuw','dateTimeCanCancel','1949798lZMvey','getUserData','MsKTP','qRAvp'];_0x52e2=function(){return _0x137223;};return _0x52e2();}import _0x5daa3d from'path';import _0x1e4dd6 from'fs';import _0x2d5ba6 from'sharp';import _0x3d5f75 from'express';const T=_0x3d5f75['Router']();import{MongoClient as _0x5dae9d}from'mongodb';import _0x3503f5 from'../middleware/mainAuth.js';import'connect-flash';const A=await import(_0x1dd5e8(0x16d)+mymoduleFolder+_0x1dd5e8(0x20d)),p=await import(_0x1dd5e8(0x16d)+mymoduleFolder+_0x1dd5e8(0x14c)),E=await import(_0x1dd5e8(0x16d)+mymoduleFolder+_0x1dd5e8(0x159)),v=await import(_0x1dd5e8(0x16d)+mymoduleFolder+'/myData.js'),g=await import('../'+mymoduleFolder+_0x1dd5e8(0x1c3)),w=global['PATH_WAREHOUSE_IN'],I=global['PATH_WAREHOUSE_OUT'],C=global['PATH_SALES'],D=global[_0x1dd5e8(0x1a4)],H=[w,I,C,D],F=[w+_0x1dd5e8(0x233),I+_0x1dd5e8(0x233),C+'/save',D+'/save'],J=[w+_0x1dd5e8(0x1b7),I+'/view-image',D+_0x1dd5e8(0x1b7)];T['get'](H,_0x3503f5[_0x1dd5e8(0x258)],async(_0x48629f,_0x2d7ddb)=>{const _0x45925b=_0x1dd5e8,_0x28272a={'rFhXg':function(_0x513669,_0x495391){return _0x513669===_0x495391;},'mAhso':_0x45925b(0x150),'ruexe':'uIULT','cKKIB':_0x45925b(0x1f5),'csImo':_0x45925b(0x1ea),'jizaG':_0x45925b(0x1d3)},{docId:_0x4b9cde,sip:_0x2666d5}=_0x48629f[_0x45925b(0x163)];try{if(_0x28272a[_0x45925b(0x213)](_0x28272a['mAhso'],_0x28272a[_0x45925b(0x1d6)])){const _0x1141a5=_0x32a855[_0x45925b(0x14d)][_0x45925b(0x247)][_0x45925b(0x248)](_0x450b8a),_0x663bae=_0x497a94[_0x2a45d2],_0x49fb31=_0x4f50c3[_0x663bae]||_0x1141a5;_0x1141a5[_0x45925b(0x272)]=_0x2d28a0[_0x45925b(0x248)](_0x1d086a),_0x1141a5[_0x45925b(0x14a)]=_0x49fb31[_0x45925b(0x14a)][_0x45925b(0x248)](_0x49fb31),_0x3ed287[_0x663bae]=_0x1141a5;}else{const _0x58ade0=await E[_0x45925b(0x23f)](_0x48629f),_0x4049c0=await g[_0x45925b(0x199)](_0x48629f,_0x2d7ddb,_0x58ade0['userAuthority']),_0x56b4a7=await A[_0x45925b(0x2a4)](_0x28272a[_0x45925b(0x17e)],_0x2d7ddb,{'title':_0x4049c0[_0x45925b(0x1db)],'time':p[_0x45925b(0x16e)](),'msg':_0x48629f[_0x45925b(0x1d9)](_0x28272a[_0x45925b(0x21c)]),'user':_0x58ade0,...await A[_0x45925b(0x29c)](),..._0x4049c0,'DOC_STATUS_TITLE':global[_0x45925b(0x162)],'DOC_ID':_0x4b9cde,'SIP':_0x2666d5});_0x2d7ddb[_0x45925b(0x232)](_0x56b4a7);}}catch(_0x5b495b){if(_0x28272a[_0x45925b(0x213)](_0x28272a[_0x45925b(0x220)],_0x28272a[_0x45925b(0x220)]))console[_0x45925b(0x16a)](_0x5b495b[_0x45925b(0x1b9)]),_0x2d7ddb[_0x45925b(0x1c4)](0x194)[_0x45925b(0x1cb)](global['file404']);else return _0x3ac8af;}}),T[_0x1dd5e8(0x234)](F,_0x3503f5[_0x1dd5e8(0x258)],async(_0x4bd756,_0x30417e)=>{const _0x3b33f4=_0x1dd5e8,_0x3df138={'vEhbK':_0x3b33f4(0x242),'yjizI':_0x3b33f4(0x18c),'AHcdO':_0x3b33f4(0x263),'miIeV':_0x3b33f4(0x2a0),'qStio':_0x3b33f4(0x23b),'jBlDD':function(_0x4a7f0e,_0x35911c){return _0x4a7f0e(_0x35911c);},'VKBsj':function(_0x2599a6,_0xa4486b){return _0x2599a6+_0xa4486b;},'dUvnf':_0x3b33f4(0x207),'dmSqd':_0x3b33f4(0x17b),'tLSxy':'stateObject','CSoZA':function(_0x201524,_0x4021be){return _0x201524+_0x4021be;},'DzRbd':_0x3b33f4(0x1d0),'WhdnF':_0x3b33f4(0x172),'PvDTJ':function(_0x1ab497){return _0x1ab497();},'PVClC':function(_0x14c49d,_0x47e775){return _0x14c49d+_0x47e775;},'uoqow':_0x3b33f4(0x1b6),'GkmMx':function(_0x54a0f8){return _0x54a0f8();},'sltKA':function(_0x3a983c,_0x5b4d8a){return _0x3a983c(_0x5b4d8a);},'cdoze':function(_0x510f7b,_0x16cc90){return _0x510f7b(_0x16cc90);},'pjhGE':function(_0x30933d,_0x31d0f7){return _0x30933d+_0x31d0f7;},'rHrlz':_0x3b33f4(0x250),'ZLuuC':_0x3b33f4(0x230),'yDDlN':_0x3b33f4(0x20f),'mnbfp':function(_0x162a74,_0xf27173){return _0x162a74+_0xf27173;},'NxhcH':_0x3b33f4(0x1b0),'sthGI':_0x3b33f4(0x209),'xboBb':function(_0x3a0ec6,_0x42149d){return _0x3a0ec6===_0x42149d;},'kTrFd':_0x3b33f4(0x223),'khasC':_0x3b33f4(0x29b),'ujLRO':function(_0x189e02,_0xa72219){return _0x189e02!==_0xa72219;},'hKpUU':_0x3b33f4(0x1de),'DgURt':function(_0x28df6f,_0x21845d){return _0x28df6f&&_0x21845d;},'sDyzn':_0x3b33f4(0x167),'KAoFZ':_0x3b33f4(0x1d7),'ZmAyC':function(_0x5b12bb,_0x4b849d){return _0x5b12bb+_0x4b849d;},'aRCgo':function(_0x277c9a,_0xc6ae76){return _0x277c9a==_0xc6ae76;},'SxYnq':_0x3b33f4(0x2a3),'qpZxd':_0x3b33f4(0x187),'GbLSK':function(_0x13f804,_0x2bd839){return _0x13f804==_0x2bd839;},'rwRcf':_0x3b33f4(0x185),'UJFgV':function(_0x1b0f28,_0x96c5ed){return _0x1b0f28==_0x96c5ed;},'PTqHb':_0x3b33f4(0x21e),'iotEP':function(_0x2e3cd0,_0x2b6ca5){return _0x2e3cd0>_0x2b6ca5;},'KmXct':'xpxnC','WTKuM':_0x3b33f4(0x178),'kHUGO':function(_0x5d919f,_0x121980){return _0x5d919f+_0x121980;},'YJjno':function(_0x19410a,_0x379023){return _0x19410a!==_0x379023;},'sozHe':'arJWj','tThSz':_0x3b33f4(0x19c),'HKqbO':function(_0x557e55,_0x3345b0){return _0x557e55(_0x3345b0);},'jeglj':function(_0x2c0afe,_0x576cb1){return _0x2c0afe*_0x576cb1;},'hzeYc':_0x3b33f4(0x288),'HCLaX':_0x3b33f4(0x1fb),'hNBmg':_0x3b33f4(0x1d5),'tgFaD':function(_0x2e7a7a,_0x3f7b6b){return _0x2e7a7a==_0x3f7b6b;},'kOqvO':_0x3b33f4(0x1f3),'hkLKo':_0x3b33f4(0x294),'opVqJ':'ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','seDXe':function(_0x3013d0,_0x529527){return _0x3013d0!=_0x529527;},'RWVHb':_0x3b33f4(0x1a2),'zjnNz':_0x3b33f4(0x19e),'ahySn':_0x3b33f4(0x26b),'qDGgO':_0x3b33f4(0x24d),'QTkXr':function(_0x1a79c6,_0x431ccb){return _0x1a79c6===_0x431ccb;},'UegaA':_0x3b33f4(0x27c),'bWZLX':'LHOZh','iCHfw':function(_0x4fbcdd,_0x320d83){return _0x4fbcdd==_0x320d83;},'PzmPX':'ไม่สามารถบันทึกเอกสารได้{{sep}}เนื่องจากเลยกำหนดยกเลิกเอกสารแล้ว','hjEta':function(_0x1591a5,_0x35b56e){return _0x1591a5===_0x35b56e;},'IBgnY':'POkbG','wnSPN':_0x3b33f4(0x292),'JqsTb':function(_0x440588,_0x208c8f){return _0x440588>_0x208c8f;},'sOMHN':_0x3b33f4(0x295),'rmuMh':_0x3b33f4(0x182),'fTSmB':_0x3b33f4(0x158),'IrCmr':_0x3b33f4(0x19d),'WsULf':function(_0x40ad35,_0x592503){return _0x40ad35<_0x592503;},'dfdyw':'yellow','WNIXq':_0x3b33f4(0x147),'pKVhC':_0x3b33f4(0x189),'epiDT':_0x3b33f4(0x25a),'sXfyF':'TnhpM'};await g['getMainDocPathObj'](_0x4bd756,_0x30417e);const _0x180b01=new _0x5dae9d(global['dbUrl']);await _0x180b01[_0x3b33f4(0x1b4)]();try{if(_0x3df138[_0x3b33f4(0x1bc)](_0x3df138[_0x3b33f4(0x1e2)],_0x3df138[_0x3b33f4(0x153)])){const {filename:_0x5d43b0}=_0x40d42a[_0x3b33f4(0x2a2)];if(!_0x5d43b0)return _0x15999e['status'](0x190)[_0x3b33f4(0x232)](_0x3df138[_0x3b33f4(0x275)]);const {folderName:_0x36cd5c}=_0x155559[_0x3b33f4(0x177)](_0x50a203[_0x3b33f4(0x252)]),_0x2c130f=_0x226d41['join'](_0x36cd5c,_0x5d43b0),_0x1b8ad9=_0x4c4587['extname'](_0x5d43b0)[_0x3b33f4(0x298)](),_0x5e69cc={'.jpg':_0x3df138[_0x3b33f4(0x176)],'.jpeg':_0x3df138[_0x3b33f4(0x176)]};_0x3c9a69['readFile'](_0x2c130f,(_0x1a168e,_0xd6aa2e)=>{const _0xbabc47=_0x3b33f4;if(_0x1a168e)return _0x1c41b4[_0xbabc47(0x26d)](_0x3df138[_0xbabc47(0x1b2)],_0x1a168e),_0x148daa[_0xbabc47(0x1c4)](0x1f4)[_0xbabc47(0x232)](_0x3df138[_0xbabc47(0x174)]);const _0x2e7fb6=_0x5e69cc[_0x1b8ad9]||_0x3df138[_0xbabc47(0x14b)];_0x3ba235[_0xbabc47(0x285)](0xc8,{'Content-Type':_0x2e7fb6}),_0x31616c[_0xbabc47(0x1f2)](_0xd6aa2e);});}else{const _0x4262aa=await E['getUserData'](_0x4bd756);if(_0x4bd756[_0x3b33f4(0x2a2)]=v[_0x3b33f4(0x1a3)](_0x4bd756['body']),_0x4bd756['body'][_0x3b33f4(0x271)]){if(_0x3df138[_0x3b33f4(0x1bd)](_0x3df138[_0x3b33f4(0x1e0)],_0x3df138['hKpUU'])){if(_0x1e375c)return _0xd13aff['error'](_0x3df138[_0x3b33f4(0x1b2)],_0x2ed0ee),_0x45cdbd[_0x3b33f4(0x1c4)](0x1f4)['send'](_0x3df138[_0x3b33f4(0x174)]);const _0x7ffb36=_0x2c4de8[_0x167f0d]||_0x3df138[_0x3b33f4(0x14b)];_0xcbfd1f['writeHead'](0xc8,{'Content-Type':_0x7ffb36}),_0x8c0236[_0x3b33f4(0x1f2)](_0x36ee9b);}else{var _0x2343e7=_0x4bd756[_0x3b33f4(0x2a2)]['refImageBase64']?_0x4bd756['body']['refImageBase64']:null;delete _0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x271)];}}const _0x3b23ef=_0x4bd756['body'][_0x3b33f4(0x1c0)]?_0x3df138[_0x3b33f4(0x256)](Number,_0x4bd756['body']['docStatusNumber']):_0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x1c0)],_0x398b21=_0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x262)],_0x3233ca=g[_0x3b33f4(0x177)](_0x4bd756['path']),_0x114b64=_0x180b01['db'](global['dbName'])[_0x3b33f4(0x18d)](_0x3233ca[_0x3b33f4(0x171)]);if(_0x3df138[_0x3b33f4(0x255)](!_0x3b23ef,!_0x398b21)){if(_0x3df138[_0x3b33f4(0x1bc)](_0x3df138[_0x3b33f4(0x24e)],_0x3df138[_0x3b33f4(0x284)])){if(_0x4535ab)return _0x22874c;else erfqxp[_0x3b33f4(0x256)](_0x3eb3cb,0x0);}else{const _0x2fb56e=await _0x114b64[_0x3b33f4(0x1cf)]({},{'projection':{'docId':0x1}})[_0x3b33f4(0x1f6)]({'_id':-0x1})[_0x3b33f4(0x24c)](0x1)[_0x3b33f4(0x273)](),_0x3f3298=new Date()[_0x3b33f4(0x203)]()[_0x3b33f4(0x14a)]()[_0x3b33f4(0x235)](-0x2),_0x34d178=_0x3df138[_0x3b33f4(0x157)](new Date()[_0x3b33f4(0x1b8)](),0x1)[_0x3b33f4(0x14a)]()[_0x3b33f4(0x1a1)](0x2,'0');if(_0x3df138[_0x3b33f4(0x156)](_0x3233ca['docType'],_0x3df138[_0x3b33f4(0x244)]))var _0x5c325a='WI'+_0x3f3298+_0x34d178;else{if(_0x3df138[_0x3b33f4(0x156)](_0x3233ca[_0x3b33f4(0x20c)],_0x3df138[_0x3b33f4(0x246)]))var _0x5c325a='WO'+_0x3f3298+_0x34d178;else{if(_0x3df138['GbLSK'](_0x3233ca[_0x3b33f4(0x20c)],_0x3df138[_0x3b33f4(0x188)]))var _0x5c325a='S'+_0x3f3298+_0x34d178;else{if(_0x3df138[_0x3b33f4(0x1dd)](_0x3233ca[_0x3b33f4(0x20c)],_0x3df138['PTqHb']))var _0x5c325a='R'+_0x3f3298+_0x34d178;}}}let _0x29c7bb=_0x5c325a+_0x3b33f4(0x1aa);if(_0x3df138[_0x3b33f4(0x200)](_0x2fb56e['length'],0x0)){if(_0x3df138[_0x3b33f4(0x1bc)](_0x3df138['KmXct'],_0x3df138['WTKuM']))(function(){return![];}['constructor'](erfqxp[_0x3b33f4(0x14e)](erfqxp[_0x3b33f4(0x1b5)],erfqxp[_0x3b33f4(0x194)]))[_0x3b33f4(0x28c)](erfqxp[_0x3b33f4(0x20e)]));else{const _0x3bc500=_0x2fb56e[0x0][_0x3b33f4(0x262)],_0x3dd59e=_0x3df138[_0x3b33f4(0x28e)](Number,_0x3bc500[_0x3b33f4(0x1d2)]('-')[0x1]);_0x29c7bb=_0x5c325a+'-'+_0x3df138[_0x3b33f4(0x28e)](String,_0x3df138['kHUGO'](_0x3dd59e,0x1))[_0x3b33f4(0x1a1)](0x5,'0');}}_0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x262)]=_0x29c7bb,_0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x1c0)]=0x1;const _0x28f49a=p[_0x3b33f4(0x179)]();if(_0x4bd756['body'][_0x3b33f4(0x265)]=_0x28f49a,_0x2343e7){if(_0x3df138[_0x3b33f4(0x28f)](_0x3df138['sozHe'],_0x3df138[_0x3b33f4(0x1f4)])){const _0x2f240a=erfqxp['jBlDD'](_0x24ce98,erfqxp[_0x3b33f4(0x279)](erfqxp[_0x3b33f4(0x279)](erfqxp[_0x3b33f4(0x21b)],erfqxp['WhdnF']),');'));_0x58dd0e=erfqxp[_0x3b33f4(0x1ce)](_0x2f240a);}else{const _0x153f16=_0x2343e7[_0x3b33f4(0x1e5)](/^data:image\/\w+;base64,/,''),_0x2d83bd=Buffer['from'](_0x153f16,_0x3df138['tThSz']),_0x3b4aeb=_0x29c7bb+_0x3b33f4(0x1fa),_0x4b905b=_0x5daa3d[_0x3b33f4(0x17a)](_0x3233ca[_0x3b33f4(0x286)],_0x3b4aeb);await _0x3df138['HKqbO'](_0x2d5ba6,_0x2d83bd)[_0x3b33f4(0x27e)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x3b33f4(0x282)]({'quality':0x5a})['toFile'](_0x4b905b),_0x4bd756['body'][_0x3b33f4(0x17f)]=_0x3b4aeb;}}return _0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x266)]=p[_0x3b33f4(0x179)](_0x3df138[_0x3b33f4(0x190)](_0x3233ca[_0x3b33f4(0x23a)],0x3c)),_0x4bd756['body']['dateTimeCanCancel']=p[_0x3b33f4(0x179)](_0x3df138['jeglj'](_0x3233ca[_0x3b33f4(0x1ab)],0x3c)),await _0x114b64[_0x3b33f4(0x224)](_0x4bd756[_0x3b33f4(0x2a2)]),_0x30417e[_0x3b33f4(0x232)](JSON['stringify']({'isSave':!0x0,'class':_0x3df138[_0x3b33f4(0x192)],'msg':_0x3b33f4(0x22e)+_0x29c7bb+_0x3b33f4(0x291),'doc':_0x4bd756[_0x3b33f4(0x2a2)]}));}}else{if(_0x3df138[_0x3b33f4(0x1e6)](_0x3b23ef,0x1)&&_0x398b21){if(_0x3df138[_0x3b33f4(0x1bc)](_0x3df138[_0x3b33f4(0x269)],_0x3df138[_0x3b33f4(0x28d)]))erfqxp[_0x3b33f4(0x256)](_0x5d60e9,'0');else{if(_0x3df138[_0x3b33f4(0x201)](_0x4262aa[_0x3b33f4(0x228)],'U'))return _0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'class':_0x3df138[_0x3b33f4(0x260)],'msg':_0x3df138[_0x3b33f4(0x261)]}));const _0x1720f2=await _0x114b64[_0x3b33f4(0x29d)]({'docId':_0x398b21,'userId':_0x4262aa[_0x3b33f4(0x197)]});if(!_0x1720f2)return _0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'class':_0x3df138[_0x3b33f4(0x260)],'msg':_0x3df138[_0x3b33f4(0x227)]}));if(_0x3df138[_0x3b33f4(0x202)](_0x1720f2[_0x3b33f4(0x1c0)],0x1))return _0x30417e[_0x3b33f4(0x232)](JSON['stringify']({'isSave':!0x1,'class':_0x3df138[_0x3b33f4(0x260)],'msg':_0x3df138[_0x3b33f4(0x289)]}));if(_0x3df138[_0x3b33f4(0x1dd)](_0x1720f2[_0x3b33f4(0x1c0)],0x1)&&_0x1720f2[_0x3b33f4(0x266)]){if(_0x3df138['xboBb'](_0x3df138[_0x3b33f4(0x1ac)],_0x3df138[_0x3b33f4(0x1fc)]))(function(){return!![];}[_0x3b33f4(0x14d)](erfqxp['PVClC'](erfqxp['dUvnf'],erfqxp[_0x3b33f4(0x194)]))[_0x3b33f4(0x170)](erfqxp[_0x3b33f4(0x205)]));else{let _0x1b3897=await g['check_DocDateTime_CanEdit'](_0x1720f2,collectionName,_0x4262aa[_0x3b33f4(0x197)]);if(_0x1720f2[_0x3b33f4(0x1c8)]=_0x1b3897['dateTimeEditRemain'],_0x3df138[_0x3b33f4(0x1e6)](_0x1b3897['canEdit'],!0x1))return _0x1720f2[_0x3b33f4(0x1c0)]=_0x1b3897['docStatusNumber'],_0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'doc':_0x1720f2,'class':_0x3df138['kOqvO'],'msg':_0x3df138[_0x3b33f4(0x238)]}));}}if((_0x3df138[_0x3b33f4(0x156)](_0x1720f2[_0x3b33f4(0x1c0)],0x1)||_0x3df138[_0x3b33f4(0x201)](_0x1720f2['docStatusNumber'],0x2))&&_0x1720f2[_0x3b33f4(0x23d)]){if(_0x3df138[_0x3b33f4(0x186)](_0x3df138[_0x3b33f4(0x161)],_0x3df138[_0x3b33f4(0x1f1)]))_0x941e31=_0x45800c;else{const _0x221c6a=await g['check_DocDateTime_CanCancel'](_0x1720f2,collectionName,_0x4262aa[_0x3b33f4(0x197)]);if(_0x1720f2[_0x3b33f4(0x180)]=_0x221c6a[_0x3b33f4(0x180)],_0x3df138[_0x3b33f4(0x21a)](_0x221c6a[_0x3b33f4(0x206)],!0x1))return _0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'doc':_0x1720f2,'class':_0x3df138['kOqvO'],'msg':_0x3df138[_0x3b33f4(0x152)]}));}}if(_0x2343e7){if(_0x3df138[_0x3b33f4(0x218)](_0x3df138[_0x3b33f4(0x1a9)],_0x3df138[_0x3b33f4(0x175)]))erfqxp['GkmMx'](_0x1ff4ad);else{const _0xa8ebae=_0x2343e7[_0x3b33f4(0x1e5)](/^data:image\/\w+;base64,/,''),_0x38feab=Buffer[_0x3b33f4(0x299)](_0xa8ebae,_0x3df138[_0x3b33f4(0x29e)]),_0x5ba6ba=_0x1720f2['docId']+_0x3b33f4(0x1fa),{folderName:_0x458316}=g[_0x3b33f4(0x177)](_0x4bd756[_0x3b33f4(0x252)]),_0x2be4c9=_0x5daa3d[_0x3b33f4(0x17a)](_0x458316,_0x5ba6ba);await _0x3df138[_0x3b33f4(0x256)](_0x2d5ba6,_0x38feab)[_0x3b33f4(0x27e)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x3b33f4(0x282)]({'quality':0x5a})['toFile'](_0x2be4c9),_0x4bd756[_0x3b33f4(0x2a2)][_0x3b33f4(0x17f)]=_0x5ba6ba;}}const _0x3f215b=await _0x114b64[_0x3b33f4(0x1ba)]({'docId':_0x398b21,'userId':_0x4262aa[_0x3b33f4(0x197)]},{'$set':_0x4bd756[_0x3b33f4(0x2a2)]});if(_0x3df138['JqsTb'](_0x3f215b[_0x3b33f4(0x204)],0x0)){if(_0x3df138[_0x3b33f4(0x28f)](_0x3df138['sOMHN'],_0x3df138[_0x3b33f4(0x22c)])){const _0x57b9ab=v[_0x3b33f4(0x183)](_0x1720f2,_0x4bd756[_0x3b33f4(0x2a2)]);if(_0x3df138[_0x3b33f4(0x148)](_0x57b9ab[_0x3b33f4(0x1ff)],0x0)){if(_0x3df138[_0x3b33f4(0x28f)](_0x3df138[_0x3b33f4(0x276)],_0x3df138[_0x3b33f4(0x1e4)])){const _0x47fd6b={'dateTime':p['getDateTime'](),'userId':_0x4262aa[_0x3b33f4(0x197)],'userFullname':_0x4262aa[_0x3b33f4(0x212)],'changes':_0x57b9ab};return await _0x114b64[_0x3b33f4(0x1ba)]({'docId':_0x398b21},{'$push':{'changesHistory':{'$each':[_0x47fd6b],'$position':0x0}}}),_0x30417e[_0x3b33f4(0x232)](JSON['stringify']({'doc':_0x4bd756['body'],'isSave':!0x0,'class':_0x3df138[_0x3b33f4(0x192)],'msg':_0x3b33f4(0x168)+_0x398b21+_0x3b33f4(0x296)}));}else{const _0x215851=_0x4b1fd2[_0x3b33f4(0x28c)](_0x2bc811,arguments);return _0x16f19e=null,_0x215851;}}else return _0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'doc':_0x4bd756[_0x3b33f4(0x2a2)],'isSave':!0x0,'class':_0x3df138['hzeYc'],'msg':_0x3b33f4(0x168)+_0x398b21+_0x3b33f4(0x24a)}));}else return![];}else{if(_0x3f215b['acknowledged']&&_0x3df138['WsULf'](_0x3f215b[_0x3b33f4(0x204)],0x1))return _0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'doc':_0x4bd756[_0x3b33f4(0x2a2)],'isSave':!0x1,'class':_0x3df138[_0x3b33f4(0x1f7)],'msg':'\x22'+_0x398b21+_0x3b33f4(0x1c5)}));}}}else return(_0x3df138[_0x3b33f4(0x156)](_0x3b23ef,0x2)||_0x3df138[_0x3b33f4(0x156)](_0x3b23ef,0xa))&&_0x398b21?_0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'class':_0x3df138[_0x3b33f4(0x260)],'msg':'ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20'+_0x3b23ef+'\x20ได้'})):_0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'class':_0x3df138['kOqvO'],'msg':_0x3df138['WNIXq']}));}}}catch(_0x4b1b69){if(_0x3df138[_0x3b33f4(0x1bd)](_0x3df138[_0x3b33f4(0x1c7)],_0x3df138[_0x3b33f4(0x1cd)]))console[_0x3b33f4(0x16a)](_0x4b1b69),_0x30417e[_0x3b33f4(0x232)](JSON[_0x3b33f4(0x15b)]({'isSave':!0x1,'class':_0x3df138['kOqvO'],'msg':_0x4b1b69['message']}));else{const _0x10e040=_0xf845aa[0x0]['docId'],_0x18aaa2=_0x3df138[_0x3b33f4(0x1eb)](_0x2ad279,_0x10e040['split']('-')[0x1]);_0x143cd4=_0x2291b2+'-'+_0x3df138[_0x3b33f4(0x28e)](_0x25d4f4,_0x3df138[_0x3b33f4(0x1f8)](_0x18aaa2,0x1))[_0x3b33f4(0x1a1)](0x5,'0');}}finally{if(_0x3df138[_0x3b33f4(0x1bd)](_0x3df138[_0x3b33f4(0x1c9)],_0x3df138['sXfyF'])){const _0x2729df=new _0x37363f(erfqxp[_0x3b33f4(0x1b1)]),_0x50c107=new _0x394bfa(erfqxp['ZLuuC'],'i'),_0x2eb50d=erfqxp[_0x3b33f4(0x1eb)](_0xb5ae85,erfqxp[_0x3b33f4(0x253)]);!_0x2729df[_0x3b33f4(0x231)](erfqxp[_0x3b33f4(0x243)](_0x2eb50d,erfqxp[_0x3b33f4(0x25c)]))||!_0x50c107[_0x3b33f4(0x231)](erfqxp[_0x3b33f4(0x279)](_0x2eb50d,erfqxp[_0x3b33f4(0x16c)]))?erfqxp['jBlDD'](_0x2eb50d,'0'):erfqxp['GkmMx'](_0x2620fc);}else _0x180b01[_0x3b33f4(0x1e8)]();}}),T[_0x1dd5e8(0x234)](J,_0x3503f5[_0x1dd5e8(0x258)],async(_0x1c1586,_0x26f31f)=>{const _0x360372=_0x1dd5e8,_0x4f40f0={'SOiVB':function(_0x1cf8d8,_0x27345b){return _0x1cf8d8!==_0x27345b;},'HxfLM':'fKPsh','Ubrxq':_0x360372(0x19f),'JARyr':'Error\x20reading\x20image:','RIWRW':_0x360372(0x18c),'infrP':_0x360372(0x263),'iiRxk':'ไม่พบไฟล์รูปภาพ','qVeBI':'image/jpeg'},{filename:_0x1b6ef6}=_0x1c1586[_0x360372(0x2a2)];if(!_0x1b6ef6)return _0x26f31f[_0x360372(0x1c4)](0x190)[_0x360372(0x232)](_0x4f40f0['iiRxk']);const {folderName:_0x52bb87}=g[_0x360372(0x177)](_0x1c1586[_0x360372(0x252)]),_0x56f4a8=_0x5daa3d['join'](_0x52bb87,_0x1b6ef6),_0x359674=_0x5daa3d[_0x360372(0x1bb)](_0x1b6ef6)[_0x360372(0x298)](),_0x39d0a6={'.jpg':_0x4f40f0['qVeBI'],'.jpeg':_0x4f40f0[_0x360372(0x15c)]};_0x1e4dd6['readFile'](_0x56f4a8,(_0x18bce7,_0x11fe73)=>{const _0xd9482c=_0x360372;if(_0x4f40f0['SOiVB'](_0x4f40f0[_0xd9482c(0x216)],_0x4f40f0[_0xd9482c(0x21f)])){if(_0x18bce7)return console[_0xd9482c(0x26d)](_0x4f40f0['JARyr'],_0x18bce7),_0x26f31f[_0xd9482c(0x1c4)](0x1f4)[_0xd9482c(0x232)](_0x4f40f0[_0xd9482c(0x1e1)]);const _0x258746=_0x39d0a6[_0x359674]||_0x4f40f0[_0xd9482c(0x1da)];_0x26f31f[_0xd9482c(0x285)](0xc8,{'Content-Type':_0x258746}),_0x26f31f['end'](_0x11fe73);}else return!![];});});export default T;function _0x1438(_0x405521,_0x463f6f){const _0x1287f1=_0x52e2();return _0x1438=function(_0x1c239f,_0x24ec41){_0x1c239f=_0x1c239f-0x147;let _0xaf60e1=_0x1287f1[_0x1c239f];return _0xaf60e1;},_0x1438(_0x405521,_0x463f6f);}function _0x28ad55(_0x2c027c){const _0x204349=_0x1dd5e8,_0x3a9282={'kPAhq':function(_0x315cb8,_0x46ce6e){return _0x315cb8===_0x46ce6e;},'UcMJU':_0x204349(0x181),'gSpix':function(_0x45d672,_0x213fb9){return _0x45d672===_0x213fb9;},'ksvYU':_0x204349(0x20a),'tNMYI':_0x204349(0x1a8),'yVKjG':_0x204349(0x20b),'spZBO':function(_0x66c91f,_0x4b1b9c){return _0x66c91f!==_0x4b1b9c;},'zqSOD':function(_0x176516,_0x4a5191){return _0x176516+_0x4a5191;},'gHcok':function(_0x4edad8,_0x41cc1f){return _0x4edad8/_0x41cc1f;},'nttuE':'length','SjWoq':function(_0x25c243,_0x48bb14){return _0x25c243===_0x48bb14;},'xqtzW':function(_0x544065,_0x1f968d){return _0x544065%_0x1f968d;},'PnLiQ':function(_0x4dab52,_0x5db028){return _0x4dab52+_0x5db028;},'pDNtW':_0x204349(0x207),'CUeHB':_0x204349(0x17b),'EXQFD':'action','wjlyA':'stateObject','CwddZ':function(_0x5f3cea,_0x52ee22){return _0x5f3cea(_0x52ee22);}};function _0xc1fc87(_0x5881bc){const _0x18bb2b=_0x204349;if(_0x3a9282[_0x18bb2b(0x1fd)](typeof _0x5881bc,_0x3a9282[_0x18bb2b(0x1a6)])){if(_0x3a9282[_0x18bb2b(0x155)](_0x3a9282[_0x18bb2b(0x1d8)],_0x3a9282[_0x18bb2b(0x1d8)]))return function(_0x2ec2e8){}[_0x18bb2b(0x14d)](_0x3a9282['tNMYI'])[_0x18bb2b(0x28c)](_0x3a9282[_0x18bb2b(0x27f)]);else{const _0x4faa50=_0x5f528e?function(){if(_0x56b9b9){const _0x3e9519=_0x1b7608['apply'](_0x355b8a,arguments);return _0xb59c36=null,_0x3e9519;}}:function(){};return _0x548784=![],_0x4faa50;}}else _0x3a9282[_0x18bb2b(0x281)](_0x3a9282['zqSOD']('',_0x3a9282[_0x18bb2b(0x245)](_0x5881bc,_0x5881bc))[_0x3a9282[_0x18bb2b(0x24b)]],0x1)||_0x3a9282[_0x18bb2b(0x251)](_0x3a9282[_0x18bb2b(0x236)](_0x5881bc,0x14),0x0)?function(){return!![];}[_0x18bb2b(0x14d)](_0x3a9282[_0x18bb2b(0x15a)](_0x3a9282[_0x18bb2b(0x16f)],_0x3a9282[_0x18bb2b(0x27a)]))[_0x18bb2b(0x170)](_0x3a9282['EXQFD']):function(){return![];}[_0x18bb2b(0x14d)](_0x3a9282[_0x18bb2b(0x154)](_0x3a9282[_0x18bb2b(0x16f)],_0x3a9282[_0x18bb2b(0x27a)]))[_0x18bb2b(0x28c)](_0x3a9282[_0x18bb2b(0x290)]);_0x3a9282[_0x18bb2b(0x211)](_0xc1fc87,++_0x5881bc);}try{if(_0x2c027c)return _0xc1fc87;else _0x3a9282['CwddZ'](_0xc1fc87,0x0);}catch(_0x47236e){}}