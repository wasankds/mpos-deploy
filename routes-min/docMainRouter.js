const _0x24f7ca=_0x5159;(function(_0x4a5e3f,_0x453430){const _0x3333da=_0x5159,_0x3659c9=_0x4a5e3f();while(!![]){try{const _0xeb1f72=parseInt(_0x3333da(0xc4))/0x1+-parseInt(_0x3333da(0x19a))/0x2*(-parseInt(_0x3333da(0x198))/0x3)+-parseInt(_0x3333da(0x1ac))/0x4+parseInt(_0x3333da(0x93))/0x5*(parseInt(_0x3333da(0xf0))/0x6)+-parseInt(_0x3333da(0x135))/0x7*(-parseInt(_0x3333da(0x161))/0x8)+-parseInt(_0x3333da(0x1e1))/0x9*(parseInt(_0x3333da(0x197))/0xa)+-parseInt(_0x3333da(0x11f))/0xb;if(_0xeb1f72===_0x453430)break;else _0x3659c9['push'](_0x3659c9['shift']());}catch(_0x3ecfd7){_0x3659c9['push'](_0x3659c9['shift']());}}}(_0x5455,0x80af1));const _0x3f82df=(function(){const _0x2785da=_0x5159,_0x3a47e8={'locwF':function(_0x1d4637,_0xeeb7d5){return _0x1d4637+_0xeeb7d5;},'ORCSj':_0x2785da(0x1ce),'RccOG':_0x2785da(0x99),'WcQqQ':_0x2785da(0x18f),'rTJxP':function(_0x223347,_0xcb0f28){return _0x223347(_0xcb0f28);},'RsbaI':_0x2785da(0x9e),'IqzIH':_0x2785da(0x117),'Ekxof':function(_0x87fa13,_0x3ed5ba){return _0x87fa13===_0x3ed5ba;},'AaNWN':_0x2785da(0x176),'TcXJw':_0x2785da(0x116),'fmeXy':function(_0x5ceda0,_0x54317e){return _0x5ceda0!==_0x54317e;},'pjkLD':_0x2785da(0xcd),'cotCe':'WoOof'};let _0xc2a156=!![];return function(_0x1b287c,_0x595a93){const _0x2d0b2e=_0x2785da,_0x5b1621={'linzu':function(_0x357d5a,_0x2433e8){return _0x3a47e8['locwF'](_0x357d5a,_0x2433e8);},'KgBqf':_0x3a47e8['ORCSj'],'lLXQB':_0x3a47e8[_0x2d0b2e(0x1e6)],'CmSlx':_0x3a47e8[_0x2d0b2e(0x92)],'uIgJv':function(_0x32e629,_0x337795){return _0x3a47e8['rTJxP'](_0x32e629,_0x337795);},'DZiGf':_0x3a47e8[_0x2d0b2e(0x10d)],'ZDUGF':_0x3a47e8[_0x2d0b2e(0xba)],'DqwsX':function(_0x27baeb,_0x5c9ca3){const _0x260494=_0x2d0b2e;return _0x3a47e8[_0x260494(0x199)](_0x27baeb,_0x5c9ca3);},'TpYWz':_0x3a47e8[_0x2d0b2e(0x17a)],'cEbIU':_0x3a47e8[_0x2d0b2e(0x1c0)],'IwgmR':function(_0x443c19,_0x434ed3){const _0x3f551d=_0x2d0b2e;return _0x3a47e8[_0x3f551d(0xb0)](_0x443c19,_0x434ed3);},'flsGo':_0x3a47e8[_0x2d0b2e(0x16f)]};if(_0x3a47e8[_0x2d0b2e(0xb0)](_0x3a47e8[_0x2d0b2e(0x133)],_0x3a47e8['cotCe']))(function(){return![];}[_0x2d0b2e(0x13f)](_0x5b1621[_0x2d0b2e(0x20e)](_0x5b1621[_0x2d0b2e(0x1af)],_0x5b1621[_0x2d0b2e(0x120)]))[_0x2d0b2e(0x167)](_0x5b1621['CmSlx']));else{const _0x2941bf=_0xc2a156?function(){const _0x12961c=_0x2d0b2e;if(_0x5b1621[_0x12961c(0x1b8)](_0x5b1621[_0x12961c(0x162)],_0x5b1621[_0x12961c(0xe3)]))_0x3ad5f6['close']();else{if(_0x595a93){if(_0x5b1621[_0x12961c(0x179)](_0x5b1621[_0x12961c(0x1b5)],_0x5b1621[_0x12961c(0x1b5)]))_0x1835b9=_0x5b1621['uIgJv'](_0x44c343,_0x5b1621['linzu'](_0x5b1621['linzu'](_0x5b1621['DZiGf'],_0x5b1621['ZDUGF']),');'))();else{const _0x17e261=_0x595a93[_0x12961c(0x167)](_0x1b287c,arguments);return _0x595a93=null,_0x17e261;}}}}:function(){};return _0xc2a156=![],_0x2941bf;}};}());(function(){const _0xb59e50=_0x5159,_0x2af3f3={'QkWgH':_0xb59e50(0x1a8),'OwSbj':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ptcdS':function(_0x4e6aa8,_0x4dd004){return _0x4e6aa8(_0x4dd004);},'AgRtR':_0xb59e50(0x185),'uPMmM':function(_0x4beb17,_0x32d437){return _0x4beb17+_0x32d437;},'JJdxZ':_0xb59e50(0x1f2),'jjvNm':_0xb59e50(0xa0),'xUNft':function(_0x244e42){return _0x244e42();},'CPKjV':function(_0x36b7db,_0x47818b,_0x558d62){return _0x36b7db(_0x47818b,_0x558d62);},'bCeHB':function(_0x5d4011,_0x2b7185){return _0x5d4011!==_0x2b7185;},'nkODr':_0xb59e50(0xca),'qDgZV':function(_0x38bb8a,_0x227e5a){return _0x38bb8a(_0x227e5a);},'MvKQV':function(_0x3c9fd2,_0x21c5c8){return _0x3c9fd2+_0x21c5c8;},'TiEck':function(_0x2d585c,_0x58eccf){return _0x2d585c!==_0x58eccf;},'HypAK':_0xb59e50(0x14b),'mjoDY':_0xb59e50(0x172),'vnrpV':function(_0x66983,_0x2c06ac){return _0x66983(_0x2c06ac);},'QgJMe':function(_0x90ac40,_0x46d000){return _0x90ac40===_0x46d000;},'btecu':_0xb59e50(0x18b)};_0x2af3f3[_0xb59e50(0xc8)](_0x3f82df,this,function(){const _0x2824fb=_0xb59e50,_0x48026e={'vMSGU':_0x2af3f3[_0x2824fb(0x1a7)],'WBQLc':_0x2af3f3[_0x2824fb(0x21d)],'ODceP':function(_0x73e935,_0x132cc7){const _0x2ca03f=_0x2824fb;return _0x2af3f3[_0x2ca03f(0x113)](_0x73e935,_0x132cc7);},'prXRO':_0x2af3f3[_0x2824fb(0x174)],'AvRkE':function(_0x2a34c9,_0x52f18a){const _0x22d8f8=_0x2824fb;return _0x2af3f3[_0x22d8f8(0x190)](_0x2a34c9,_0x52f18a);},'GTDOA':_0x2af3f3[_0x2824fb(0x163)],'pKDBD':_0x2af3f3['jjvNm'],'xBOpd':function(_0x195e0a){return _0x2af3f3['xUNft'](_0x195e0a);},'EhWQp':function(_0x30fa52,_0x84a09c,_0x57c98f){const _0x37ce6b=_0x2824fb;return _0x2af3f3[_0x37ce6b(0xc8)](_0x30fa52,_0x84a09c,_0x57c98f);}};if(_0x2af3f3[_0x2824fb(0x19d)](_0x2af3f3[_0x2824fb(0xeb)],_0x2af3f3[_0x2824fb(0xeb)]))_0x4f6c2b[_0x2824fb(0x159)]();else{const _0x34727a=new RegExp(_0x2af3f3[_0x2824fb(0x1a7)]),_0x2b08fd=new RegExp(_0x2af3f3[_0x2824fb(0x21d)],'i'),_0xae3dc5=_0x2af3f3[_0x2824fb(0xd0)](_0x33c291,_0x2af3f3['AgRtR']);if(!_0x34727a['test'](_0x2af3f3[_0x2824fb(0x190)](_0xae3dc5,_0x2af3f3[_0x2824fb(0x163)]))||!_0x2b08fd[_0x2824fb(0x15f)](_0x2af3f3[_0x2824fb(0x102)](_0xae3dc5,_0x2af3f3[_0x2824fb(0x18d)]))){if(_0x2af3f3['TiEck'](_0x2af3f3[_0x2824fb(0xe4)],_0x2af3f3[_0x2824fb(0x17e)]))_0x2af3f3[_0x2824fb(0x187)](_0xae3dc5,'0');else{const _0x3316cf=_0x27bdb1[_0x2824fb(0x13f)][_0x2824fb(0x188)][_0x2824fb(0x138)](_0x4fa586),_0x2bf94d=_0x30d34b[_0x1ea89f],_0x554c4a=_0x4794ba[_0x2bf94d]||_0x3316cf;_0x3316cf[_0x2824fb(0x119)]=_0x3209e2[_0x2824fb(0x138)](_0x21d3b1),_0x3316cf[_0x2824fb(0x178)]=_0x554c4a[_0x2824fb(0x178)][_0x2824fb(0x138)](_0x554c4a),_0x235239[_0x2bf94d]=_0x3316cf;}}else{if(_0x2af3f3[_0x2824fb(0x1c4)](_0x2af3f3[_0x2824fb(0xb5)],_0x2af3f3[_0x2824fb(0xb5)]))_0x2af3f3['xUNft'](_0x33c291);else{const _0x3a7afd={'Mrnbb':_0x48026e[_0x2824fb(0x153)],'UKcSh':_0x48026e[_0x2824fb(0x134)],'jVnpv':function(_0x169ebb,_0x25f99a){const _0x49bd3f=_0x2824fb;return _0x48026e[_0x49bd3f(0x122)](_0x169ebb,_0x25f99a);},'QsWYa':_0x48026e['prXRO'],'hbOub':function(_0x19c0d9,_0x1dc761){const _0x3a2d05=_0x2824fb;return _0x48026e[_0x3a2d05(0x18c)](_0x19c0d9,_0x1dc761);},'ajamZ':_0x48026e['GTDOA'],'cEewp':_0x48026e['pKDBD'],'pNUKH':function(_0x44549c,_0x2951fd){const _0x51cbf3=_0x2824fb;return _0x48026e[_0x51cbf3(0x122)](_0x44549c,_0x2951fd);},'Osmxe':function(_0x404b62){const _0x2df144=_0x2824fb;return _0x48026e[_0x2df144(0x166)](_0x404b62);}};_0x48026e[_0x2824fb(0xdf)](_0x4dac10,this,function(){const _0x5074a5=_0x2824fb,_0xde6ff3=new _0x504084(_0x3a7afd[_0x5074a5(0xb6)]),_0x4b04f=new _0x5a3eb9(_0x3a7afd[_0x5074a5(0x175)],'i'),_0x1bbe65=_0x3a7afd['jVnpv'](_0xaa9331,_0x3a7afd[_0x5074a5(0xe9)]);!_0xde6ff3['test'](_0x3a7afd[_0x5074a5(0x21c)](_0x1bbe65,_0x3a7afd[_0x5074a5(0x1da)]))||!_0x4b04f[_0x5074a5(0x15f)](_0x3a7afd[_0x5074a5(0x21c)](_0x1bbe65,_0x3a7afd['cEewp']))?_0x3a7afd[_0x5074a5(0x1e5)](_0x1bbe65,'0'):_0x3a7afd['Osmxe'](_0xc06fe6);})();}}}})();}());const _0x495596=(function(){const _0x21f393=_0x5159,_0x27a008={'YEizm':_0x21f393(0x1a6),'bkwNc':_0x21f393(0x91),'HTFFL':_0x21f393(0x9d),'aftdf':'application/octet-stream','OKtbz':_0x21f393(0x1a8),'RqRJi':_0x21f393(0x98),'LhjDG':function(_0x510eba,_0x3e23ef){return _0x510eba(_0x3e23ef);},'vKzpa':_0x21f393(0x185),'ipXfU':function(_0x5cd772,_0x13db90){return _0x5cd772+_0x13db90;},'NQAVs':_0x21f393(0x1f2),'aGsyB':_0x21f393(0xa0),'lNGKf':function(_0xd4bc8){return _0xd4bc8();},'oVOyt':function(_0x6f134b,_0x340e89){return _0x6f134b===_0x340e89;},'qrJHt':_0x21f393(0xb9),'YrLdP':function(_0x30e685,_0x5b8b54){return _0x30e685!==_0x5b8b54;},'rljXT':'kbxTH','OCxKY':_0x21f393(0x128),'lchzM':'oTGln'};let _0x647e82=!![];return function(_0x3f7292,_0x4eb777){const _0x3245e5=_0x21f393,_0x4e0c5b={'mNMRF':_0x27a008[_0x3245e5(0x1bd)],'Kayvb':_0x27a008[_0x3245e5(0x21e)],'dQDoa':_0x27a008[_0x3245e5(0x13d)],'isIJw':_0x27a008['aftdf'],'BsuOY':_0x27a008[_0x3245e5(0xe2)],'JniVm':_0x27a008['RqRJi'],'wbxQg':function(_0x3333ad,_0x12a6b6){return _0x27a008['LhjDG'](_0x3333ad,_0x12a6b6);},'YPmTX':_0x27a008[_0x3245e5(0x11a)],'dxnbt':function(_0x4ba0f4,_0x3d1d11){const _0x5268f9=_0x3245e5;return _0x27a008[_0x5268f9(0x186)](_0x4ba0f4,_0x3d1d11);},'yhfQU':_0x27a008[_0x3245e5(0x9b)],'FnAnR':function(_0x2d834c,_0x2f573d){const _0x4cce99=_0x3245e5;return _0x27a008[_0x4cce99(0x186)](_0x2d834c,_0x2f573d);},'OCYro':_0x27a008['aGsyB'],'Rnuja':function(_0x4a842c,_0x4285e3){const _0x511e00=_0x3245e5;return _0x27a008[_0x511e00(0x1a9)](_0x4a842c,_0x4285e3);},'skOzI':function(_0xe88ed5){const _0x573840=_0x3245e5;return _0x27a008[_0x573840(0x130)](_0xe88ed5);},'XTzeh':function(_0x289eef,_0x3253fe){const _0x1f6896=_0x3245e5;return _0x27a008[_0x1f6896(0x146)](_0x289eef,_0x3253fe);},'RhSMs':_0x27a008[_0x3245e5(0x126)],'qSJUQ':function(_0xc7f246,_0x55960e){const _0x29ed8b=_0x3245e5;return _0x27a008[_0x29ed8b(0x1fc)](_0xc7f246,_0x55960e);},'iHatU':_0x27a008[_0x3245e5(0x1de)],'tMSqe':_0x27a008[_0x3245e5(0x115)]};if(_0x27a008['YrLdP'](_0x27a008[_0x3245e5(0x1b0)],_0x27a008[_0x3245e5(0x1b0)]))_0x2b8fcd[_0x3245e5(0x191)](_0x423a47),_0x51505b['send'](_0x2eee5f[_0x3245e5(0xea)]({'isSave':!0x1,'class':_0x4e0c5b[_0x3245e5(0x16d)],'msg':_0x259644[_0x3245e5(0x14f)]}));else{const _0x24242b=_0x647e82?function(){const _0x55ad01=_0x3245e5;if(_0x4e0c5b[_0x55ad01(0x213)](_0x4e0c5b['RhSMs'],_0x4e0c5b[_0x55ad01(0x13b)])){if(_0x4eb777){if(_0x4e0c5b['qSJUQ'](_0x4e0c5b[_0x55ad01(0x183)],_0x4e0c5b[_0x55ad01(0x169)])){const _0x2623be=_0x4eb777['apply'](_0x3f7292,arguments);return _0x4eb777=null,_0x2623be;}else{if(_0x19ddf9)return _0x385aa9[_0x55ad01(0xf2)](_0x4e0c5b['Kayvb'],_0x4b26bd),_0x20dc8a['status'](0x1f4)[_0x55ad01(0x17c)](_0x4e0c5b[_0x55ad01(0x1d0)]);const _0x705354=_0x2d2e58[_0x5c7ee3]||_0x4e0c5b['isIJw'];_0x111a3a['writeHead'](0xc8,{'Content-Type':_0x705354}),_0x2c822a['end'](_0x29c919);}}}else{const _0x3dc252=new _0x4753f0(_0x4e0c5b['BsuOY']),_0x24988c=new _0x14b660(_0x4e0c5b[_0x55ad01(0xae)],'i'),_0x2d091b=_0x4e0c5b[_0x55ad01(0xce)](_0x4bde34,_0x4e0c5b['YPmTX']);!_0x3dc252['test'](_0x4e0c5b[_0x55ad01(0xbf)](_0x2d091b,_0x4e0c5b[_0x55ad01(0xa1)]))||!_0x24988c[_0x55ad01(0x15f)](_0x4e0c5b[_0x55ad01(0x19f)](_0x2d091b,_0x4e0c5b['OCYro']))?_0x4e0c5b[_0x55ad01(0x147)](_0x2d091b,'0'):_0x4e0c5b['skOzI'](_0x218c7b);}}:function(){};return _0x647e82=![],_0x24242b;}};}()),_0x5ad0e5=_0x495596(this,function(){const _0x560c5c=_0x5159,_0xc5e2c2={'MJbKt':_0x560c5c(0x14e),'hIplk':_0x560c5c(0x9c),'AKRMu':function(_0x4269b0,_0x68f96c){return _0x4269b0(_0x68f96c);},'oBfDy':function(_0x39010b,_0x2c685a){return _0x39010b===_0x2c685a;},'eZGBJ':_0x560c5c(0x143),'cNckC':function(_0x126e34,_0x4ff116){return _0x126e34!==_0x4ff116;},'cLUDJ':_0x560c5c(0x1fd),'HZZSG':_0x560c5c(0xed),'VDmDU':function(_0x1440f5,_0x26d16b){return _0x1440f5(_0x26d16b);},'rdfkZ':function(_0x118b0c,_0x2ae4f5){return _0x118b0c+_0x2ae4f5;},'kFCRw':function(_0x1c4b24,_0x229d5c){return _0x1c4b24+_0x229d5c;},'eOmgZ':_0x560c5c(0x9e),'nnStE':_0x560c5c(0x117),'BlOmi':function(_0x218014,_0x5dbad4){return _0x218014!==_0x5dbad4;},'QxluK':_0x560c5c(0xdd),'ygzkv':function(_0x3519a0){return _0x3519a0();},'vVDKT':_0x560c5c(0x191),'xYlnu':_0x560c5c(0x97),'BlQEK':'info','KXJrZ':'error','unxwu':'exception','OaVLp':'table','iUyii':_0x560c5c(0x103),'pYnPp':function(_0x1f2a7e,_0x50106f){return _0x1f2a7e<_0x50106f;},'LBDnJ':function(_0x2e1af6,_0x4f404f){return _0x2e1af6===_0x4f404f;},'zCYgZ':_0x560c5c(0x11d)},_0x45a7d0=function(){const _0x451475=_0x560c5c,_0x5a0129={'HgTzO':function(_0x52084a,_0x1ba19f){const _0x5215f2=_0x5159;return _0xc5e2c2[_0x5215f2(0xbc)](_0x52084a,_0x1ba19f);}};if(_0xc5e2c2[_0x451475(0x1c8)](_0xc5e2c2['eZGBJ'],_0xc5e2c2[_0x451475(0xb8)])){let _0x34ac89;try{_0xc5e2c2[_0x451475(0x157)](_0xc5e2c2[_0x451475(0x1ea)],_0xc5e2c2[_0x451475(0xa5)])?_0x34ac89=_0xc5e2c2['VDmDU'](Function,_0xc5e2c2[_0x451475(0x1d8)](_0xc5e2c2[_0x451475(0xc6)](_0xc5e2c2[_0x451475(0x21b)],_0xc5e2c2[_0x451475(0x127)]),');'))():_0x2f9ea9=_0x3fc6c2;}catch(_0x125ba2){_0xc5e2c2['BlOmi'](_0xc5e2c2[_0x451475(0x1e0)],_0xc5e2c2[_0x451475(0x1e0)])?_0x5a0129['HgTzO'](_0x4b4a42,0x0):_0x34ac89=window;}return _0x34ac89;}else return function(_0x265635){}[_0x451475(0x13f)](_0xc5e2c2[_0x451475(0xa3)])[_0x451475(0x167)](_0xc5e2c2[_0x451475(0x1d2)]);},_0x564c0d=_0xc5e2c2[_0x560c5c(0x17f)](_0x45a7d0),_0x28566d=_0x564c0d[_0x560c5c(0x1ff)]=_0x564c0d['console']||{},_0x18f652=[_0xc5e2c2[_0x560c5c(0x1be)],_0xc5e2c2[_0x560c5c(0x11b)],_0xc5e2c2[_0x560c5c(0x18e)],_0xc5e2c2[_0x560c5c(0x208)],_0xc5e2c2['unxwu'],_0xc5e2c2['OaVLp'],_0xc5e2c2[_0x560c5c(0xb3)]];for(let _0x512bd5=0x0;_0xc5e2c2[_0x560c5c(0x20b)](_0x512bd5,_0x18f652[_0x560c5c(0x1dd)]);_0x512bd5++){if(_0xc5e2c2[_0x560c5c(0x14a)](_0xc5e2c2['zCYgZ'],_0xc5e2c2['zCYgZ'])){const _0x4ba7c8=_0x495596[_0x560c5c(0x13f)][_0x560c5c(0x188)][_0x560c5c(0x138)](_0x495596),_0x3f8a7a=_0x18f652[_0x512bd5],_0x29c548=_0x28566d[_0x3f8a7a]||_0x4ba7c8;_0x4ba7c8[_0x560c5c(0x119)]=_0x495596[_0x560c5c(0x138)](_0x495596),_0x4ba7c8[_0x560c5c(0x178)]=_0x29c548['toString'][_0x560c5c(0x138)](_0x29c548),_0x28566d[_0x3f8a7a]=_0x4ba7c8;}else{const _0x2e738a=_0x3b134d?function(){const _0x2a46e7=_0x560c5c;if(_0x766b8d){const _0x462462=_0x370534[_0x2a46e7(0x167)](_0x23c943,arguments);return _0x1f6f6c=null,_0x462462;}}:function(){};return _0xf97825=![],_0x2e738a;}}});_0x5ad0e5();import _0x1c5ef7 from'path';import _0x4ce088 from'fs';import _0x3e0f7e from'sharp';import _0x11fc46 from'express';const p=_0x11fc46[_0x24f7ca(0x1c6)]();function _0x5159(_0x4181e8,_0xe8ff1c){const _0x26a119=_0x5455();return _0x5159=function(_0x5ad0e5,_0x495596){_0x5ad0e5=_0x5ad0e5-0x8f;let _0x301cbf=_0x26a119[_0x5ad0e5];return _0x301cbf;},_0x5159(_0x4181e8,_0xe8ff1c);}import{MongoClient as _0x336f5d}from'mongodb';function _0x5455(){const _0x173209=['xBOpd','apply','dateTimeCancelRemain','tMSqe','MqxXA','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','jOUZV','mNMRF','image/jpeg','pjkLD','limit','RMUps','IdyXS','BQbhi','AgRtR','UKcSh','BPfEv','twiBJ','toString','IwgmR','AaNWN','UDdor','send','BiDcH','mjoDY','ygzkv','from','VZJTl','flHjv','iHatU','sVgkI','init','ipXfU','vnrpV','prototype','ZaqfB','oPWjV','VZHSL','AvRkE','jjvNm','BlQEK','stateObject','uPMmM','log','PATH_WAREHOUSE_OUT','eXogA','green','sales','sEJXY','14420xiZnDp','135EJLpkF','Ekxof','32492ZTIzVZ','connect','hoursCanCancel','bCeHB','TAmmF','FnAnR','TVGAJ','vxxSF','../','btIKW','JGcFE','PAY_TYPE1','red','QkWgH','function\x20*\x5c(\x20*\x5c)','LhjDG','return','iElss','480956LYtyqB','action','path','KgBqf','lchzM','call','bUqVw','BAsKI','TjiMu','flsGo','extname','yoxoK','DqwsX','Iewxb','aaFoL','ytsnn','bnBNy','YEizm','vVDKT','folderName','TcXJw','canEdit','dateTimeEditRemain','userId','QgJMe','KbufK','Router','ไม่สามารถบันทึกเอกสารได้{{sep}}เนื่องจากเลยกำหนดยกเลิกเอกสารแล้ว','oBfDy','warehouseIn','บันทึกเรียบร้อยแล้ว','file404','refImageBase64','check_DocDateTime_CanCancel','debu','refImage','dQDoa','insertOne','hIplk','gpFhz','.jpg','YKxqO','ASwVq','modifiedCount','rdfkZ','base64','ajamZ','flash','sort','length','rljXT','bLglr','QxluK','936KLskfm','BmIfa','check_DocDateTime_CanEdit','includes','pNUKH','RccOG','padStart','BBrBs','mVgyf','cLUDJ','MosCQ','ZESVq','EOENT','jLgja','RqOUG','ไม่พบไฟล์รูปภาพ','yVJnv','chain','XGocU','PAY_TYPE2','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','forEach','ยอดเงินที่ชำระทั้งหมด\x20ต้องไม่เกิน\x20ยอดหนี้\x20','AnUdu','eauGx','find','body','YrLdP','axAfv','sOAkv','console','SXcau','dateTime','Oevhm','icTlq','NxVpL','readFile','TMSIH','getDateTime','KXJrZ','gEGdF','ไม่สามารถชำระหนี้ได้','pYnPp','userFullname','post','linzu','dateTimeCanCancel','MMqJM','qfmAo','replace','XTzeh','getMainDocPathObj','อัปเดท\x20','collectionName','FCRMd','/pay-debt','writeHead','QlHAQ','eOmgZ','hbOub','OwSbj','bkwNc','toecc','status','lXUlr','NPVZk','rXLBk','Error\x20reading\x20image:','WcQqQ','653940DKcUmI','fKAcb','cpJcN','Cdamf','warn','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','gger','tSKGs','NQAVs','counter','เกิดข้อผิดพลาดในการดึงรูปภาพ','return\x20(function()\x20','EtHFI','input','yhfQU','UEZuH','MJbKt','findOne','HZZSG','qfsBV','null','join','HBflx','jpeg','yellow','PATH_SALES','QISxM','JniVm','mqEIO','fmeXy','itfMo','msg','iUyii','yRmWj','btecu','Mrnbb','/myModule.js','eZGBJ','UmOGI','IqzIH','PAY_TYPE','AKRMu','dbUrl','dateTimeCanEdit','dxnbt','getDate','sendFile','toFile','PATH_RETURN','629842NSWNgs','{{sep}}เรียบร้อยแล้ว','kFCRw','XYrfs','CPKjV','paymentAmount2','DrKgK','get','getSessionData','Czdsq','wbxQg','hMXyD','qDgZV','EbefB','wdeXC','docType','ciRFW','eVUNH','SfbYB','tLrGE','docStatusNumber','pFphj','จำนวนเงินที่ชำระ\x20ต้องมากกว่า\x200\x20ทุกแถว','IOQcv','xdbkn','enmkJ','application/octet-stream','EhWQp','ไม่พบเอกสาร\x20\x27','collection','OKtbz','cEbIU','HypAK','FFOhh','canCancel','FFqUa','avPXO','QsWYa','stringify','nkODr','FATcf','xSMAi','XuiWq','renderView','36EpfYpI','\x20ได้','error','mSDkU','IGFGl','hoursCanEdit','wBxHe','sCkgN','nihOz','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','zhDrY','GNEKb','toArray','updateOne','query','NSnLl','Naquq','guqbg','MvKQV','trace','utTCd','gIAbz','DOC_STATUS_TITLE','/myUsers.js','/view-image','fjRWZ','EWMVD','dTAAh','vcJnN','RsbaI','PYzYp','ไม่พบประเภทเอกสาร','getSettings','aCaQt','dbName','ptcdS','EfHyS','OCxKY','cUbun','{}.constructor(\x22return\x20this\x22)(\x20)','eztfS','__proto__','vKzpa','xYlnu','FIJsX','VKQoB','/myData.js','17127561rVuwpB','lLXQB','jcoMH','ODceP','evotu','QFfid','FEjvB','qrJHt','nnStE','FyEWd','nFbXG','WVRrM','kZotC','end','/save','สถานะเอกสารผิดผลาด','ehTwn','lNGKf','ไม่สามารถชำระหนี้ได้{{sep}}เนื่องจากมีการชำระหนี้ครบแล้ว','docMain','cotCe','WBQLc','20013fcfZcc','isAuth','egIpI','bind','resize','toLowerCase','RhSMs','branchId','HTFFL','BYTVz','constructor','tEODl','Iwjtv','igcTu','VzdoC','ยอดเงินที่ชำระ\x20ไม่ได้เปลี่ยนแปลงจากเดิม','ihgXo','oVOyt','Rnuja','get_Info_ByPath','ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','LBDnJ','oWgsp','amount','split','while\x20(true)\x20{}','message','RyBWX','FDzKa','isDebtPaidOff','vMSGU','gmFhR','docId','PLQJw','cNckC','QHzKi','close','qJoqV','AHIws','Crxom','acknowledged','HTkQq','test','สร้างเอกสารใหม่\x20','584MCdPyl','TpYWz','JJdxZ','GFrDu','slice'];_0x5455=function(){return _0x173209;};return _0x5455();}import _0x5be6ba from'../middleware/mainAuth.js';const P=await import(_0x24f7ca(0x1a2)+mymoduleFolder+_0x24f7ca(0xb7)),S=await import(_0x24f7ca(0x1a2)+mymoduleFolder+'/myDateTime.js'),_=await import('../'+mymoduleFolder+_0x24f7ca(0x107)),J=await import('../'+mymoduleFolder+_0x24f7ca(0x11e)),y=await import(_0x24f7ca(0x1a2)+mymoduleFolder+'/myDocMain.js'),w=global['PATH_WAREHOUSE_IN'],A=global[_0x24f7ca(0x192)],E=global[_0x24f7ca(0xac)],D=global[_0x24f7ca(0xc3)],U=[w,A,E,D],Y=[w+_0x24f7ca(0x12d),A+_0x24f7ca(0x12d),E+'/save',D+_0x24f7ca(0x12d)],F=[w+'/view-image',A+'/view-image',D+_0x24f7ca(0x108)],M=[E+_0x24f7ca(0x218)];p[_0x24f7ca(0xcb)](U,_0x5be6ba[_0x24f7ca(0x136)],async(_0x3354d8,_0x41b3fb)=>{const _0x10c7e7=_0x24f7ca,_0x5206e3={'ZaqfB':function(_0xedeac4,_0x20872c){return _0xedeac4!==_0x20872c;},'bvUJU':_0x10c7e7(0x158),'MosCQ':_0x10c7e7(0x145),'BiDcH':_0x10c7e7(0x195),'eVUNH':_0x10c7e7(0x1aa),'pFphj':_0x10c7e7(0xa7),'Qqxdq':_0x10c7e7(0x132),'mSDkU':_0x10c7e7(0xb2),'EOENT':_0x10c7e7(0x8f)},{docId:_0x3553a3,sip:_0x17d3d5}=_0x3354d8[_0x10c7e7(0xfe)];try{if(_0x5206e3[_0x10c7e7(0x189)](_0x5206e3['bvUJU'],_0x5206e3[_0x10c7e7(0x1eb)])){const _0x40727d=await _[_0x10c7e7(0xcc)](_0x3354d8),_0x556244=await y[_0x10c7e7(0x214)](_0x3354d8,_0x41b3fb,_0x40727d['userAuthority']),_0x2c6851=y[_0x10c7e7(0x148)](_0x3354d8[_0x10c7e7(0x1ae)]);if([_0x5206e3[_0x10c7e7(0x17d)],_0x5206e3[_0x10c7e7(0xd5)]][_0x10c7e7(0x1e4)](_0x2c6851['docType']))var _0x474134=JSON[_0x10c7e7(0xea)](global[_0x10c7e7(0xbb)]),_0x2ce634=JSON[_0x10c7e7(0xea)](global[_0x10c7e7(0x1a5)]),_0x55611d=JSON[_0x10c7e7(0xea)](global[_0x10c7e7(0x1f4)]);else var _0x474134=_0x5206e3[_0x10c7e7(0xd9)],_0x2ce634=_0x5206e3[_0x10c7e7(0xd9)],_0x55611d=_0x5206e3[_0x10c7e7(0xd9)];const _0x1e99e9=await P[_0x10c7e7(0xef)](_0x5206e3['Qqxdq'],_0x41b3fb,{'title':_0x556244['PAGE'],'time':S['getDate'](),'msg':_0x3354d8[_0x10c7e7(0x1db)](_0x5206e3[_0x10c7e7(0xf3)]),'user':_0x40727d,'settings':await P[_0x10c7e7(0x110)](),..._0x556244,..._0x2c6851,'DOC_STATUS_TITLE':global[_0x10c7e7(0x106)],'DOC_ID':_0x3553a3,'SIP':_0x17d3d5,'hoursCanEdit':_0x2c6851[_0x10c7e7(0xf5)],'hoursCanCancel':_0x2c6851[_0x10c7e7(0x19c)],'PAY_TYPE_JSON':_0x474134,'PAY_TYPE1_JSON':_0x2ce634,'PAY_TYPE2_JSON':_0x55611d});_0x41b3fb[_0x10c7e7(0x17c)](_0x1e99e9);}else{var _0x4e1914=_0x2fdfa4[_0x10c7e7(0x1fb)]['refImageBase64']?_0x129fe4[_0x10c7e7(0x1fb)][_0x10c7e7(0x1cc)]:null;delete _0x322b11[_0x10c7e7(0x1fb)][_0x10c7e7(0x1cc)];}}catch(_0x59f0ee){if(_0x5206e3[_0x10c7e7(0x189)](_0x5206e3[_0x10c7e7(0x1ed)],_0x5206e3[_0x10c7e7(0x1ed)])){const _0x395cfc=_0x48ccd7[_0x10c7e7(0x167)](_0x2f126b,arguments);return _0x358e9e=null,_0x395cfc;}else console[_0x10c7e7(0x191)](_0x59f0ee['message']),_0x41b3fb[_0x10c7e7(0x220)](0x194)[_0x10c7e7(0xc1)](global['file404']);}}),p[_0x24f7ca(0x20d)](Y,_0x5be6ba[_0x24f7ca(0x136)],async(_0x196a65,_0x127d0b)=>{const _0x22e20a=_0x24f7ca,_0xb44572={'eauGx':function(_0x3f505c,_0x50854d){return _0x3f505c(_0x50854d);},'QISxM':function(_0x5e3725,_0x1ad8a0){return _0x5e3725+_0x1ad8a0;},'rXLBk':function(_0xfaec6,_0x270597){return _0xfaec6(_0x270597);},'EbefB':_0x22e20a(0x1ce),'IGFGl':_0x22e20a(0x99),'itfMo':_0x22e20a(0x1ad),'Crxom':function(_0x4b83ad,_0x4c69c5){return _0x4b83ad(_0x4c69c5);},'MqxXA':function(_0x486b31,_0x5d9c2a){return _0x486b31+_0x5d9c2a;},'JdTEX':function(_0x49d0a9,_0xa2f8e0){return _0x49d0a9+_0xa2f8e0;},'Oevhm':'return\x20(function()\x20','yRmWj':_0x22e20a(0x117),'BmIfa':function(_0x624dbf,_0x393f7d){return _0x624dbf>_0x393f7d;},'PLQJw':function(_0xbdc624,_0x5ec23e){return _0xbdc624(_0x5ec23e);},'UEZuH':function(_0x288b81){return _0x288b81();},'sVgkI':_0x22e20a(0x1a6),'AHIws':function(_0x3c92e5,_0x59206d){return _0x3c92e5!==_0x59206d;},'BAsKI':_0x22e20a(0x154),'bnBNy':function(_0x5f2951,_0x278010){return _0x5f2951!==_0x278010;},'guXmd':'ovFCQ','AiCcT':function(_0x3066ab,_0x5e2cbb){return _0x3066ab&&_0x5e2cbb;},'eztfS':function(_0x247471,_0x4b782f){return _0x247471===_0x4b782f;},'eXogA':_0x22e20a(0xa9),'btIKW':_0x22e20a(0x1d6),'Cdamf':function(_0xcab8fa,_0x2d5120){return _0xcab8fa===_0x2d5120;},'RyBWX':_0x22e20a(0x1c9),'sEJXY':function(_0x152211,_0x787165){return _0x152211===_0x787165;},'QFfid':'warehouseOut','TNiDJ':function(_0x21bf41,_0x3f2b82){return _0x21bf41===_0x3f2b82;},'EtHFI':_0x22e20a(0x195),'yoxoK':function(_0x9f2fde,_0x22b281){return _0x9f2fde===_0x22b281;},'aaFoL':_0x22e20a(0x1aa),'uVeOx':_0x22e20a(0x10f),'gEGdF':function(_0x4673a4,_0x366eed){return _0x4673a4>_0x366eed;},'hiQRX':_0x22e20a(0xd4),'hofwB':_0x22e20a(0x1b9),'guqbg':function(_0x3affec,_0x5c8407){return _0x3affec(_0x5c8407);},'NSnLl':_0x22e20a(0x142),'qfmAo':_0x22e20a(0x1e8),'gpFhz':_0x22e20a(0x1d9),'vxxSF':function(_0xa23a25,_0x36aaad){return _0xa23a25(_0x36aaad);},'XYrfs':function(_0x147abf,_0x409916){return _0x147abf*_0x409916;},'PYzYp':function(_0x1c7b5f,_0x32d918){return _0x1c7b5f*_0x32d918;},'BQbhi':function(_0x34fefc,_0x2820e2){return _0x34fefc<=_0x2820e2;},'kZotC':_0x22e20a(0x194),'hMXyD':function(_0x45eb63,_0x7b24ad){return _0x45eb63==_0x7b24ad;},'FFOhh':function(_0x26937d,_0xa2753a){return _0x26937d!==_0xa2753a;},'URVZl':_0x22e20a(0x206),'WzkTv':_0x22e20a(0x149),'KbufK':function(_0x4bf632,_0x2bea07){return _0x4bf632!=_0x2bea07;},'VZJTl':'ไม่สามารถอัปเดทเอกสารได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20แล้ว','HTkQq':_0x22e20a(0x1df),'FFqUa':function(_0x1dad78,_0x5d087e){return _0x1dad78==_0x5d087e;},'WVRrM':'เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ','ehTwn':_0x22e20a(0x1d5),'fKAcb':_0x22e20a(0x200),'lXUlr':_0x22e20a(0x1c7),'utTCd':function(_0x5f1979,_0x503569){return _0x5f1979===_0x503569;},'TVGAJ':_0x22e20a(0x111),'npgKf':function(_0x2b7fd1,_0x4977af){return _0x2b7fd1>_0x4977af;},'qJoqV':_0x22e20a(0xec),'gYQfh':'rycwH','tLrGE':_0x22e20a(0x16c),'FCRMd':function(_0x10cb84,_0x567cd1){return _0x10cb84<_0x567cd1;},'XuiWq':_0x22e20a(0xab),'mVgyf':_0x22e20a(0x12e),'gIAbz':function(_0x11433f,_0x11c421){return _0x11433f!==_0x11c421;},'Iwjtv':_0x22e20a(0x129),'FIJsX':_0x22e20a(0x1b4)};await y[_0x22e20a(0x214)](_0x196a65,_0x127d0b);const _0x501598=new _0x336f5d(global[_0x22e20a(0xbd)]);await _0x501598[_0x22e20a(0x19b)]();try{if(_0xb44572[_0x22e20a(0x15b)](_0xb44572[_0x22e20a(0x1b3)],_0xb44572['BAsKI']))_0x383b2b['log'](_0x189452['message']),_0x2c7aca[_0x22e20a(0x220)](0x194)['sendFile'](_0x5c74ec[_0x22e20a(0x1cb)]);else{const _0x487fb2=await _['getSessionData'](_0x196a65);if(_0x196a65['body']=J['convert_DataType'](_0x196a65[_0x22e20a(0x1fb)]),_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x1cc)]){if(_0xb44572[_0x22e20a(0x1bc)](_0xb44572['guXmd'],_0xb44572['guXmd'])){const _0x278c50=_0x54347b[0x0][_0x22e20a(0x155)],_0x2a200d=_0xb44572[_0x22e20a(0x1f9)](_0x3dea02,_0x278c50[_0x22e20a(0x14d)]('-')[0x1]);_0x1fb2b1=_0x2ced30+'-'+_0xb44572['eauGx'](_0x1e185c,_0xb44572[_0x22e20a(0xad)](_0x2a200d,0x1))[_0x22e20a(0x1e7)](0x5,'0');}else{var _0x66a3c9=_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x1cc)]?_0x196a65[_0x22e20a(0x1fb)]['refImageBase64']:null;delete _0x196a65[_0x22e20a(0x1fb)]['refImageBase64'];}}const _0x1464ce=_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xd8)]?_0xb44572[_0x22e20a(0x15c)](Number,_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xd8)]):_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xd8)],_0x11e9b5=_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x155)],_0x46e4e3=y['get_Info_ByPath'](_0x196a65[_0x22e20a(0x1ae)]),_0x1f37a2=_0x501598['db'](global[_0x22e20a(0x112)])[_0x22e20a(0xe1)](_0x46e4e3['collectionName']);if(_0xb44572['AiCcT'](!_0x1464ce,!_0x11e9b5)){if(_0xb44572[_0x22e20a(0x118)](_0xb44572[_0x22e20a(0x193)],_0xb44572[_0x22e20a(0x1a3)])){if(_0x8bad96){const _0x219918=_0x348f88[_0x22e20a(0x167)](_0x3b6b34,arguments);return _0x5996f4=null,_0x219918;}}else{const _0x56e25d=await _0x1f37a2[_0x22e20a(0x1fa)]({},{'projection':{'docId':0x1}})[_0x22e20a(0x1dc)]({'_id':-0x1})[_0x22e20a(0x170)](0x1)[_0x22e20a(0xfc)](),_0x25b272=S[_0x22e20a(0xc0)](),_0x356bc1=_0x25b272[_0x22e20a(0x165)](0x2,0x4),_0x35e3f5=_0x25b272[_0x22e20a(0x165)](0x5,0x7),_0x2d4c4b=_0xb44572[_0x22e20a(0x96)](_0x46e4e3[_0x22e20a(0xd3)],_0xb44572[_0x22e20a(0x150)])?'WI'+_0x356bc1+_0x35e3f5:_0xb44572['sEJXY'](_0x46e4e3[_0x22e20a(0xd3)],_0xb44572[_0x22e20a(0x124)])?'WO'+_0x356bc1+_0x35e3f5:_0xb44572['TNiDJ'](_0x46e4e3['docType'],_0xb44572[_0x22e20a(0x9f)])?'S'+_0x356bc1+_0x35e3f5:_0xb44572['yoxoK'](_0x46e4e3[_0x22e20a(0xd3)],_0xb44572[_0x22e20a(0x1ba)])?'R'+_0x356bc1+_0x35e3f5:'';if(!_0x2d4c4b)return _0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x1,'class':_0xb44572['sVgkI'],'msg':_0xb44572['uVeOx']}));let _0x481728=_0x2d4c4b+'-00001';if(_0xb44572[_0x22e20a(0x209)](_0x56e25d[_0x22e20a(0x1dd)],0x0)){if(_0xb44572['eztfS'](_0xb44572['hiQRX'],_0xb44572['hofwB']))wWsiIX['rXLBk'](_0x5e9a9c,'0');else{const _0x221b3b=_0x56e25d[0x0]['docId'],_0x5151a2=_0xb44572[_0x22e20a(0x101)](Number,_0x221b3b['split']('-')[0x1]);_0x481728=_0x2d4c4b+'-'+_0xb44572[_0x22e20a(0x1f9)](String,_0xb44572[_0x22e20a(0x16a)](_0x5151a2,0x1))['padStart'](0x5,'0');}}_0x196a65['body']['docId']=_0x481728;const _0x137362=S[_0x22e20a(0x207)]();if(_0x196a65['body']['docDateTime']=_0x137362,_0x66a3c9){if(_0xb44572[_0x22e20a(0x1bc)](_0xb44572[_0x22e20a(0xff)],_0xb44572[_0x22e20a(0x211)])){const _0x15c7b4=_0x66a3c9[_0x22e20a(0x212)](/^data:image\/\w+;base64,/,''),_0x204ce1=Buffer[_0x22e20a(0x180)](_0x15c7b4,_0xb44572[_0x22e20a(0x1d3)]),_0x372ace=_0x481728+'.jpg',_0x5a1a6a=_0x1c5ef7[_0x22e20a(0xa8)](_0x46e4e3[_0x22e20a(0x1bf)],_0x372ace);await _0xb44572[_0x22e20a(0x1a1)](_0x3e0f7e,_0x204ce1)[_0x22e20a(0x139)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x22e20a(0xaa)]({'quality':0x5a})[_0x22e20a(0xc2)](_0x5a1a6a),_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x1cf)]=_0x372ace;}else(function(){return!![];}[_0x22e20a(0x13f)](wWsiIX[_0x22e20a(0xad)](wWsiIX[_0x22e20a(0xd1)],wWsiIX[_0x22e20a(0xf4)]))[_0x22e20a(0x1b1)](wWsiIX[_0x22e20a(0xb1)]));}return _0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xbe)]=S[_0x22e20a(0x207)](_0xb44572[_0x22e20a(0xc7)](_0x46e4e3[_0x22e20a(0xf5)],0x3c)),_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x20f)]=S[_0x22e20a(0x207)](_0xb44572[_0x22e20a(0x10e)](_0x46e4e3[_0x22e20a(0x19c)],0x3c)),_0xb44572[_0x22e20a(0x173)](_0x46e4e3[_0x22e20a(0xf5)],0x0)||_0xb44572[_0x22e20a(0x173)](_0x46e4e3['hoursCanCancel'],0x0)?(_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xd8)]=0x2,_0xb44572['BQbhi'](_0x46e4e3[_0x22e20a(0xf5)],0x0)&&(_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x1c1)]=!0x1),_0xb44572[_0x22e20a(0x173)](_0x46e4e3[_0x22e20a(0x19c)],0x0)&&(_0x196a65['body']['canCancel']=!0x1)):_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0xd8)]=0x1,await _0x1f37a2[_0x22e20a(0x1d1)](_0x196a65['body']),_0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x0,'class':_0xb44572[_0x22e20a(0x12b)],'msg':_0x22e20a(0x160)+_0x481728+_0x22e20a(0xc5),'doc':_0x196a65['body']}));}}else{if(_0xb44572[_0x22e20a(0xcf)](_0x1464ce,0x1)&&_0x11e9b5){if(_0xb44572[_0x22e20a(0xe5)](_0xb44572['URVZl'],_0xb44572['URVZl'])){const _0x205ed7=_0x1fa259['apply'](_0x156e02,arguments);return _0x2046b5=null,_0x205ed7;}else{const _0x55970e=await _0x1f37a2[_0x22e20a(0xa4)]({'docId':_0x11e9b5,'userId':_0x487fb2[_0x22e20a(0x1c3)]});if(!_0x55970e)return _0x127d0b[_0x22e20a(0x17c)](JSON['stringify']({'isSave':!0x1,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0xb44572['WzkTv']}));if(_0xb44572[_0x22e20a(0x1c5)](_0x55970e[_0x22e20a(0xd8)],0x1))return _0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x1,'class':_0xb44572['sVgkI'],'msg':_0xb44572[_0x22e20a(0x181)]}));if(_0xb44572['hMXyD'](_0x55970e['docStatusNumber'],0x1)&&_0x55970e[_0x22e20a(0xbe)]){if(_0xb44572[_0x22e20a(0x1b7)](_0xb44572[_0x22e20a(0x15e)],_0xb44572['HTkQq'])){let _0x5f5b48=await y[_0x22e20a(0x1e3)](_0x55970e,_0x46e4e3[_0x22e20a(0x216)],_0x487fb2['userId']);if(_0x55970e[_0x22e20a(0x1c2)]=_0x5f5b48[_0x22e20a(0x1c2)],_0xb44572[_0x22e20a(0xe7)](_0x5f5b48[_0x22e20a(0x1c1)],!0x1))return _0x55970e[_0x22e20a(0xd8)]=_0x5f5b48[_0x22e20a(0xd8)],_0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x1,'doc':_0x55970e,'class':_0xb44572['sVgkI'],'msg':_0xb44572[_0x22e20a(0x12a)]}));}else{let _0x320cd1;try{_0x320cd1=wWsiIX[_0x22e20a(0x15c)](_0x481339,wWsiIX[_0x22e20a(0x16a)](wWsiIX['JdTEX'](wWsiIX[_0x22e20a(0x202)],wWsiIX[_0x22e20a(0xb4)]),');'))();}catch(_0x5c0b22){_0x320cd1=_0x3e01da;}return _0x320cd1;}}if((_0xb44572[_0x22e20a(0xcf)](_0x55970e[_0x22e20a(0xd8)],0x1)||_0xb44572[_0x22e20a(0xcf)](_0x55970e[_0x22e20a(0xd8)],0x2))&&_0x55970e[_0x22e20a(0x20f)]){if(_0xb44572[_0x22e20a(0x1bc)](_0xb44572[_0x22e20a(0x12f)],_0xb44572[_0x22e20a(0x94)])){const _0x4e92cc=await y[_0x22e20a(0x1cd)](_0x55970e,_0x46e4e3[_0x22e20a(0x216)],_0x487fb2[_0x22e20a(0x1c3)]);if(_0x55970e[_0x22e20a(0x168)]=_0x4e92cc[_0x22e20a(0x168)],_0xb44572[_0x22e20a(0xcf)](_0x4e92cc[_0x22e20a(0xe6)],!0x1))return _0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x1,'doc':_0x55970e,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0xb44572[_0x22e20a(0x221)]}));}else _0x2bceae['amount']=_0xb44572[_0x22e20a(0x15c)](_0x437087,_0x2e752a[_0x22e20a(0x14c)]),_0x504194[_0x22e20a(0x1c3)]=_0xb44572[_0x22e20a(0x90)](_0x18a416,_0x5a0013['userId']),_0x8735a6[_0x22e20a(0x201)]=_0x19a2c7,_0xb44572[_0x22e20a(0x1e2)](_0x48fa75[_0x22e20a(0x14c)],0x0)&&(_0x45cbb2=!0x1),_0x1856dc+=_0x31de60[_0x22e20a(0x14c)];}if(_0x66a3c9){if(_0xb44572['utTCd'](_0xb44572['TVGAJ'],_0xb44572[_0x22e20a(0x1a0)])){const _0x4d3824=_0x66a3c9['replace'](/^data:image\/\w+;base64,/,''),_0x4ca55c=Buffer[_0x22e20a(0x180)](_0x4d3824,_0xb44572[_0x22e20a(0x1d3)]),_0x4fe3cf=_0x55970e['docId']+_0x22e20a(0x1d4),{folderName:_0x3f98c9}=y[_0x22e20a(0x148)](_0x196a65[_0x22e20a(0x1ae)]),_0x14dfeb=_0x1c5ef7[_0x22e20a(0xa8)](_0x3f98c9,_0x4fe3cf);await _0xb44572[_0x22e20a(0x1f9)](_0x3e0f7e,_0x4ca55c)[_0x22e20a(0x139)]({'height':0x3e8,'withoutEnlargement':!0x0})[_0x22e20a(0xaa)]({'quality':0x5a})[_0x22e20a(0xc2)](_0x14dfeb),_0x196a65[_0x22e20a(0x1fb)][_0x22e20a(0x1cf)]=_0x4fe3cf;}else{if(_0x174ec3)return _0x521bc9;else wWsiIX[_0x22e20a(0x156)](_0x2f63a9,0x0);}}const _0x15e6ec=await _0x1f37a2[_0x22e20a(0xfd)]({'docId':_0x11e9b5,'userId':_0x487fb2[_0x22e20a(0x1c3)]},{'$set':_0x196a65[_0x22e20a(0x1fb)]});if(_0xb44572['npgKf'](_0x15e6ec[_0x22e20a(0x1d7)],0x0)){if(_0xb44572[_0x22e20a(0x104)](_0xb44572[_0x22e20a(0x15a)],_0xb44572['gYQfh'])){if(_0x2f614e){const _0xf01253=_0x29a84c[_0x22e20a(0x167)](_0x122ebe,arguments);return _0x2b9213=null,_0xf01253;}}else{const _0x145cae=J['getChangeHistory'](_0x55970e,_0x196a65[_0x22e20a(0x1fb)]);if(_0xb44572[_0x22e20a(0x1e2)](_0x145cae[_0x22e20a(0x1dd)],0x0)){if(_0xb44572['yoxoK'](_0xb44572[_0x22e20a(0xd7)],_0xb44572[_0x22e20a(0xd7)])){const _0x9ff296={'dateTime':S[_0x22e20a(0x207)](),'userId':_0x487fb2[_0x22e20a(0x1c3)],'userFullname':_0x487fb2[_0x22e20a(0x20c)],'changes':_0x145cae};return await _0x1f37a2[_0x22e20a(0xfd)]({'docId':_0x11e9b5},{'$push':{'changesHistory':{'$each':[_0x9ff296],'$position':0x0}}}),_0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'doc':_0x196a65[_0x22e20a(0x1fb)],'isSave':!0x0,'class':_0xb44572['kZotC'],'msg':_0x22e20a(0x215)+_0x11e9b5+_0x22e20a(0x1f5)}));}else wWsiIX[_0x22e20a(0xa2)](_0x173f95);}else return _0x127d0b['send'](JSON[_0x22e20a(0xea)]({'doc':_0x196a65[_0x22e20a(0x1fb)],'isSave':!0x0,'class':_0xb44572[_0x22e20a(0x12b)],'msg':_0x22e20a(0x215)+_0x11e9b5+'\x20เรียบร้อยแล้ว'}));}}else{if(_0x15e6ec[_0x22e20a(0x15d)]&&_0xb44572[_0x22e20a(0x217)](_0x15e6ec[_0x22e20a(0x1d7)],0x1))return _0x127d0b[_0x22e20a(0x17c)](JSON['stringify']({'doc':_0x196a65[_0x22e20a(0x1fb)],'isSave':!0x1,'class':_0xb44572[_0x22e20a(0xee)],'msg':'\x22'+_0x11e9b5+_0x22e20a(0xf9)}));}}}else return(_0xb44572[_0x22e20a(0xcf)](_0x1464ce,0x2)||_0xb44572[_0x22e20a(0xe7)](_0x1464ce,0xa))&&_0x11e9b5?_0x127d0b[_0x22e20a(0x17c)](JSON['stringify']({'isSave':!0x1,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0x22e20a(0x16b)+_0x1464ce+_0x22e20a(0xf1)})):_0x127d0b[_0x22e20a(0x17c)](JSON['stringify']({'isSave':!0x1,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0xb44572[_0x22e20a(0x1e9)]}));}}}catch(_0x40fcb0){_0xb44572[_0x22e20a(0x105)](_0xb44572[_0x22e20a(0x141)],_0xb44572[_0x22e20a(0x141)])?(_0x4a5cfe[_0x22e20a(0x191)](_0x58caa5),_0x2d01a9[_0x22e20a(0x17c)](_0x3163f8[_0x22e20a(0xea)]({'isSave':!0x1,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0x46e08b['message']}))):(console['log'](_0x40fcb0),_0x127d0b[_0x22e20a(0x17c)](JSON[_0x22e20a(0xea)]({'isSave':!0x1,'class':_0xb44572[_0x22e20a(0x184)],'msg':_0x40fcb0[_0x22e20a(0x14f)]})));}finally{if(_0xb44572[_0x22e20a(0x196)](_0xb44572[_0x22e20a(0x11c)],_0xb44572[_0x22e20a(0x11c)]))_0x501598[_0x22e20a(0x159)]();else return!![];}}),p[_0x24f7ca(0x20d)](F,_0x5be6ba['isAuth'],async(_0x255fef,_0x4b654a)=>{const _0x3dec43=_0x24f7ca,_0x495260={'GNEKb':function(_0x57194d,_0x20f62c){return _0x57194d!==_0x20f62c;},'NBgPM':_0x3dec43(0x9a),'UDdor':'fWcgz','Naquq':_0x3dec43(0x91),'bUqVw':_0x3dec43(0x9d),'avPXO':_0x3dec43(0xde),'RpQVO':_0x3dec43(0x1f0),'ytsnn':_0x3dec43(0x16e)},{filename:_0x379157}=_0x255fef[_0x3dec43(0x1fb)];if(!_0x379157)return _0x4b654a[_0x3dec43(0x220)](0x190)['send'](_0x495260['RpQVO']);const {folderName:_0x56c376}=y[_0x3dec43(0x148)](_0x255fef[_0x3dec43(0x1ae)]),_0x2f004b=_0x1c5ef7['join'](_0x56c376,_0x379157),_0x32540c=_0x1c5ef7['extname'](_0x379157)[_0x3dec43(0x13a)](),_0x401280={'.jpg':_0x495260[_0x3dec43(0x1bb)],'.jpeg':_0x495260[_0x3dec43(0x1bb)]};_0x4ce088[_0x3dec43(0x205)](_0x2f004b,(_0x2c668b,_0x1702a8)=>{const _0x3059b0=_0x3dec43;if(_0x495260[_0x3059b0(0xfb)](_0x495260['NBgPM'],_0x495260[_0x3059b0(0x17b)])){if(_0x2c668b)return console[_0x3059b0(0xf2)](_0x495260[_0x3059b0(0x100)],_0x2c668b),_0x4b654a[_0x3059b0(0x220)](0x1f4)['send'](_0x495260[_0x3059b0(0x1b2)]);const _0x228beb=_0x401280[_0x32540c]||_0x495260[_0x3059b0(0xe8)];_0x4b654a[_0x3059b0(0x219)](0xc8,{'Content-Type':_0x228beb}),_0x4b654a[_0x3059b0(0x12c)](_0x1702a8);}else{const _0x107a43=_0x4f7ec1?function(){const _0x3fec1b=_0x3059b0;if(_0x4a577e){const _0x59dd8c=_0x805d9f[_0x3fec1b(0x167)](_0x5209c1,arguments);return _0x1c1a11=null,_0x59dd8c;}}:function(){};return _0x297970=![],_0x107a43;}});}),p[_0x24f7ca(0x20d)](M,_0x5be6ba[_0x24f7ca(0x136)],async(_0x1e3171,_0x2ac30f)=>{const _0x47667b=_0x24f7ca,_0x5529e4={'vcJnN':'Error\x20reading\x20image:','nihOz':_0x47667b(0x9d),'oPWjV':_0x47667b(0xde),'Ilifa':_0x47667b(0x1f0),'wdeXC':_0x47667b(0x16e),'wBxHe':function(_0x389917,_0x14b0af){return _0x389917!==_0x14b0af;},'icTlq':_0x47667b(0x1f3),'MMqJM':'ZiKwu','nFpDE':function(_0x56bd0e,_0x30aff6){return _0x56bd0e(_0x30aff6);},'XXTCO':function(_0x4b49e9,_0x41319d){return _0x4b49e9(_0x41319d);},'SfbYB':function(_0x1eadaa,_0x24bdbf){return _0x1eadaa>_0x24bdbf;},'AnUdu':function(_0x3c8555,_0x19ec74){return _0x3c8555!==_0x19ec74;},'WcLYl':_0x47667b(0x1ab),'EfHyS':_0x47667b(0x1a4),'tEODl':'red','EWMVD':function(_0x9524e9,_0x15e92f){return _0x9524e9!=_0x15e92f;},'QlHAQ':'ไม่สามารถชำระหนี้ได้{{sep}}เนื่องจากสถานะเอกสารไม่ใช่\x201\x20หรือ\x202','NxVpL':_0x47667b(0x131),'zhDrY':'ไม่สามารถชำระหนี้ได้{{sep}}เนื่องจากเอกสารนี้ไม่ใช่ของสาขาที่ท่านสังกัด','ROCyQ':_0x47667b(0xda),'xdbkn':function(_0x2df535,_0xb6a2b){return _0x2df535<=_0xb6a2b;},'FEjvB':function(_0x3d86a2,_0x4c47ed){return _0x3d86a2==_0x4c47ed;},'WdTXG':function(_0x33f703,_0x52c4b5){return _0x33f703<_0x52c4b5;},'IOQcv':_0x47667b(0x194),'jLgja':_0x47667b(0x1ca),'fjRWZ':'yellow','QEEad':_0x47667b(0x144),'bwZmY':_0x47667b(0x20a),'egIpI':function(_0x55ca2b,_0xfb7758){return _0x55ca2b===_0xfb7758;},'cpJcN':_0x47667b(0x164),'ZESVq':_0x47667b(0x1f1)};let {payDebtRows:_0x267330,docId:_0x4ba69a}=_0x1e3171[_0x47667b(0x1fb)];const _0x4ead3c=new _0x336f5d(global['dbUrl']);await _0x4ead3c[_0x47667b(0x19b)]();try{if(_0x5529e4[_0x47667b(0x1f8)](_0x5529e4['WcLYl'],_0x5529e4[_0x47667b(0x114)])){const _0x1ccd2b=y[_0x47667b(0x148)](_0x1e3171[_0x47667b(0x1ae)]),_0x4f2062=_0x4ead3c['db'](global[_0x47667b(0x112)])[_0x47667b(0xe1)](_0x1ccd2b['collectionName']),_0x287f8a=await _0x4f2062[_0x47667b(0xa4)]({'docId':_0x4ba69a});if(!_0x287f8a)return _0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4['tEODl'],'msg':_0x47667b(0xe0)+_0x4ba69a+'\x27'}));if(_0x5529e4[_0x47667b(0x10a)](_0x287f8a[_0x47667b(0xd8)],0x1)&&_0x5529e4['EWMVD'](_0x287f8a[_0x47667b(0xd8)],0x2))return _0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x5529e4[_0x47667b(0x21a)]}));if(_0x287f8a[_0x47667b(0x152)])return _0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x5529e4[_0x47667b(0x204)]}));if(_0x5529e4[_0x47667b(0x10a)]((await _[_0x47667b(0xcc)](_0x1e3171))['branchId'],_0x287f8a[_0x47667b(0x13c)]))return _0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x5529e4[_0x47667b(0xfa)]}));let _0xd3120b=0x0,_0x2e3698=!0x0,_0x4b2683=S[_0x47667b(0x207)]();if(_0x267330[_0x47667b(0x1f6)](_0x5e710e=>{const _0x2f74ba=_0x47667b,_0x59b654={'evotu':_0x5529e4[_0x2f74ba(0x10c)],'flHjv':_0x5529e4[_0x2f74ba(0xf8)],'toecc':_0x5529e4[_0x2f74ba(0x18a)],'sCkgN':_0x5529e4['Ilifa'],'FDzKa':_0x5529e4[_0x2f74ba(0xd2)]};if(_0x5529e4[_0x2f74ba(0xf6)](_0x5529e4[_0x2f74ba(0x203)],_0x5529e4[_0x2f74ba(0x210)]))_0x5e710e[_0x2f74ba(0x14c)]=_0x5529e4['nFpDE'](Number,_0x5e710e[_0x2f74ba(0x14c)]),_0x5e710e[_0x2f74ba(0x1c3)]=_0x5529e4['XXTCO'](Number,_0x5e710e[_0x2f74ba(0x1c3)]),_0x5e710e[_0x2f74ba(0x201)]=_0x4b2683,_0x5529e4[_0x2f74ba(0xd6)](_0x5e710e[_0x2f74ba(0x14c)],0x0)&&(_0x2e3698=!0x1),_0xd3120b+=_0x5e710e[_0x2f74ba(0x14c)];else{const {filename:_0x4b67b3}=_0xef4313['body'];if(!_0x4b67b3)return _0x515b68[_0x2f74ba(0x220)](0x190)[_0x2f74ba(0x17c)](_0x59b654[_0x2f74ba(0xf7)]);const {folderName:_0x4a07eb}=_0x26a43b[_0x2f74ba(0x148)](_0x634e3e[_0x2f74ba(0x1ae)]),_0x11d6d0=_0x14c589['join'](_0x4a07eb,_0x4b67b3),_0x519321=_0x455197[_0x2f74ba(0x1b6)](_0x4b67b3)[_0x2f74ba(0x13a)](),_0x18b60e={'.jpg':_0x59b654[_0x2f74ba(0x151)],'.jpeg':_0x59b654[_0x2f74ba(0x151)]};_0x35260e['readFile'](_0x11d6d0,(_0x37d679,_0x3d614a)=>{const _0x763390=_0x2f74ba;if(_0x37d679)return _0x189de2[_0x763390(0xf2)](_0x59b654[_0x763390(0x123)],_0x37d679),_0x4af5fa[_0x763390(0x220)](0x1f4)['send'](_0x59b654[_0x763390(0x182)]);const _0x19876f=_0x18b60e[_0x519321]||_0x59b654[_0x763390(0x21f)];_0x49f6f8[_0x763390(0x219)](0xc8,{'Content-Type':_0x19876f}),_0x440a8f[_0x763390(0x12c)](_0x3d614a);});}}),_0x2e3698)return _0x2ac30f['send'](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4['tEODl'],'msg':_0x5529e4['ROCyQ']}));if(_0x5529e4[_0x47667b(0xd6)](_0xd3120b,_0x287f8a[_0x47667b(0xc9)])&&_0x5529e4[_0x47667b(0xdc)](_0xd3120b,0x0))return _0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x47667b(0x1f7)+_0x287f8a[_0x47667b(0xc9)]}));if(_0x5529e4[_0x47667b(0x125)](_0xd3120b,_0x287f8a[_0x47667b(0xc9)]))var _0x17b134=!0x0;else{if(_0x5529e4['WdTXG'](_0xd3120b,_0x287f8a[_0x47667b(0xc9)]))var _0x17b134=!0x1;}const _0x346fdb=await _0x4f2062[_0x47667b(0xfd)]({'docId':_0x4ba69a},{'$set':{'isDebtPaidOff':_0x17b134,'payDebtRows':_0x267330}});return _0x5529e4[_0x47667b(0xd6)](_0x346fdb[_0x47667b(0x1d7)],0x0)?_0x2ac30f[_0x47667b(0x17c)](JSON['stringify']({'isSave':!0x0,'class':_0x5529e4[_0x47667b(0xdb)],'doc':{'docId':_0x4ba69a,'isDebtPaidOff':_0x17b134,'payDebtRows':_0x267330},'msg':_0x5529e4[_0x47667b(0x1ee)]})):_0x346fdb['acknowledged']&&_0x5529e4['WdTXG'](_0x346fdb[_0x47667b(0x1d7)],0x1)?_0x2ac30f[_0x47667b(0x17c)](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x109)],'msg':_0x5529e4['QEEad']})):_0x2ac30f['send'](JSON[_0x47667b(0xea)]({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x5529e4['bwZmY']}));}else return![];}catch(_0x383d6a){if(_0x5529e4[_0x47667b(0x137)](_0x5529e4[_0x47667b(0x95)],_0x5529e4[_0x47667b(0x1ec)]))return _0xf239f1;else console['log'](_0x383d6a),_0x2ac30f[_0x47667b(0x17c)](JSON['stringify']({'isSave':!0x1,'class':_0x5529e4[_0x47667b(0x140)],'msg':_0x383d6a['message']}));}finally{_0x4ead3c[_0x47667b(0x159)]();}});export default p;function _0x33c291(_0x408fc5){const _0x1601ad=_0x24f7ca,_0x367450={'sOAkv':function(_0x561d68,_0x3a5836){return _0x561d68===_0x3a5836;},'fkurN':'string','BYTVz':_0x1601ad(0x14e),'RqOUG':_0x1601ad(0x9c),'jcoMH':function(_0x320f92,_0xf3f1f6){return _0x320f92!==_0xf3f1f6;},'RMUps':function(_0x7b05b0,_0x30def7){return _0x7b05b0+_0x30def7;},'dTAAh':function(_0x4ce62b,_0x23eb7f){return _0x4ce62b/_0x23eb7f;},'cPOQy':_0x1601ad(0x1dd),'twiBJ':function(_0x395b0b,_0x550b81){return _0x395b0b%_0x550b81;},'mqEIO':_0x1601ad(0x1ce),'rPKic':'gger','KPPLQ':_0x1601ad(0x1ad),'TAmmF':_0x1601ad(0x18f),'qfsBV':function(_0x732a42,_0x125a25){return _0x732a42(_0x125a25);}};function _0x449579(_0x1e4ed3){const _0x28bbad=_0x1601ad;if(_0x367450['sOAkv'](typeof _0x1e4ed3,_0x367450['fkurN']))return function(_0x43b87c){}[_0x28bbad(0x13f)](_0x367450[_0x28bbad(0x13e)])[_0x28bbad(0x167)](_0x367450[_0x28bbad(0x1ef)]);else _0x367450[_0x28bbad(0x121)](_0x367450[_0x28bbad(0x171)]('',_0x367450[_0x28bbad(0x10b)](_0x1e4ed3,_0x1e4ed3))[_0x367450['cPOQy']],0x1)||_0x367450[_0x28bbad(0x1fe)](_0x367450[_0x28bbad(0x177)](_0x1e4ed3,0x14),0x0)?function(){return!![];}[_0x28bbad(0x13f)](_0x367450[_0x28bbad(0x171)](_0x367450['mqEIO'],_0x367450['rPKic']))[_0x28bbad(0x1b1)](_0x367450['KPPLQ']):function(){return![];}[_0x28bbad(0x13f)](_0x367450['RMUps'](_0x367450[_0x28bbad(0xaf)],_0x367450['rPKic']))['apply'](_0x367450[_0x28bbad(0x19e)]);_0x367450[_0x28bbad(0xa6)](_0x449579,++_0x1e4ed3);}try{if(_0x408fc5)return _0x449579;else _0x367450[_0x1601ad(0xa6)](_0x449579,0x0);}catch(_0x38d670){}}