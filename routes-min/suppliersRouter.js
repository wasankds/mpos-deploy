const _0x2270a4=_0x22c8;(function(_0x45f904,_0x2a339a){const _0x36a1a7=_0x22c8,_0x1e2e06=_0x45f904();while(!![]){try{const _0x31d145=parseInt(_0x36a1a7(0x17c))/0x1+-parseInt(_0x36a1a7(0x1b3))/0x2+-parseInt(_0x36a1a7(0x157))/0x3+parseInt(_0x36a1a7(0xf1))/0x4*(-parseInt(_0x36a1a7(0x158))/0x5)+-parseInt(_0x36a1a7(0x22c))/0x6+-parseInt(_0x36a1a7(0xd0))/0x7+-parseInt(_0x36a1a7(0xc4))/0x8*(-parseInt(_0x36a1a7(0x1de))/0x9);if(_0x31d145===_0x2a339a)break;else _0x1e2e06['push'](_0x1e2e06['shift']());}catch(_0x112b47){_0x1e2e06['push'](_0x1e2e06['shift']());}}}(_0x5d43,0x433eb));const _0x233400=(function(){const _0x54f325=_0x22c8,_0x446927={'eISRI':'error\x20===>\x20','CBhbJ':'red','ClBTT':function(_0x47fd0f,_0x3e2796){return _0x47fd0f!==_0x3e2796;},'sKmuk':_0x54f325(0xf8),'DeHby':'OtCTr','JkPss':_0x54f325(0x197),'teMBY':_0x54f325(0x169),'mYrrm':_0x54f325(0x1c2),'fPkrG':_0x54f325(0x14a),'iWMpL':_0x54f325(0x1af)};let _0x4d03=!![];return function(_0x17f550,_0x247031){const _0xbf25ad=_0x54f325;if(_0x446927[_0xbf25ad(0x1bb)](_0x446927['fPkrG'],_0x446927['iWMpL'])){const _0x1bfe41=_0x4d03?function(){const _0x28e9fe=_0xbf25ad,_0x173769={'qxTXM':_0x446927[_0x28e9fe(0x180)],'MbAzT':_0x446927[_0x28e9fe(0xdf)]};if(_0x446927[_0x28e9fe(0x1bb)](_0x446927[_0x28e9fe(0xdd)],_0x446927['DeHby'])){if(_0x247031){if(_0x446927[_0x28e9fe(0x1bb)](_0x446927['JkPss'],_0x446927['JkPss']))_0x2878fe[_0x28e9fe(0x202)]();else{const _0x101548=_0x247031[_0x28e9fe(0x201)](_0x17f550,arguments);return _0x247031=null,_0x101548;}}}else _0x380139[_0x28e9fe(0x1c1)](_0x173769[_0x28e9fe(0x1c9)],_0x19f4c2['message']),_0x42c581[_0x28e9fe(0x209)](_0x399a32['stringify']({'isPrint':!0x1,'class':_0x173769[_0x28e9fe(0x1f8)],'msg':_0x46be19[_0x28e9fe(0x13f)]}));}:function(){};return _0x4d03=![],_0x1bfe41;}else{const _0x5f25bd=_0x45e6dd+'?sip='+_0x4b7e61+_0xbf25ad(0x159)+_0x34b5f3+_0xbf25ad(0x11c)+_0x3f523f+_0xbf25ad(0x1d8)+_0x7d7335['insertedId'];return _0x306540['flash'](_0x446927['teMBY'],{'class':_0x446927['mYrrm'],'text':_0xbf25ad(0x19e)+_0x20e88f[_0xbf25ad(0x1bf)][_0xbf25ad(0x21e)]+'\x22\x20เรียบร้อยแล้ว'}),_0x444a84[_0xbf25ad(0x166)](_0x5f25bd);}};}());(function(){const _0x239bea=_0x22c8,_0x303d52={'IkWHt':function(_0x1623f2,_0x143611){return _0x1623f2+_0x143611;},'jDpqf':_0x239bea(0xcd),'PGsea':_0x239bea(0xeb),'TskUZ':_0x239bea(0x10f),'lMSFy':function(_0x418a42,_0x7989fd){return _0x418a42!==_0x7989fd;},'PrGEw':_0x239bea(0x1dc),'nhvvr':_0x239bea(0x133),'ftAAp':_0x239bea(0x16b),'BmQbz':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','bihUj':function(_0x3af619,_0x31fca4){return _0x3af619(_0x31fca4);},'xMSEX':_0x239bea(0x1a4),'MpTQk':'chain','DkIBJ':function(_0x475993,_0x5438f9){return _0x475993+_0x5438f9;},'oibTW':_0x239bea(0x13e),'yMUlO':function(_0x66fe74,_0xa9d6f7){return _0x66fe74!==_0xa9d6f7;},'XvOQl':_0x239bea(0x1f7),'RspFf':function(_0x986f0,_0x3babd1){return _0x986f0!==_0x3babd1;},'zQgAP':'jxbqk','QEETL':function(_0x34a2b0){return _0x34a2b0();},'saYsB':function(_0x39836e,_0x5cf33b,_0x1c42b4){return _0x39836e(_0x5cf33b,_0x1c42b4);}};_0x303d52[_0x239bea(0xf6)](_0x233400,this,function(){const _0x594420=_0x239bea,_0x9c8f61={'wpEaN':function(_0x5bfe4e,_0x109985){return _0x303d52['IkWHt'](_0x5bfe4e,_0x109985);},'YqDxJ':_0x303d52['jDpqf'],'yCpNh':_0x303d52[_0x594420(0xc5)],'qfLFc':_0x303d52[_0x594420(0xbd)]};if(_0x303d52[_0x594420(0xe6)](_0x303d52[_0x594420(0xd5)],_0x303d52[_0x594420(0x141)])){const _0x52cad1=new RegExp(_0x303d52[_0x594420(0x119)]),_0x160915=new RegExp(_0x303d52[_0x594420(0x219)],'i'),_0x559d07=_0x303d52['bihUj'](_0x58adc3,_0x303d52['xMSEX']);if(!_0x52cad1['test'](_0x303d52[_0x594420(0x1aa)](_0x559d07,_0x303d52[_0x594420(0x1b4)]))||!_0x160915[_0x594420(0x20d)](_0x303d52[_0x594420(0x181)](_0x559d07,_0x303d52[_0x594420(0x104)]))){if(_0x303d52[_0x594420(0x1f2)](_0x303d52[_0x594420(0x1a7)],_0x303d52['XvOQl']))return _0x2ef2bc;else _0x303d52[_0x594420(0x18d)](_0x559d07,'0');}else _0x303d52[_0x594420(0x179)](_0x303d52[_0x594420(0x18e)],_0x303d52['zQgAP'])?function(){return!![];}[_0x594420(0x230)](_0x9c8f61[_0x594420(0x178)](_0x9c8f61[_0x594420(0x1c8)],_0x9c8f61[_0x594420(0x1d4)]))[_0x594420(0xde)](_0x9c8f61['qfLFc']):_0x303d52['QEETL'](_0x58adc3);}else{const _0x3a73d8=_0xa2e6d1[_0x594420(0x201)](_0x1ed84e,arguments);return _0x44cb12=null,_0x3a73d8;}})();}());const _0x3b1510=(function(){const _0xf23682=_0x22c8,_0x3247ba={'kizIf':function(_0x33033a,_0x18a1e5){return _0x33033a(_0x18a1e5);},'Arfpr':function(_0x246b9e,_0x2eedc4){return _0x246b9e+_0x2eedc4;},'jHwix':function(_0x3c4cec,_0x5ed35f){return _0x3c4cec!==_0x5ed35f;},'HdInD':_0xf23682(0x1f9),'IhhVM':'mtznl','FyszB':'Nvmgo','qwdQE':function(_0x2bb4c1,_0x1d2140){return _0x2bb4c1===_0x1d2140;},'TcYSk':_0xf23682(0xbc)};let _0x207a40=!![];return function(_0xd45034,_0x41b52c){const _0x1f214d=_0xf23682,_0x47998b={'zOlxa':function(_0x1b60a3,_0x45dc9e){const _0x35144e=_0x22c8;return _0x3247ba[_0x35144e(0x170)](_0x1b60a3,_0x45dc9e);},'NvwUk':function(_0x2c2c5e,_0x59fb48){const _0x22ba03=_0x22c8;return _0x3247ba[_0x22ba03(0x170)](_0x2c2c5e,_0x59fb48);},'AWSxt':function(_0x583a76,_0x5db6f4){const _0x3a9402=_0x22c8;return _0x3247ba[_0x3a9402(0x16c)](_0x583a76,_0x5db6f4);},'dTxAX':function(_0x41e345,_0x14a2cc){const _0x4fefe9=_0x22c8;return _0x3247ba[_0x4fefe9(0x132)](_0x41e345,_0x14a2cc);},'zTBAn':_0x3247ba['HdInD'],'PIMjH':_0x3247ba['IhhVM'],'JECtC':_0x3247ba['FyszB']};if(_0x3247ba[_0x1f214d(0x147)](_0x3247ba[_0x1f214d(0x174)],_0x3247ba['TcYSk'])){const _0x5e3ad8=_0x207a40?function(){const _0x3afcc8=_0x1f214d,_0x414825={'cWFXt':function(_0x1cef81,_0x3939cd){const _0x171f1a=_0x22c8;return _0x47998b[_0x171f1a(0x1c6)](_0x1cef81,_0x3939cd);},'HUttI':function(_0x3fccb8,_0x2afd38){const _0x52cd13=_0x22c8;return _0x47998b[_0x52cd13(0xfa)](_0x3fccb8,_0x2afd38);},'iAfAZ':function(_0x14189d,_0x660157){const _0x15e7db=_0x22c8;return _0x47998b[_0x15e7db(0x1c3)](_0x14189d,_0x660157);}};if(_0x47998b[_0x3afcc8(0xff)](_0x47998b['zTBAn'],_0x47998b['PIMjH'])){if(_0x41b52c){if(_0x47998b['dTxAX'](_0x47998b['JECtC'],_0x47998b[_0x3afcc8(0xd6)])){const _0x12dc35=_0x440a60[0x0][_0x3afcc8(0x21e)][_0x3afcc8(0x185)](0x1),_0x4be893=_0x414825[_0x3afcc8(0x1f4)](_0x39e1f5,_0x12dc35);_0x58cc0e='S'+_0x414825[_0x3afcc8(0x111)](_0x21da52,_0x414825[_0x3afcc8(0x156)](_0x4be893,0x1))[_0x3afcc8(0x13d)](0x4,'0');}else{const _0x32b257=_0x41b52c[_0x3afcc8(0x201)](_0xd45034,arguments);return _0x41b52c=null,_0x32b257;}}}else{if(_0x35e033)return _0x50d055;else _0x47998b[_0x3afcc8(0xfa)](_0x4998d3,0x0);}}:function(){};return _0x207a40=![],_0x5e3ad8;}else return!![];};}()),_0x3eb2aa=_0x3b1510(this,function(){const _0x5b4893=_0x22c8,_0x3574b7={'Vbqsc':function(_0x1d8f5a,_0x5c96b8){return _0x1d8f5a!==_0x5c96b8;},'yOXnl':_0x5b4893(0xb6),'FCYUU':_0x5b4893(0x102),'Bzaar':_0x5b4893(0x16f),'QjMhl':function(_0x24d366,_0x9d9715){return _0x24d366(_0x9d9715);},'OTFhz':function(_0x31cc7c,_0x346f04){return _0x31cc7c+_0x346f04;},'HMyUe':_0x5b4893(0x10c),'pVoyl':_0x5b4893(0x15e),'KZZtD':function(_0x5ec31d,_0xed801e){return _0x5ec31d===_0xed801e;},'WkbOl':'fGAiH','IGbDi':_0x5b4893(0x169),'Afxbs':_0x5b4893(0xb9),'sJcDv':function(_0x2604b0){return _0x2604b0();},'TqHDk':_0x5b4893(0x1c1),'JRKAt':_0x5b4893(0x17d),'CZyjT':'info','tHvNg':_0x5b4893(0x16d),'ObBnS':_0x5b4893(0x10a),'BBdCS':'table','IFMkh':_0x5b4893(0xd8),'VrTZk':function(_0x24cc6e,_0x584d77){return _0x24cc6e<_0x584d77;},'Jknof':'LBDnr'},_0x3ff35a=function(){const _0x15057d=_0x5b4893;if(_0x3574b7[_0x15057d(0x144)](_0x3574b7[_0x15057d(0x188)],_0x3574b7[_0x15057d(0x18a)])){let _0x3b8012;try{if(_0x3574b7[_0x15057d(0x144)](_0x3574b7[_0x15057d(0x1f1)],_0x3574b7[_0x15057d(0x1f1)])){const _0x50ccbe=_0x2ba337['apply'](_0xd33097,arguments);return _0x5e8238=null,_0x50ccbe;}else _0x3b8012=_0x3574b7[_0x15057d(0x1ed)](Function,_0x3574b7[_0x15057d(0xfe)](_0x3574b7[_0x15057d(0xfe)](_0x3574b7[_0x15057d(0x1e4)],_0x3574b7[_0x15057d(0x13c)]),');'))();}catch(_0x1cd98a){_0x3574b7[_0x15057d(0x117)](_0x3574b7[_0x15057d(0xca)],_0x3574b7[_0x15057d(0xca)])?_0x3b8012=window:_0x1f660b=_0xa1ff2a;}return _0x3b8012;}else _0x49e257[_0x15057d(0x1c1)](_0x23e33c),_0x5968f8['status'](0x194)['sendFile'](_0x1fd6d5);},_0x38e773=_0x3574b7[_0x5b4893(0x22f)](_0x3ff35a),_0x5baa2a=_0x38e773['console']=_0x38e773[_0x5b4893(0x137)]||{},_0x57ca59=[_0x3574b7[_0x5b4893(0x138)],_0x3574b7[_0x5b4893(0x1b2)],_0x3574b7[_0x5b4893(0x114)],_0x3574b7['tHvNg'],_0x3574b7[_0x5b4893(0xd2)],_0x3574b7[_0x5b4893(0x22b)],_0x3574b7[_0x5b4893(0x177)]];for(let _0x16d593=0x0;_0x3574b7[_0x5b4893(0x17e)](_0x16d593,_0x57ca59[_0x5b4893(0xce)]);_0x16d593++){if(_0x3574b7[_0x5b4893(0x117)](_0x3574b7[_0x5b4893(0x1ba)],_0x3574b7[_0x5b4893(0x1ba)])){const _0x1e87ca=_0x3b1510[_0x5b4893(0x230)][_0x5b4893(0x15d)]['bind'](_0x3b1510),_0xa56576=_0x57ca59[_0x16d593],_0x5ac072=_0x5baa2a[_0xa56576]||_0x1e87ca;_0x1e87ca[_0x5b4893(0x118)]=_0x3b1510[_0x5b4893(0x1c4)](_0x3b1510),_0x1e87ca['toString']=_0x5ac072[_0x5b4893(0xba)]['bind'](_0x5ac072),_0x5baa2a[_0xa56576]=_0x1e87ca;}else _0x229e5d['log'](_0xcc76e2),_0x45d7a1[_0x5b4893(0x126)](_0x3574b7[_0x5b4893(0xd3)],{'class':_0x3574b7[_0x5b4893(0x16a)],'text':''+_0x36b3e1[_0x5b4893(0x13f)]}),_0x3c42ac[_0x5b4893(0x1ac)](0x194)[_0x5b4893(0x21a)](_0x4cc66f);}});_0x3eb2aa();import _0x22832d from'express';const h=_0x22832d[_0x2270a4(0xe3)]();function _0x22c8(_0x4b50dc,_0x31ace7){const _0x41877e=_0x5d43();return _0x22c8=function(_0x3eb2aa,_0x3b1510){_0x3eb2aa=_0x3eb2aa-0xb4;let _0x45e75e=_0x41877e[_0x3eb2aa];return _0x45e75e;},_0x22c8(_0x4b50dc,_0x31ace7);}import{MongoClient as _0x13bdbc,ObjectId as _0x367d71}from'mongodb';import _0x31e0b3 from'ejs';import _0x5c5def from'fs';import _0x52718b from'path';import _0x305c5b from'../middleware/mainAuth.js';import'console';const D=await import('../'+mymoduleFolder+'/myModule.js'),w=await import(_0x2270a4(0x226)+mymoduleFolder+'/myDateTime.js'),A=await import('../'+mymoduleFolder+_0x2270a4(0x1b1)),L=await import('../'+mymoduleFolder+'/myData.js'),n=_0x2270a4(0x1b8),C=n+'/save',H=n+'/load',j=n+_0x2270a4(0x113),M=n+_0x2270a4(0x1b9),E=n+_0x2270a4(0x1a2),F=n+_0x2270a4(0x231),k=n[_0x2270a4(0x1e5)](/\//g,'_');h['get'](n,_0x305c5b[_0x2270a4(0x127)],async(_0x487b29,_0x4745b5)=>{const _0x538c3d=_0x2270a4,_0x5f104c={'aaEQE':_0x538c3d(0x16b),'IYHlM':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','LBEEa':function(_0x1f5204,_0xe359e9){return _0x1f5204(_0xe359e9);},'asnoY':'init','ywUXI':function(_0x503415,_0x49723a){return _0x503415+_0x49723a;},'BMyCg':_0x538c3d(0x148),'gYOsc':_0x538c3d(0x13e),'WTKvI':function(_0x5c5df5){return _0x5c5df5();},'xEIhA':function(_0x454b13,_0x3f22c2,_0x2a27ba){return _0x454b13(_0x3f22c2,_0x2a27ba);},'xCKxp':'msg','qVuFg':'red','SbJLs':function(_0xe783,_0x245e1e){return _0xe783+_0x245e1e;},'ySDEf':_0x538c3d(0xcd),'iqODv':_0x538c3d(0xeb),'tqiMD':'stateObject','JXsuq':function(_0x3cda30,_0x183cd9){return _0x3cda30(_0x183cd9);},'XYivR':function(_0xe1aa87,_0x245c21){return _0xe1aa87(_0x245c21);},'Mutei':function(_0x3128a3,_0x21c78a){return _0x3128a3*_0x21c78a;},'RGrbD':function(_0x38c1a8,_0x3c62fc){return _0x38c1a8-_0x3c62fc;},'vzUbs':function(_0x25bf8c,_0x5a2253){return _0x25bf8c===_0x5a2253;},'jvziy':_0x538c3d(0x1cd),'GrHeo':_0x538c3d(0x1a1),'aVspI':_0x538c3d(0x13b),'gmmSI':'$dateTimeCanDelete','YzNKY':'minute','wGykL':'BwhfM','HBgkk':_0x538c3d(0xdb),'oqaow':function(_0xa36074,_0x2bf65b){return _0xa36074/_0x2bf65b;},'lipEw':function(_0x4428d6,_0x2de94b){return _0x4428d6<_0x2de94b;},'nkwYg':function(_0x477cad,_0x33bd4f){return _0x477cad-_0x33bd4f;},'NQVtK':function(_0x10c960,_0x25ddf5){return _0x10c960(_0x25ddf5);},'WcaDd':function(_0x6d2b25,_0xbdf606){return _0x6d2b25(_0xbdf606);},'SvMfq':function(_0x53fe2c,_0x18713f){return _0x53fe2c>_0x18713f;},'mrhAw':function(_0x1d9955,_0x2b4b10){return _0x1d9955+_0x2b4b10;},'JKWzR':function(_0x1cb37d,_0x38434b){return _0x1cb37d+_0x38434b;},'esLFs':function(_0x2d4b7e,_0x13c905){return _0x2d4b7e!==_0x13c905;},'IntxY':_0x538c3d(0x21b),'tIdjE':_0x538c3d(0x134),'qquRx':_0x538c3d(0xe2),'pNgvl':_0x538c3d(0xfb),'HXNjc':function(_0x192a49,_0x453848){return _0x192a49===_0x453848;},'cwpAi':'fnzKM','qpIHO':'YUrBN','NbwcJ':_0x538c3d(0x1d5),'lBFVr':_0x538c3d(0x14d)},_0x552b5b=_0x487b29['query']['sip']?.[_0x538c3d(0x20f)]()[_0x538c3d(0x1e5)](/[$.*?]/g,'\x20')||'',_0x13907f=_0x5f104c[_0x538c3d(0x1ef)](Number,_0x487b29[_0x538c3d(0x153)][_0x538c3d(0x205)])||0x14,_0x25cf86=_0x5f104c[_0x538c3d(0x14b)](Number,_0x487b29['query'][_0x538c3d(0x1ec)])||0x1,_0x40f61f=_0x487b29[_0x538c3d(0x153)][_0x538c3d(0xd7)]||'',_0x66823d=_0x5f104c[_0x538c3d(0x176)](Number,_0x5f104c['Mutei'](_0x5f104c['RGrbD'](_0x25cf86,0x1),_0x13907f)),_0x36aaa9=new _0x13bdbc(dbUrl);try{if(_0x5f104c[_0x538c3d(0x1a3)](_0x5f104c['jvziy'],_0x5f104c['GrHeo'])){const _0x1d8d45={'intde':Dqegwo[_0x538c3d(0x160)],'FOFqv':Dqegwo[_0x538c3d(0xf0)],'CDkgu':function(_0x37fa51,_0x2e4b2a){return Dqegwo['LBEEa'](_0x37fa51,_0x2e4b2a);},'pnWBD':Dqegwo[_0x538c3d(0x1d7)],'xOVJW':function(_0x53322f,_0xf00d0d){const _0x2f9117=_0x538c3d;return Dqegwo[_0x2f9117(0x120)](_0x53322f,_0xf00d0d);},'liwdE':Dqegwo['BMyCg'],'ljGOT':Dqegwo[_0x538c3d(0xf4)],'pxfmr':function(_0x473269){return Dqegwo['WTKvI'](_0x473269);}};Dqegwo['xEIhA'](_0x497a1c,this,function(){const _0x544c1b=_0x538c3d,_0x59217f=new _0x2f4c52(_0x1d8d45[_0x544c1b(0x15c)]),_0x27bf0b=new _0x40e389(_0x1d8d45[_0x544c1b(0x1ee)],'i'),_0x344d2d=_0x1d8d45[_0x544c1b(0x20c)](_0x191f63,_0x1d8d45[_0x544c1b(0xbe)]);!_0x59217f[_0x544c1b(0x20d)](_0x1d8d45[_0x544c1b(0xea)](_0x344d2d,_0x1d8d45['liwdE']))||!_0x27bf0b[_0x544c1b(0x20d)](_0x1d8d45['xOVJW'](_0x344d2d,_0x1d8d45[_0x544c1b(0x187)]))?_0x1d8d45[_0x544c1b(0x20c)](_0x344d2d,'0'):_0x1d8d45[_0x544c1b(0xef)](_0x20af78);})();}else{const _0x19e239=w['getDateTime'](),_0x384214={'_id':0x1,'supplierId':0x1,'supplierStatus':0x1,'supplierType':0x1,'supplierName':0x1,'supplierAddress1':0x1,'supplierAddress2':0x1,'supplierProvince':0x1,'supplierPhone':0x1,'supplierWebsite':0x1,'supplierEmail':0x1,'supplierIdentityId':0x1,'supplierTaxId':0x1,'supplierContactPerson':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x5f104c[_0x538c3d(0x204)],[]]}},'canDelete':0x1,'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x19e239},'endDate':{'$toDate':_0x5f104c[_0x538c3d(0x129)]},'unit':_0x5f104c[_0x538c3d(0x128)]}},0x0]},'then':!0x0,'else':!0x1}}};await _0x36aaa9[_0x538c3d(0x103)]();const _0x41b9af=_0x36aaa9['db'](dbName)[_0x538c3d(0x210)](global[_0x538c3d(0xe4)]);if(_0x552b5b){if(_0x5f104c[_0x538c3d(0x1a3)](_0x5f104c[_0x538c3d(0x155)],_0x5f104c[_0x538c3d(0x155)])){const _0x413c82=new RegExp(_0x552b5b[_0x538c3d(0x1e5)](/[.*+?^${}()|[\]\\]/g,_0x5f104c[_0x538c3d(0x11f)]),'i');var _0x4e56f7=await _0x41b9af[_0x538c3d(0x10d)]({'$or':[{'supplierId':{'$regex':_0x413c82}},{'supplierName':{'$regex':_0x413c82}}]});}else{if(_0x5d822b){const _0xb8f988=_0x413ab0[_0x538c3d(0x201)](_0x32e868,arguments);return _0x561e15=null,_0xb8f988;}}}else var _0x4e56f7=await _0x41b9af[_0x538c3d(0x10d)]({});const _0x1a58aa=Math[_0x538c3d(0x116)](_0x5f104c[_0x538c3d(0x1e8)](_0x4e56f7,_0x13907f)),_0x36a4ae=_0x5f104c[_0x538c3d(0xc6)](_0x5f104c['RGrbD'](_0x5f104c[_0x538c3d(0x1ef)](Number,_0x25cf86),0x1),0x1)?'-':_0x5f104c[_0x538c3d(0xe8)](_0x5f104c['NQVtK'](Number,_0x25cf86),0x1),_0x545002=_0x5f104c[_0x538c3d(0x200)](Number,_0x25cf86),_0x5ea4cb=_0x5f104c[_0x538c3d(0xcb)](_0x5f104c[_0x538c3d(0x146)](_0x5f104c[_0x538c3d(0x200)](Number,_0x25cf86),0x1),_0x1a58aa)?'-':_0x5f104c['JKWzR'](_0x5f104c[_0x538c3d(0x1ef)](Number,_0x25cf86),0x1),_0x3a3bb4=[{'$project':_0x384214},{'$sort':{'supplierId':0x1}},{'$skip':_0x66823d},{'$limit':_0x13907f}];if(_0x552b5b){if(_0x5f104c[_0x538c3d(0x15f)](_0x5f104c[_0x538c3d(0x1a5)],_0x5f104c[_0x538c3d(0x1a5)]))return _0x5c52c9[_0x538c3d(0x126)](_0x5f104c['xCKxp'],{'class':_0x5f104c[_0x538c3d(0xc7)],'text':_0x2e7643[_0x538c3d(0x13f)]}),_0x36138c['redirect'](_0x37e7ea);else{const _0xd137b3=_0x552b5b?new RegExp(''+_0x552b5b,'i'):new RegExp('.*');_0x3a3bb4[_0x538c3d(0x18f)]({'$match':{'$or':[{'supplierId':{'$regex':_0xd137b3}},{'supplierName':{'$regex':_0xd137b3}}]}});}}const _0x3b2f4f=await _0x41b9af[_0x538c3d(0x1e9)](_0x3a3bb4)['toArray']();if(_0x40f61f){if(_0x5f104c[_0x538c3d(0x1a3)](_0x5f104c[_0x538c3d(0xe0)],_0x5f104c[_0x538c3d(0xe0)])){var _0x4a2eda=_0x3b2f4f[_0x538c3d(0x11e)](_0x189c9d=>_0x189c9d['_id']==_0x40f61f);if(_0x5f104c[_0x538c3d(0xcb)](_0x4a2eda[_0x538c3d(0xce)],0x0))var _0x1d3e9f=_0x4a2eda[0x0];else var _0x1d3e9f=await _0x41b9af['findOne']({'_id':new _0x367d71(_0x40f61f)});}else{const _0x1ccaec=_0x451e24?function(){if(_0x3196c8){const _0x7ffe18=_0x41e823['apply'](_0x523f90,arguments);return _0x3b0289=null,_0x7ffe18;}}:function(){};return _0x242f7d=![],_0x1ccaec;}}const _0x15e681=await D[_0x538c3d(0x215)](_0x5f104c[_0x538c3d(0x1ce)],_0x4745b5,{'title':PAGE_SUPPLIERS,'time':w[_0x538c3d(0x1e3)](),'msg':_0x487b29[_0x538c3d(0x126)](_0x5f104c['xCKxp']),'userFlash':_0x487b29['flash'](_0x5f104c[_0x538c3d(0xf7)]),'user':await A[_0x538c3d(0x151)](_0x487b29),'settings':await D['getSettings'](),'load_id':_0x40f61f,'sip':_0x552b5b,'rpp':_0x13907f,'page':_0x25cf86,'pagePre':_0x36a4ae,'pageAct':_0x545002,'pageNxt':_0x5ea4cb,'pageLst':_0x1a58aa,'pageRedirect':''+n,'PATH_MAIN':n,'PATH_SAVE':C,'PATH_LOAD':H,'PATH_DELETE':j,'PATH_IMPORT':M,'PATH_PRINT':E,'PATH_CHANGES':F,'PREFIX':k,'data':_0x3b2f4f,'item':_0x1d3e9f});_0x4745b5['send'](_0x15e681);}}catch(_0x499d6e){if(_0x5f104c[_0x538c3d(0x1ae)](_0x5f104c[_0x538c3d(0xe7)],_0x5f104c['qpIHO']))return _0x5a3b0d['flash'](_0x5f104c[_0x538c3d(0xc8)],{'class':_0x5f104c[_0x538c3d(0xc7)],'text':''+_0x575b32[_0x538c3d(0x13f)]}),_0x13a3e4[_0x538c3d(0x166)](_0x45578d);else console['log'](_0x499d6e),_0x4745b5[_0x538c3d(0x1ac)](0x194)[_0x538c3d(0x21a)](file404);}finally{_0x5f104c[_0x538c3d(0x15f)](_0x5f104c[_0x538c3d(0x22d)],_0x5f104c[_0x538c3d(0x199)])?_0x36aaa9['close']():function(){return![];}['constructor'](Dqegwo[_0x538c3d(0xbf)](Dqegwo[_0x538c3d(0x12d)],Dqegwo[_0x538c3d(0x1d0)]))[_0x538c3d(0x201)](Dqegwo[_0x538c3d(0xd4)]);}}),h[_0x2270a4(0x12e)](H,_0x305c5b[_0x2270a4(0x127)],async(_0x4290f0,_0x410267)=>{const _0x5846e5=_0x2270a4,_0x32ad66={'swEeH':'function\x20*\x5c(\x20*\x5c)','XRKRh':_0x5846e5(0x165),'BlEeJ':function(_0x425f29,_0x3f4af0){return _0x425f29(_0x3f4af0);},'XRpBS':'init','uLVjd':function(_0x4f0775,_0x75e036){return _0x4f0775+_0x75e036;},'pwiTU':_0x5846e5(0x148),'keWNP':function(_0x340280,_0x2b659c){return _0x340280+_0x2b659c;},'hCJXJ':_0x5846e5(0x13e),'CBFcS':function(_0x91aa47,_0x472fab){return _0x91aa47(_0x472fab);},'ZVvwd':function(_0x3cebb6){return _0x3cebb6();},'nIMrL':function(_0x1b8af6,_0x33f5b9){return _0x1b8af6!==_0x33f5b9;},'mcQLK':_0x5846e5(0x1f0),'eLfly':'msg','OSUph':'red','UBhHA':_0x5846e5(0x223),'RfYEW':function(_0x1d77fb,_0x114ab8){return _0x1d77fb!==_0x114ab8;},'HGihw':_0x5846e5(0x10b),'KNuxD':_0x5846e5(0x20e),'aHirr':function(_0x2016a2,_0x1a300a){return _0x2016a2===_0x1a300a;},'JCTXh':_0x5846e5(0xfc),'gaaSU':_0x5846e5(0x227)},_0xd82942=_0x4290f0[_0x5846e5(0x1bf)][_0x5846e5(0xd7)],_0x1a037a=_0x4290f0[_0x5846e5(0x1bf)][_0x5846e5(0x11d)],_0x3521b0=_0x32ad66[_0x5846e5(0x189)](Number,_0x4290f0[_0x5846e5(0x1bf)][_0x5846e5(0x205)])||0x14,_0x4908d4=_0x32ad66['CBFcS'](Number,_0x4290f0[_0x5846e5(0x1bf)][_0x5846e5(0x1ec)])||0x1,_0x1d8e59=n+_0x5846e5(0x1cc)+_0x1a037a+'&rpp='+_0x3521b0+'&page='+_0x4908d4+_0x5846e5(0x1d8)+_0xd82942,_0x4aabc0=new _0x13bdbc(dbUrl);try{if(_0x32ad66[_0x5846e5(0x168)](_0x32ad66[_0x5846e5(0xec)],_0x32ad66[_0x5846e5(0xec)]))_0xe3268a[_0x5846e5(0x202)]();else return await _0x4aabc0['db'](dbName)[_0x5846e5(0x210)](global[_0x5846e5(0xe4)])['findOne']({'_id':new _0x367d71(_0xd82942)},{'projection':{'changesHistory':0x0}})?_0x4290f0['flash'](_0x32ad66[_0x5846e5(0x139)],null):_0x4290f0[_0x5846e5(0x126)](_0x32ad66['eLfly'],{'class':_0x32ad66['OSUph'],'text':new Error(_0x32ad66[_0x5846e5(0xb8)])+_0x5846e5(0xc2)+_0xd82942+'\x22'}),_0x410267['redirect'](_0x1d8e59);}catch(_0x5ea11b){if(_0x32ad66[_0x5846e5(0x1d9)](_0x32ad66[_0x5846e5(0xf9)],_0x32ad66[_0x5846e5(0x150)]))return _0x4290f0['flash'](_0x32ad66[_0x5846e5(0x139)],{'class':_0x32ad66[_0x5846e5(0x1d6)],'text':''+_0x5ea11b[_0x5846e5(0x13f)]}),_0x410267['redirect'](_0x1d8e59);else{if(_0x52ba8f){const _0x540f3f=_0x2e9c4e[_0x5846e5(0x201)](_0x9405af,arguments);return _0x18f2ca=null,_0x540f3f;}}}finally{if(_0x32ad66[_0x5846e5(0x13a)](_0x32ad66[_0x5846e5(0x1b7)],_0x32ad66[_0x5846e5(0x152)])){const _0x5f119a=new _0x153140(MAVXbf[_0x5846e5(0x19c)]),_0x2935fa=new _0x541ad1(MAVXbf['XRKRh'],'i'),_0x59c347=MAVXbf[_0x5846e5(0x189)](_0x4ae0b2,MAVXbf[_0x5846e5(0x12a)]);!_0x5f119a[_0x5846e5(0x20d)](MAVXbf[_0x5846e5(0x1db)](_0x59c347,MAVXbf[_0x5846e5(0x12b)]))||!_0x2935fa[_0x5846e5(0x20d)](MAVXbf[_0x5846e5(0x124)](_0x59c347,MAVXbf[_0x5846e5(0x221)]))?MAVXbf['CBFcS'](_0x59c347,'0'):MAVXbf[_0x5846e5(0x225)](_0x272648);}else _0x4aabc0[_0x5846e5(0x202)]();}}),h[_0x2270a4(0x12e)](C,_0x305c5b[_0x2270a4(0x127)],async(_0x5a9f33,_0x1f29a2)=>{const _0x1f6033=_0x2270a4,_0x2a762a={'GiGYV':_0x1f6033(0x19d),'WiXpZ':_0x1f6033(0xcf),'HkfDn':function(_0x5b8bc9,_0x1c6938){return _0x5b8bc9(_0x1c6938);},'hriqQ':function(_0x44ce16,_0xd70f){return _0x44ce16+_0xd70f;},'qPxlH':'return\x20(function()\x20','HBvTV':_0x1f6033(0x15e),'XbWBh':function(_0x3b1f9f){return _0x3b1f9f();},'UWxij':function(_0x49e336,_0x2e7ed2){return _0x49e336(_0x2e7ed2);},'ppOrF':function(_0x3b4186,_0x5d2889){return _0x3b4186!==_0x5d2889;},'YmDml':_0x1f6033(0xda),'NrHtW':_0x1f6033(0xe1),'EimKA':function(_0x4873c3,_0x14bdcd){return _0x4873c3===_0x14bdcd;},'dGzZX':_0x1f6033(0x115),'eMugf':_0x1f6033(0x109),'BAOQn':function(_0x46a716,_0x3bb8ca){return _0x46a716===_0x3bb8ca;},'oRPEr':_0x1f6033(0x173),'yjawz':_0x1f6033(0xe9),'znDhN':_0x1f6033(0x169),'EtIOg':_0x1f6033(0xb9),'AYHuW':function(_0x146ca1,_0x4d7461){return _0x146ca1==_0x4d7461;},'tJGOB':_0x1f6033(0x22a),'ckuHP':function(_0x5ac04f,_0x2415c8){return _0x5ac04f>_0x2415c8;},'kGryn':function(_0x3ebb64,_0xb09c59){return _0x3ebb64===_0xb09c59;},'jPzlH':_0x1f6033(0x11b),'PuyRH':_0x1f6033(0xc1),'cCwOo':_0x1f6033(0x1c2),'HqEah':function(_0x1121be,_0x1b1fd5){return _0x1121be<_0x1b1fd5;},'QaYqx':'yellow','TBubv':_0x1f6033(0x223),'HHQzI':function(_0x56ca77,_0x4bfee5){return _0x56ca77!==_0x4bfee5;},'bKhDY':'jxwqV','znlUx':_0x1f6033(0x12c),'vQcRN':_0x1f6033(0x106),'dQzJR':function(_0xeb0d0a,_0x500f7d){return _0xeb0d0a>_0x500f7d;},'Hsegp':_0x1f6033(0x1a0),'ZTdwu':function(_0x3fd42e,_0x3f199a){return _0x3fd42e===_0x3f199a;},'IrltD':_0x1f6033(0xf5),'UwPxD':'IDDoL','xQiZR':_0x1f6033(0x1ff),'wuHnb':function(_0x5a3a65,_0x4e8be5){return _0x5a3a65!==_0x4e8be5;},'gQNwa':_0x1f6033(0x1da),'iFaZJ':_0x1f6033(0x203),'jLlGW':_0x1f6033(0x15b)},_0x35eabc=_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x21e)],_0xff16b8=_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x220)],_0x3c79f1=_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x11d)],_0x1bfba5=_0x2a762a[_0x1f6033(0x196)](Number,_0x5a9f33['body'][_0x1f6033(0x205)])||0x14,_0x12d8b4=_0x2a762a[_0x1f6033(0xf2)](Number,_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x1ec)])||0x1,_0x4f2e25=n+_0x1f6033(0x1cc)+_0x3c79f1+_0x1f6033(0x159)+_0x1bfba5+_0x1f6033(0x11c)+_0x12d8b4+_0x1f6033(0x1d8)+_0xff16b8;delete _0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x220)],delete _0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x11d)],delete _0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x205)],delete _0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x1ec)],delete _0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x21e)];const _0xd543d8=new _0x13bdbc(dbUrl);try{if(_0x2a762a[_0x1f6033(0x1e2)](_0x2a762a['YmDml'],_0x2a762a['NrHtW'])){await _0xd543d8[_0x1f6033(0x103)]();const _0x2c8274=_0xd543d8['db'](dbName)[_0x1f6033(0x210)](global[_0x1f6033(0xe4)]);if(_0xff16b8){if(_0x2a762a[_0x1f6033(0x184)](_0x2a762a['dGzZX'],_0x2a762a['eMugf'])){const _0x245a48=_0x3fab6b?new _0x2bec9d(''+_0x5469f7,'i'):new _0x20775a('.*');_0x40df1d[_0x1f6033(0x18f)]({'$match':{'$or':[{'supplierId':{'$regex':_0x245a48}},{'supplierName':{'$regex':_0x245a48}}]}});}else{if(_0xff16b8){if(_0x2a762a[_0x1f6033(0x21c)](_0x2a762a[_0x1f6033(0xc9)],_0x2a762a['yjawz']))_0x9e6da[_0x1f6033(0x202)]();else{const _0x4167fb=await _0x2c8274[_0x1f6033(0x1e1)]({'_id':new _0x367d71(_0xff16b8)});if(!_0x4167fb)return _0x5a9f33[_0x1f6033(0x126)](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a[_0x1f6033(0x182)],'text':_0x1f6033(0x143)+_0x35eabc}),_0x1f29a2[_0x1f6033(0x166)](n);const _0x3b273a=await _0x2c8274[_0x1f6033(0x1fb)]({'_id':new _0x367d71(_0xff16b8)},{'$set':_0x5a9f33[_0x1f6033(0x1bf)]},{'upsert':!0x1});if(_0x3b273a[_0x1f6033(0xb5)]&&_0x2a762a[_0x1f6033(0x1d3)](_0x3b273a['modifiedCount'],0x1)){if(_0x2a762a[_0x1f6033(0x184)](_0x2a762a[_0x1f6033(0x1f5)],_0x2a762a[_0x1f6033(0x1f5)])){let _0x4eb8a3=_0x1f6033(0x1eb)+_0x35eabc+'\x22\x20เรียบร้อยแล้ว';const _0xeafbd2=L[_0x1f6033(0x1be)](_0x4167fb,_0x5a9f33['body']);if(_0xeafbd2&&_0x2a762a['ckuHP'](_0xeafbd2[_0x1f6033(0xce)],0x0)){if(_0x2a762a['kGryn'](_0x2a762a[_0x1f6033(0x190)],_0x2a762a[_0x1f6033(0x190)])){const _0x3d5210=await A[_0x1f6033(0x151)](_0x5a9f33),_0x1e45b4={'dateTime':w[_0x1f6033(0x20a)](),'userId':_0x3d5210[_0x1f6033(0x1b0)],'userFullname':_0x3d5210[_0x1f6033(0x1cb)],'changes':_0xeafbd2};await _0x2c8274[_0x1f6033(0x1fb)]({'supplierId':_0x35eabc},{'$push':{'changesHistory':{'$each':[_0x1e45b4],'$position':0x0}}}),_0x4eb8a3+=_0x2a762a['PuyRH'];}else return function(_0x39a8c8){}[_0x1f6033(0x230)](chuQPe[_0x1f6033(0x161)])[_0x1f6033(0x201)](chuQPe[_0x1f6033(0x175)]);}return _0x5a9f33['flash'](_0x2a762a['znDhN'],{'class':_0x2a762a['cCwOo'],'text':_0x4eb8a3}),_0x1f29a2['redirect'](_0x4f2e25);}else _0x321ff2[_0x1f6033(0x202)]();}else return _0x3b273a['acknowledged']&&_0x2a762a['HqEah'](_0x3b273a[_0x1f6033(0x1ca)],0x1)?(_0x5a9f33[_0x1f6033(0x126)](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a[_0x1f6033(0x149)],'text':'\x22'+_0x35eabc+'\x22{{sep}}ไม่มีอะไรเปลี่ยนแปลง'}),_0x1f29a2[_0x1f6033(0x166)](_0x4f2e25)):(_0x5a9f33[_0x1f6033(0x126)](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a['EtIOg'],'text':new Error(_0x2a762a[_0x1f6033(0x162)])+_0x1f6033(0xc2)+_0x35eabc+'\x22'}),_0x1f29a2[_0x1f6033(0x166)](n));}}}}else{if(_0x2a762a[_0x1f6033(0x14e)](_0x2a762a[_0x1f6033(0x135)],_0x2a762a[_0x1f6033(0x100)])){let _0x475b80=_0x2a762a[_0x1f6033(0xb4)];const _0x5a775c=await _0x2c8274['find']({},{'projection':{'supplierId':0x1}})[_0x1f6033(0x1c5)]({'supplierId':-0x1})[_0x1f6033(0x21d)](0x1)[_0x1f6033(0x142)]();if(_0x2a762a[_0x1f6033(0x1fc)](_0x5a775c['length'],0x0)){if(_0x2a762a[_0x1f6033(0x14e)](_0x2a762a[_0x1f6033(0x112)],_0x2a762a[_0x1f6033(0x112)]))_0x1705bf=chuQPe[_0x1f6033(0x196)](_0x4c3e0d,chuQPe[_0x1f6033(0x183)](chuQPe['hriqQ'](chuQPe[_0x1f6033(0x207)],chuQPe['HBvTV']),');'))();else{const _0x3546e6=_0x5a775c[0x0][_0x1f6033(0x21e)]['slice'](0x1),_0x5d331a=_0x2a762a[_0x1f6033(0xf2)](Number,_0x3546e6);_0x475b80='S'+_0x2a762a['UWxij'](String,_0x2a762a[_0x1f6033(0x183)](_0x5d331a,0x1))[_0x1f6033(0x13d)](0x4,'0');}}if(_0x5a9f33['body'][_0x1f6033(0x21e)]=_0x475b80,_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x1e6)]=w['getDateTime'](0x5a0),await _0x2c8274[_0x1f6033(0x1e1)]({'supplierId':_0x475b80}))return _0x5a9f33['flash'](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a[_0x1f6033(0x182)],'text':'\x22'+_0x475b80+'\x22\x20ซ้ำ{{sep}}\x20โปรดติดต่อผู้ดูแลระบบ'}),_0x1f29a2[_0x1f6033(0x166)](n);const _0x43cd5e=await _0x2c8274[_0x1f6033(0x194)](_0x5a9f33[_0x1f6033(0x1bf)]);if(_0x43cd5e[_0x1f6033(0xb5)]&&_0x43cd5e[_0x1f6033(0x211)]){if(_0x2a762a[_0x1f6033(0x122)](_0x2a762a[_0x1f6033(0x191)],_0x2a762a[_0x1f6033(0x218)]))chuQPe[_0x1f6033(0x196)](_0x48f98d,0x0);else{const _0x7f3aae=n+_0x1f6033(0x1cc)+_0x3c79f1+_0x1f6033(0x159)+_0x1bfba5+_0x1f6033(0x11c)+_0x12d8b4+_0x1f6033(0x1d8)+_0x43cd5e[_0x1f6033(0x211)];return _0x5a9f33[_0x1f6033(0x126)](_0x2a762a['znDhN'],{'class':_0x2a762a[_0x1f6033(0x1a9)],'text':'เพิ่ม\x20\x22'+_0x5a9f33[_0x1f6033(0x1bf)][_0x1f6033(0x21e)]+_0x1f6033(0xdc)}),_0x1f29a2[_0x1f6033(0x166)](_0x7f3aae);}}else return _0x5a9f33[_0x1f6033(0x126)](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a[_0x1f6033(0x182)],'text':new Error(_0x2a762a[_0x1f6033(0x1fa)])+_0x1f6033(0xc2)+_0x475b80+'\x22'}),_0x1f29a2[_0x1f6033(0x166)](n);}else{const _0x3ca551=_0x147881?function(){const _0x41aceb=_0x1f6033;if(_0x2b5771){const _0x418b45=_0x4e8fe9[_0x41aceb(0x201)](_0x42304b,arguments);return _0xad700d=null,_0x418b45;}}:function(){};return _0x54d5c0=![],_0x3ca551;}}}else chuQPe[_0x1f6033(0xf3)](_0x1c36e0);}catch(_0x1abbb4){if(_0x2a762a[_0x1f6033(0xd9)](_0x2a762a[_0x1f6033(0x21f)],_0x2a762a['gQNwa'])){const _0x4c9aab=_0x508c82[_0x1f6033(0x230)]['prototype'][_0x1f6033(0x1c4)](_0xf56195),_0x3ed019=_0x461432[_0x2d3e6b],_0x5af697=_0x4fe4b1[_0x3ed019]||_0x4c9aab;_0x4c9aab['__proto__']=_0x586a69[_0x1f6033(0x1c4)](_0x5b863a),_0x4c9aab[_0x1f6033(0xba)]=_0x5af697[_0x1f6033(0xba)][_0x1f6033(0x1c4)](_0x5af697),_0x31701c[_0x3ed019]=_0x4c9aab;}else console[_0x1f6033(0x1c1)](_0x1abbb4),_0x5a9f33[_0x1f6033(0x126)](_0x2a762a[_0x1f6033(0x18c)],{'class':_0x2a762a[_0x1f6033(0x182)],'text':''+_0x1abbb4[_0x1f6033(0x13f)]}),_0x1f29a2[_0x1f6033(0x1ac)](0x194)[_0x1f6033(0x21a)](file404);}finally{if(_0x2a762a['BAOQn'](_0x2a762a[_0x1f6033(0xbb)],_0x2a762a[_0x1f6033(0x17f)]))return![];else _0xd543d8[_0x1f6033(0x202)]();}}),h[_0x2270a4(0x12e)](j,_0x305c5b[_0x2270a4(0x127)],async(_0x38c379,_0x172537)=>{const _0x2fe1f2=_0x2270a4,_0x6299a8={'YMVZE':function(_0x5a50ef,_0xbe60fd){return _0x5a50ef(_0xbe60fd);},'YjcGa':function(_0xcadf75,_0x32f561){return _0xcadf75+_0x32f561;},'qEYxM':function(_0x42cb1f,_0x36e3c5){return _0x42cb1f+_0x36e3c5;},'LVKRK':_0x2fe1f2(0x10c),'PuicL':_0x2fe1f2(0x15e),'PNWsy':_0x2fe1f2(0x136),'vXGds':_0x2fe1f2(0xb9),'HXpDq':function(_0x266cc9,_0x532d1f){return _0x266cc9(_0x532d1f);},'HMiyV':function(_0x14a6d3,_0x4b0cff){return _0x14a6d3!=_0x4b0cff;},'QorQO':function(_0x332e55,_0x388a58){return _0x332e55===_0x388a58;},'nSnDH':_0x2fe1f2(0x1dd),'IUFcJ':_0x2fe1f2(0xed),'noklE':_0x2fe1f2(0x169),'tGIRx':function(_0x15b6b0,_0x97aae0){return _0x15b6b0===_0x97aae0;},'tMOCt':'green','LgHXW':_0x2fe1f2(0x1e7),'abSIa':function(_0x254a0e,_0x1df24d){return _0x254a0e===_0x1df24d;},'glStO':_0x2fe1f2(0xee),'Ahrmr':_0x2fe1f2(0x140),'DDIRM':function(_0x238432,_0x16891a){return _0x238432===_0x16891a;},'JEttD':_0x2fe1f2(0x164)},{idToDelete:_0x44f2eb,load_id:_0x496e58,sip:_0x48da28}=_0x38c379[_0x2fe1f2(0x1bf)],_0xaa9f4a=_0x38c379['body']['supplierId'],_0xd55ad3=_0x6299a8['HXpDq'](Number,_0x38c379['body'][_0x2fe1f2(0x205)])||0x14,_0x2d9d95=_0x6299a8[_0x2fe1f2(0x1ea)](Number,_0x38c379[_0x2fe1f2(0x1bf)][_0x2fe1f2(0x1ec)])||0x1,_0x2e3b28=_0x496e58&&_0x6299a8[_0x2fe1f2(0x1d2)](_0x496e58,_0x44f2eb)?'&load_id='+_0x496e58:'',_0x565650=n+_0x2fe1f2(0x1cc)+_0x48da28+'&rpp='+_0xd55ad3+_0x2fe1f2(0x11c)+_0x2d9d95+_0x2e3b28,_0x496d24=new _0x13bdbc(dbUrl);try{if(_0x6299a8['QorQO'](_0x6299a8[_0x2fe1f2(0xb7)],_0x6299a8[_0x2fe1f2(0x229)]))_0x57fb88['close']();else{await _0x496d24[_0x2fe1f2(0x103)]();const _0x9bcd86=_0x496d24['db'](dbName),_0x9898f=_0x9bcd86['collection'](global['dbColl_suppliers']);if(!await _0x9898f[_0x2fe1f2(0x1e1)]({'_id':new _0x367d71(_0x44f2eb)}))return _0x38c379[_0x2fe1f2(0x126)](_0x6299a8[_0x2fe1f2(0x1fe)],{'class':_0x6299a8[_0x2fe1f2(0xfd)],'text':_0x2fe1f2(0x1fd)+_0xaa9f4a+'\x22'}),_0x172537[_0x2fe1f2(0x166)](_0x565650);const _0x5eb3ad=[{'coll':_0x9bcd86['collection'](global[_0x2fe1f2(0x1a6)]),'name':global[_0x2fe1f2(0x1a6)]}];for(const {coll:_0x549511,name:_0x21e384}of _0x5eb3ad)if(await _0x549511[_0x2fe1f2(0x1e1)]({'supplierId':_0x44f2eb}))return await _0x9898f[_0x2fe1f2(0x1fb)]({'supplierId':_0x44f2eb},{'$set':{'canDelete':!0x1}}),_0x38c379[_0x2fe1f2(0x126)](_0x6299a8[_0x2fe1f2(0x1fe)],{'class':_0x6299a8[_0x2fe1f2(0xfd)],'text':_0x2fe1f2(0x1df)+_0x44f2eb+'\x22\x20มีอยู่ในเอกสาร\x20'+_0x21e384+_0x2fe1f2(0x228)}),_0x172537[_0x2fe1f2(0x166)](_0x565650);return _0x6299a8[_0x2fe1f2(0x1c7)]((await _0x9898f['deleteOne']({'_id':new _0x367d71(_0x44f2eb)}))[_0x2fe1f2(0x108)],0x1)?(_0x38c379[_0x2fe1f2(0x126)](_0x6299a8[_0x2fe1f2(0x1fe)],{'class':_0x6299a8[_0x2fe1f2(0x1e0)],'text':_0x2fe1f2(0x1bc)+_0xaa9f4a+'\x22\x20เรียบร้อยแล้ว'}),_0x172537[_0x2fe1f2(0x166)](_0x565650)):(console[_0x2fe1f2(0x1c1)](_0x6299a8[_0x2fe1f2(0x17a)]),_0x38c379[_0x2fe1f2(0x126)](_0x6299a8[_0x2fe1f2(0x1fe)],{'class':_0x6299a8['vXGds'],'text':_0x2fe1f2(0x19f)+_0xaa9f4a+'\x22'}),_0x172537[_0x2fe1f2(0x166)](_0x565650));}}catch(_0x3b414e){if(_0x6299a8[_0x2fe1f2(0xcc)](_0x6299a8['glStO'],_0x6299a8[_0x2fe1f2(0xc3)])){let _0x3a194f;try{_0x3a194f=VCtBby[_0x2fe1f2(0x20b)](_0x584a82,VCtBby[_0x2fe1f2(0x131)](VCtBby[_0x2fe1f2(0x192)](VCtBby[_0x2fe1f2(0x224)],VCtBby[_0x2fe1f2(0x11a)]),');'))();}catch(_0x3efb2b){_0x3a194f=_0x171b32;}return _0x3a194f;}else return _0x38c379[_0x2fe1f2(0x126)](_0x6299a8[_0x2fe1f2(0x1fe)],{'class':_0x6299a8[_0x2fe1f2(0xfd)],'text':_0x3b414e['message']}),_0x172537[_0x2fe1f2(0x166)](_0x565650);}finally{_0x6299a8[_0x2fe1f2(0x198)](_0x6299a8[_0x2fe1f2(0x17b)],_0x6299a8[_0x2fe1f2(0x17b)])?_0x496d24['close']():(_0x13fa33[_0x2fe1f2(0x1c1)](_0x6299a8[_0x2fe1f2(0x101)],_0x2e2362),_0x57161d[_0x2fe1f2(0x209)](_0xb846d7[_0x2fe1f2(0x107)]({'isPrint':!0x1,'class':_0x6299a8[_0x2fe1f2(0xfd)],'msg':_0x2eaa79[_0x2fe1f2(0x13f)]})));}}),h['post'](E,_0x305c5b[_0x2270a4(0x127)],async(_0x41b84d,_0x1f667d)=>{const _0x5b4e34=_0x2270a4,_0x49dfab={'fFZBC':function(_0x2c74c0,_0x4ab23d){return _0x2c74c0(_0x4ab23d);},'tVeAF':function(_0x5c63f3,_0x4750a7){return _0x5c63f3===_0x4750a7;},'IDJCb':'wNTmB','QIuqi':_0x5b4e34(0x1f6),'dPevM':_0x5b4e34(0x145),'ECVpZ':function(_0x34e315,_0x291fc0){return _0x34e315==_0x291fc0;},'FLWwJ':_0x5b4e34(0xb9),'sYaMj':_0x5b4e34(0x171),'Gpfuo':_0x5b4e34(0x125),'mDEnj':_0x5b4e34(0x1f3),'eGXhJ':function(_0x59a109,_0x2d2b48){return _0x59a109===_0x2d2b48;},'kaZIp':'NzFUQ','nosPN':_0x5b4e34(0x136)},{idsArr:_0x20458c}=_0x41b84d[_0x5b4e34(0x1bf)],_0x45571d=new _0x13bdbc(dbUrl);try{if(_0x49dfab['tVeAF'](_0x49dfab[_0x5b4e34(0x1cf)],_0x49dfab[_0x5b4e34(0x1bd)]))SYmINQ['fFZBC'](_0x479fe2,'0');else{await _0x45571d['connect']();const _0x4025b3=await _0x45571d['db'](global[_0x5b4e34(0x222)])[_0x5b4e34(0x210)](global['dbColl_suppliers'])[_0x5b4e34(0x1e9)]([{'$match':{'supplierId':{'$in':_0x20458c}}},{'$project':{'_id':0x0,'changesHistory':0x0}},{'$addFields':{'__order':{'$indexOfArray':[_0x20458c,_0x49dfab[_0x5b4e34(0x214)]]}}},{'$sort':{'__order':0x1}}])[_0x5b4e34(0x142)]();if(_0x49dfab['ECVpZ'](_0x4025b3[_0x5b4e34(0xce)],0x0))return _0x1f667d[_0x5b4e34(0x209)](JSON[_0x5b4e34(0x107)]({'isPrint':!0x1,'class':_0x49dfab[_0x5b4e34(0x186)],'msg':_0x49dfab[_0x5b4e34(0x14c)]}));const _0x1b3489=_0x52718b[_0x5b4e34(0xe5)](folderForms,_0x49dfab[_0x5b4e34(0x1ad)]),_0x4aa5ca=_0x5c5def[_0x5b4e34(0xd1)](_0x1b3489,_0x49dfab[_0x5b4e34(0x105)]),_0x2f66a1=_0x31e0b3[_0x5b4e34(0x216)](_0x4aa5ca,{'time':w[_0x5b4e34(0x20a)](),'title':_0x5b4e34(0x213)+_0x4025b3[_0x5b4e34(0xce)]+']','data':_0x4025b3,'dateTime':w['getDateTime']()});_0x1f667d[_0x5b4e34(0x209)](JSON[_0x5b4e34(0x107)]({'isPrint':!0x0,'htmlPage':_0x2f66a1}));}}catch(_0x56e4ec){_0x49dfab[_0x5b4e34(0x212)](_0x49dfab[_0x5b4e34(0x15a)],_0x49dfab[_0x5b4e34(0x15a)])?(console[_0x5b4e34(0x1c1)](_0x49dfab[_0x5b4e34(0x123)],_0x56e4ec[_0x5b4e34(0x13f)]),_0x1f667d[_0x5b4e34(0x209)](JSON['stringify']({'isPrint':!0x1,'class':_0x49dfab[_0x5b4e34(0x186)],'msg':_0x56e4ec[_0x5b4e34(0x13f)]}))):_0x1f5c36[_0x5b4e34(0x202)]();}finally{_0x45571d[_0x5b4e34(0x202)]();}}),h[_0x2270a4(0x12e)](F,_0x305c5b[_0x2270a4(0x127)],async(_0x2dd7b3,_0x3c211a)=>{const _0x250b0=_0x2270a4,_0x2bb2e5={'GKryV':_0x250b0(0xb9),'KrDmm':function(_0x5961eb,_0x5e83a4){return _0x5961eb<_0x5e83a4;},'LaDwQ':'yellow','pfFdn':_0x250b0(0x130),'cSBig':_0x250b0(0x22e),'Liyhu':_0x250b0(0x1c2),'eWtMA':_0x250b0(0x136)};let {supplierId:_0x582eaf}=_0x2dd7b3[_0x250b0(0x1bf)];const _0x4f2238=new _0x13bdbc(global[_0x250b0(0x19a)]);try{await _0x4f2238[_0x250b0(0x103)]();var _0x34c334=await _0x4f2238['db'](global[_0x250b0(0x222)])['collection'](global['dbColl_suppliers'])['findOne']({'supplierId':_0x582eaf});if(!_0x34c334)return _0x3c211a[_0x250b0(0x209)](JSON['stringify']({'isPrint':!0x1,'class':_0x2bb2e5[_0x250b0(0x208)],'msg':'ไม่พบ\x20\x22'+_0x582eaf+'\x22'}));const _0x55717f=_0x34c334[_0x250b0(0x12f)]||[];if(_0x2bb2e5[_0x250b0(0x110)](_0x55717f['length'],0x1))return _0x3c211a[_0x250b0(0x209)](JSON['stringify']({'isPrint':!0x1,'class':_0x2bb2e5[_0x250b0(0x14f)],'msg':_0x2bb2e5['pfFdn']}));const _0x160491=_0x52718b[_0x250b0(0xe5)](folderForms,_0x2bb2e5['cSBig']),_0x53096b=await D['renderView'](_0x160491,_0x3c211a,{'title':_0x250b0(0x195)+_0x34c334[_0x250b0(0x21e)]+']\x20'+_0x34c334[_0x250b0(0x18b)],'time':w['getDateTime'](),'changesHistory':_0x55717f});_0x3c211a[_0x250b0(0x209)](JSON[_0x250b0(0x107)]({'isPrint':!0x0,'class':_0x2bb2e5[_0x250b0(0x1d1)],'htmlPage':_0x53096b}));}catch(_0x2078d2){console['log'](_0x2bb2e5[_0x250b0(0x163)],_0x2078d2),_0x3c211a['send'](JSON[_0x250b0(0x107)]({'isPrint':!0x1,'class':_0x2bb2e5[_0x250b0(0x208)],'msg':_0x2078d2[_0x250b0(0x13f)]}));}finally{_0x4f2238['close']();}});export default h;function _0x5d43(){const _0x55857a=['dbName','Not\x20Found','LVKRK','ZVvwd','../','CfBqN','{{sep}}ไม่สามารถลบได้','IUFcJ','lksZg','BBdCS','12234bPZTtp','NbwcJ','doc_changes.ejs','sJcDv','constructor','/changes','vQcRN','acknowledged','RrAuw','nSnDH','UBhHA','red','toString','iFaZJ','vnYLc','TskUZ','pnWBD','SbJLs','KLuzg','{{sep}}[\x20บันทึกการแก้ไข\x20]','{{sep}}\x22','Ahrmr','16krDpVo','PGsea','lipEw','qVuFg','xCKxp','oRPEr','WkbOl','SvMfq','abSIa','debu','length','counter','1384096Pclngk','readFileSync','ObBnS','IGbDi','tqiMD','PrGEw','JECtC','load_id','trace','wuHnb','SBgGk','\x5c$&','\x22\x20เรียบร้อยแล้ว','sKmuk','call','CBhbJ','tIdjE','kdfGg','suppliers','Router','dbColl_suppliers','join','lMSFy','cwpAi','nkwYg','uRzKT','xOVJW','gger','mcQLK','KfmBo','pvtXI','pxfmr','IYHlM','12SxUcKl','UWxij','XbWBh','gYOsc','UJJwe','saYsB','pNgvl','sdBKU','HGihw','zOlxa','userFlash','CpGAc','vXGds','OTFhz','dTxAX','znlUx','PNWsy','ZCuOC','connect','oibTW','mDEnj','S0001','stringify','deletedCount','oiRCu','exception','fkHIO','return\x20(function()\x20','countDocuments','myRKV','action','KrDmm','HUttI','Hsegp','/delete','CZyjT','UNovM','ceil','KZZtD','__proto__','ftAAp','PuicL','jbXqw','&page=','sip','filter','HBgkk','ywUXI','NGxQZ','ZTdwu','nosPN','keWNP','print_suppliers.ejs','flash','isOS','YzNKY','gmmSI','XRpBS','pwiTU','YPzsa','ySDEf','post','changesHistory','ไม่พบประวัติการเปลี่ยนแปลง','YjcGa','jHwix','whbJP','bgyKV','bKhDY','error\x20===>\x20','console','TqHDk','eLfly','aHirr','$changesHistory','pVoyl','padStart','input','message','XXDHy','nhvvr','toArray','ไม่พบ\x20','Vbqsc','$supplierId','mrhAw','qwdQE','chain','QaYqx','GEYuZ','LBEEa','sYaMj','MdPSY','HHQzI','LaDwQ','KNuxD','getSessionData','gaaSU','query','stateObject','wGykL','iAfAZ','801891zxxZmw','343955WFkTie','&rpp=','kaZIp','dTLjx','intde','prototype','{}.constructor(\x22return\x20this\x22)(\x20)','esLFs','aaEQE','GiGYV','TBubv','eWtMA','igJWC','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','redirect','YcFQm','nIMrL','msg','Afxbs','function\x20*\x5c(\x20*\x5c)','Arfpr','error','string','TRUQt','kizIf','ไม่มีข้อมูลที่จะพิมพ์','avQrO','RktOF','TcYSk','WiXpZ','XYivR','IFMkh','wpEaN','RspFf','LgHXW','JEttD','136976iUqQZp','warn','VrTZk','jLlGW','eISRI','DkIBJ','EtIOg','hriqQ','EimKA','slice','FLWwJ','ljGOT','yOXnl','BlEeJ','FCYUU','supplierName','znDhN','bihUj','zQgAP','unshift','jPzlH','IrltD','qEYxM','ENbCw','insertOne','ประวัติการแก้ไขผู้จัดจำหน่าย\x20:\x20[','HkfDn','OCbBt','DDIRM','lBFVr','dbUrl','zqgmt','swEeH','while\x20(true)\x20{}','เพิ่ม\x20\x22','เกิดข้อผิดพลาดขณะลบ\x20\x22','DtOtl','MKeBW','/print','vzUbs','init','IntxY','dbColl_warehouseIn','XvOQl','cnQql','cCwOo','IkWHt','bJLvZ','status','Gpfuo','HXNjc','kwotJ','userId','/myUsers.js','JRKAt','47564cUZIaN','MpTQk','IzvpC','joHHt','JCTXh','/suppliers','/import','Jknof','ClBTT','ลบ\x20\x22','QIuqi','getChangeHistory','body','SdmgB','log','green','AWSxt','bind','sort','NvwUk','tGIRx','YqDxJ','qxTXM','modifiedCount','userFullname','?sip=','ZaQcm','qquRx','IDJCb','iqODv','Liyhu','HMiyV','AYHuW','yCpNh','FTLGB','OSUph','asnoY','&load_id=','RfYEW','fDeAZ','uLVjd','CTVZB','UaQhK','3760551UbwkEQ','ผู้จัดจำหน่าย\x20\x22','tMOCt','findOne','ppOrF','getDate','HMyUe','replace','dateTimeCanDelete','Error\x20while\x20deleting','oqaow','aggregate','HXpDq','อัปเดท\x20\x22','page','QjMhl','FOFqv','JXsuq','QCnVT','Bzaar','yMUlO','utf8','cWFXt','tJGOB','zquZF','IFNtp','MbAzT','ivLMH','xQiZR','updateOne','dQzJR','ไม่พบ\x20\x22','noklE','Not\x20Inserted','WcaDd','apply','close','lYbTQ','aVspI','rpp','ReGzi','qPxlH','GKryV','send','getDateTime','YMVZE','CDkgu','test','hzveX','trim','collection','insertedId','eGXhJ','ผู้จัดจำหน่าย\x20[','dPevM','renderView','render','yOVAD','UwPxD','BmQbz','sendFile','kTazX','BAOQn','limit','supplierId','gQNwa','_id','hCJXJ'];_0x5d43=function(){return _0x55857a;};return _0x5d43();}function _0x58adc3(_0x2e38f0){const _0xe082b8=_0x2270a4,_0x25aee7={'myRKV':function(_0x284678,_0x43b01d){return _0x284678===_0x43b01d;},'SdmgB':_0xe082b8(0x16e),'IzvpC':_0xe082b8(0x19d),'YcFQm':_0xe082b8(0xcf),'cnQql':function(_0x2982cc,_0x361bfb){return _0x2982cc!==_0x361bfb;},'KLuzg':function(_0xadf412,_0x54cc5a){return _0xadf412+_0x54cc5a;},'yOVAD':function(_0x216c84,_0xb32df6){return _0x216c84/_0xb32df6;},'jzMoC':_0xe082b8(0xce),'NGxQZ':function(_0x4a9ac9,_0x42023b){return _0x4a9ac9%_0x42023b;},'zqgmt':_0xe082b8(0xcd),'avQrO':_0xe082b8(0xeb),'bJLvZ':'action','ENbCw':function(_0x2453eb,_0x34951e){return _0x2453eb+_0x34951e;},'joHHt':_0xe082b8(0x154),'ReGzi':function(_0x138265,_0x4ac495){return _0x138265(_0x4ac495);}};function _0x2f943c(_0x528d26){const _0x4fefac=_0xe082b8;if(_0x25aee7[_0x4fefac(0x10e)](typeof _0x528d26,_0x25aee7[_0x4fefac(0x1c0)]))return function(_0x72c59e){}[_0x4fefac(0x230)](_0x25aee7[_0x4fefac(0x1b5)])[_0x4fefac(0x201)](_0x25aee7[_0x4fefac(0x167)]);else _0x25aee7[_0x4fefac(0x1a8)](_0x25aee7[_0x4fefac(0xc0)]('',_0x25aee7[_0x4fefac(0x217)](_0x528d26,_0x528d26))[_0x25aee7['jzMoC']],0x1)||_0x25aee7['myRKV'](_0x25aee7[_0x4fefac(0x121)](_0x528d26,0x14),0x0)?function(){return!![];}['constructor'](_0x25aee7['KLuzg'](_0x25aee7[_0x4fefac(0x19b)],_0x25aee7[_0x4fefac(0x172)]))[_0x4fefac(0xde)](_0x25aee7[_0x4fefac(0x1ab)]):function(){return![];}[_0x4fefac(0x230)](_0x25aee7[_0x4fefac(0x193)](_0x25aee7[_0x4fefac(0x19b)],_0x25aee7['avQrO']))[_0x4fefac(0x201)](_0x25aee7[_0x4fefac(0x1b6)]);_0x25aee7[_0x4fefac(0x206)](_0x2f943c,++_0x528d26);}try{if(_0x2e38f0)return _0x2f943c;else _0x25aee7[_0xe082b8(0x206)](_0x2f943c,0x0);}catch(_0x381ec2){}}