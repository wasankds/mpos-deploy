const _0x481804=_0x2868;(function(_0x53614a,_0x34cade){const _0x30dde8=_0x2868,_0x53a03=_0x53614a();while(!![]){try{const _0x54c340=-parseInt(_0x30dde8(0x2ab))/0x1*(-parseInt(_0x30dde8(0x1da))/0x2)+-parseInt(_0x30dde8(0x261))/0x3+parseInt(_0x30dde8(0x1c4))/0x4+-parseInt(_0x30dde8(0x275))/0x5*(-parseInt(_0x30dde8(0x28d))/0x6)+-parseInt(_0x30dde8(0x279))/0x7*(parseInt(_0x30dde8(0x149))/0x8)+parseInt(_0x30dde8(0x1f0))/0x9+-parseInt(_0x30dde8(0x1ac))/0xa;if(_0x54c340===_0x34cade)break;else _0x53a03['push'](_0x53a03['shift']());}catch(_0x186de4){_0x53a03['push'](_0x53a03['shift']());}}}(_0x522c,0x4ac0c));function _0x522c(){const _0x20f840=['find','dKpeS','finish','zosmX','tofwt','getDate','wYFRz','PdCeP','uxCva','seNbM','โหลดข้อมูลทั้งหมดเรียบร้อยแล้ว','ySfVQ','NfPHB','debu','bpMJE','JVaMw','CJTam','max','updateOne','offsetHeight','/myModule.js','LyGKJ','UuNZS','yGyyM','MrljV','nXDhS','__proto__','eqOnm','folderForms','function\x20*\x5c(\x20*\x5c)','EaJee','body','1840540qxrcZM','vbQDS','UKfXK','Slrnh','print','DkWrK','qQUBO','eKilQ','kmfiN','mXxJX','DOC_TYPE','push','docId','PAY_TYPE','join','VhrLu','branchId','jeKYo','koisR','WqKeW','paymentMethod2Name','เอกสารที่ตันเองไม่ได้สร้าง','collection','BUCVt','776620btaDBV','UkzaU','klsEe','input','PeJjN','post','XwqnI','ivCMf','RsttN','toString','get_StatusName_byStatusNumber','luYwE','RVEKE','DhAns','nuvty','IIlMG','IlpbR','AWOyD','rNpen','tSukD','NrcvW','/myData.js','5046FCUHpS','prototype','vuvKM','matchedCount','{{sep}}หรือไม่มีสิทธิ์','clientHeight','{{sep}}[บันทึกการแก้ไข]','get_Info_ByPath','oDDAy','กรุณาระบุคำค้นหา\x202\x20ตัวอักษรขึ้นไป','Ivigk','isAuth','getSessionData','screenshot','warehouseIn','ไม่พบเอกสาร\x20\x22','dwsDK','doc_print.ejs','IbCGZ','gqInx','LJZWv','return','863676SUSTho','nqyet','attachment;\x20filename=','EDVWN','NWMGB','KzpjI','MlKFV','getChangeHistory','rmRKj','XZBOJ','owcNs','YGoax','stringify','nAjOM','guKcy','xrlQU','scrollHeight','AOMiO','table','RUtxi','pgnei','XDYeY','vQmJb','tjaRx','jDphm','message','warehouseOut','gger','apply','sxVIW','DthRz','userId','เอกสาร\x20\x22','Rbehz','CyhZn','vSYYq','sVygp','UOufh','paymentMethod1','dQrZz','ZimxJ','Prsxd','userFullname','load','modifiedCount','PFkAJ','iQXdB','bGPED','NqbqJ','XGPmW','yxyUj','AcFEg','RIVmU','error','Stmdh','pTyEL','ScdaZ','CwytZ','EfUKt','send','/myDateTime.js','KMjvh','sidpG','huoDV','\x22\x20เรียบร้อยแล้ว','UWkeR','pHAPf','YBxeO','iqYKF','counter','/status','VcwpF','OicAx','zFwVn','avrrJ','getItemsCategory','\x20ไม่เปลี่ยนแปลง\x22','toArray','/print','sGhDh','eHBnW','/load-last','dateTimeCancelRemain','\x22\x20{{sep}}เรียบร้อยแล้ว','PATH_SALES','cancel','{{sep}}[\x20เลยกำหนดแก้ไข\x20สถานะถูก{{sep}}เปลี่ยนเป็น\x202\x20อัตโนมัติ]','{{sep}}[\x20ค้นหาเฉพาะในสาขาตนเอง\x20]','myixB','test','JrohI','rhnLb','ukpbv','ไม่พบเอกสารเลขที่\x20\x22','UyDni','hAuVS','nAhpr','twRPx','ENTKo','error\x20===>\x20','dateTimeEditRemain','โหลดเอกสารเลขที่\x20\x22','iLEng','QAgMh','writeHead','documentElement','NTmDj','CAQqH','YllGM','check_DocDateTime_CanCancel','getMainDocPathObj','NEAIS','while\x20(true)\x20{}','834861YPjTmz','CYMkk','ไม่สามารถจบเอกสาร\x20ที่ไม่อยู่ในสถานะ\x201\x20ได้','fuxSf','path','LXJJq','load-last','OqqMP','payDebtRows','\x22\x20เอกสารเกินกำหนดยกเลิกแล้ว','.jpeg','getSettings','UGtZX','console','dqbOP','PATH_WAREHOUSE_IN','fNbNu','collectionName','MuQRg','ไม่พบเอกสารล่าสุด','1015TOSUEw','pHSUC','UGIJN','renderView','191443kvsttW','green','UlAXp','payTypeThai','GxTQD','TmnmJ','sxvTa','floor','xVLTx','ZtFyG','MsZSL','LXLiu','htZYf','MfGaX','HmSDi','getUserBranchesById','includes','keiCF','setViewport','ciQqv','15366cxNUJz','DOxZq','branchName','zcgGS','UKCsP','dateTimeCanCancel','lioAg','canCancel','JuPIO','ddfTH','phJIu','chain','YwFOY','PATH_RETURN','WyTlK','nubWd','YkFYH','SKzdZ','CFJgb','userAuthority','PQriZ','/search','prJSr','SiUCZ','jjVZh','getItems_for_Modal','aXZlI','RGJSA','xCXyu','yellow','157VFcoMI','convert_DocPrint','red','image/jpeg','aQBsZ','paymentMethod2','/changes','ประวัติการแก้ไขเอกสาร\x20:\x20','docStatusNumber','lIRCn','IbeLy','/myUsers.js','fdobm','close','IoHyZ','zrpCc','eCaiO','call','ZXhOO','bind','MOrFZ','agVpt','pIIia','ไม่สามารถยกเลิกเอกสาร\x20ที่ไม่อยู่ในสถานะ\x201\x20หรือ\x202\x20ได้','mTeYN','Avxfs','cuwQW','Qtagk','VYLys','JzElo','SIasl','{}.constructor(\x22return\x20this\x22)(\x20)','changesHistory','constructor','init','XhWHV','ZzImh','rDcZM','findOne','getUserData','nOTFR','stateObject','ไม่พบประวัติการเปลี่ยนแปลง','nzCNu','GOAoB','getSuppliers_for_Modal','UutnA','getDateTime','qOGFa','trace','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','length','TFHiq','128aVTRol','UEIsm','GRWvV','amxIg','liIoa','action','osuuU','tvhHn','warn','ZOKzv','WHQTB','/load','/fetch/modal','bwyzB','TMsAU','rEIRQ','docTitle','awTia','mflxs','xRAsn','UsAAO','dyxtw','OpIGF','check_DocDateTime_CanEdit','XRZRl','mJSfu','exception','cNvyb','newPage','TYvsN','kKAHb','JlERl','../','networkidle0','xkMaP','UdpDx','FrZhc','ioOEd','piBSA','connect','AJyyJ','xvPOK','\x22\x20มีบันทึกชำระหนี้แล้ว{{sep}}ไม่สามารถยกเลิกได้','wUqBI','return\x20(function()\x20','iZAWt','dbName','replace','เลขที่เอกสารไม่ถูกต้อง\x20หรือ\x20action\x20ไม่ถูกต้อง','vpcYa','PATH_WAREHOUSE_OUT','ยกเลิก','log','stock','HlYnh','Ymowy','dbUrl','bPOdI','nQmed','OHyKd','xXOIz','zFZlc','aggregate','DAEbq','UujSV','cyOWZ','tnINP'];_0x522c=function(){return _0x20f840;};return _0x522c();}function _0x2868(_0x39a515,_0x4a6b87){const _0x2e3741=_0x522c();return _0x2868=function(_0x292db4,_0x15f283){_0x292db4=_0x292db4-0x149;let _0x1c9e6b=_0x2e3741[_0x292db4];return _0x1c9e6b;},_0x2868(_0x39a515,_0x4a6b87);}const _0x946c25=(function(){const _0x10ff90=_0x2868,_0x3bf67f={'WyTlK':function(_0x35c3cb,_0x1fcfd0){return _0x35c3cb(_0x1fcfd0);},'LXLiu':function(_0x59c407,_0xe390e5){return _0x59c407===_0xe390e5;},'prJSr':_0x10ff90(0x23a),'LXJJq':_0x10ff90(0x240),'JuPIO':_0x10ff90(0x204),'klsEe':_0x10ff90(0x2c3),'Avxfs':_0x10ff90(0x20e),'SiUCZ':_0x10ff90(0x2a7)};let _0xa149e=!![];return function(_0x9a9fce,_0x3a8163){const _0x1d1cd3=_0x10ff90,_0x25a051={'sGhDh':function(_0xd57310,_0x149b7b){return _0x3bf67f['WyTlK'](_0xd57310,_0x149b7b);}};if(_0x3bf67f[_0x1d1cd3(0x284)](_0x3bf67f[_0x1d1cd3(0x2c4)],_0x3bf67f[_0x1d1cd3(0x2a4)]))_0x3bf67f[_0x1d1cd3(0x29b)](_0x3f118e,'0');else{const _0x5711dd=_0xa149e?function(){const _0x577157=_0x1d1cd3;if(_0x3bf67f[_0x577157(0x284)](_0x3bf67f[_0x577157(0x2a3)],_0x3bf67f[_0x577157(0x266)]))return _0x5c1b81;else{if(_0x3a8163){if(_0x3bf67f[_0x577157(0x284)](_0x3bf67f[_0x577157(0x295)],_0x3bf67f[_0x577157(0x1c6)]))_0x25a051[_0x577157(0x23f)](_0x57e580,0x0);else{const _0xb879ce=_0x3a8163[_0x577157(0x20c)](_0x9a9fce,arguments);return _0x3a8163=null,_0xb879ce;}}}}:function(){};return _0xa149e=![],_0x5711dd;}};}());(function(){const _0x4b4f7a=_0x2868,_0x5a0b94={'Ymowy':function(_0x2a3716,_0x5dcf1e,_0x49d122){return _0x2a3716(_0x5dcf1e,_0x49d122);},'IbeLy':_0x4b4f7a(0x1a9),'GRWvV':_0x4b4f7a(0x2dd),'GmsoY':function(_0x31d24b,_0x2163d9){return _0x31d24b(_0x2163d9);},'ENTKo':_0x4b4f7a(0x2cd),'CYMkk':function(_0x16ef4e,_0x4a2f7f){return _0x16ef4e+_0x4a2f7f;},'NWMGB':'chain','UsAAO':_0x4b4f7a(0x1c7),'owcNs':function(_0x412ab5){return _0x412ab5();},'MlKFV':function(_0x3d75d8,_0x1be533){return _0x3d75d8===_0x1be533;},'tofwt':_0x4b4f7a(0x212),'rNpen':'xhVrP','Ivigk':function(_0x2ba86f,_0x196e4c){return _0x2ba86f(_0x196e4c);},'UuNZS':function(_0xcfc45e,_0x1b777c){return _0xcfc45e===_0x1b777c;},'EaJee':'lQgTK','UGIJN':_0x4b4f7a(0x21e),'MOrFZ':function(_0x52a9e6,_0x4d651d){return _0x52a9e6===_0x4d651d;},'qaPMJ':_0x4b4f7a(0x198),'ZtFyG':function(_0x36202f,_0xca33f7,_0xf64787){return _0x36202f(_0xca33f7,_0xf64787);}};_0x5a0b94[_0x4b4f7a(0x282)](_0x946c25,this,function(){const _0x2475bd=_0x4b4f7a,_0x5f111a={'fkLEL':_0x5a0b94[_0x2475bd(0x2b5)],'psjRE':_0x5a0b94[_0x2475bd(0x14b)],'cuwQW':function(_0x38958d,_0x766952){return _0x5a0b94['GmsoY'](_0x38958d,_0x766952);},'MXsbB':_0x5a0b94[_0x2475bd(0x252)],'yxyUj':function(_0x2ae9b2,_0x432c70){return _0x5a0b94['CYMkk'](_0x2ae9b2,_0x432c70);},'oDDAy':_0x5a0b94[_0x2475bd(0x1f4)],'pduAr':_0x5a0b94[_0x2475bd(0x15d)],'quxmU':function(_0x33c4a0){const _0x46e0c7=_0x2475bd;return _0x5a0b94[_0x46e0c7(0x1fa)](_0x33c4a0);}};if(_0x5a0b94[_0x2475bd(0x1f6)](_0x5a0b94[_0x2475bd(0x190)],_0x5a0b94[_0x2475bd(0x1d6)])){if(_0x158396){const _0x43fc43=_0x257225[_0x2475bd(0x20c)](_0x5c834d,arguments);return _0x142a19=null,_0x43fc43;}}else{const _0x248033=new RegExp(_0x5a0b94[_0x2475bd(0x2b5)]),_0x2755b9=new RegExp(_0x5a0b94[_0x2475bd(0x14b)],'i'),_0x87e8e=_0x5a0b94['Ivigk'](_0x319556,_0x5a0b94['ENTKo']);!_0x248033[_0x2475bd(0x249)](_0x5a0b94[_0x2475bd(0x262)](_0x87e8e,_0x5a0b94[_0x2475bd(0x1f4)]))||!_0x2755b9[_0x2475bd(0x249)](_0x5a0b94[_0x2475bd(0x262)](_0x87e8e,_0x5a0b94[_0x2475bd(0x15d)]))?_0x5a0b94[_0x2475bd(0x1a2)](_0x5a0b94[_0x2475bd(0x1aa)],_0x5a0b94[_0x2475bd(0x277)])?_0x5a0b94[_0x2475bd(0x180)](_0x3950b8,this,function(){const _0x19627b=_0x2475bd,_0x482188=new _0x5eb569(_0x5f111a['fkLEL']),_0x1e4284=new _0x96aace(_0x5f111a['psjRE'],'i'),_0x2248e1=_0x5f111a[_0x19627b(0x2c5)](_0x4270b4,_0x5f111a['MXsbB']);!_0x482188[_0x19627b(0x249)](_0x5f111a['yxyUj'](_0x2248e1,_0x5f111a[_0x19627b(0x1e2)]))||!_0x1e4284[_0x19627b(0x249)](_0x5f111a[_0x19627b(0x222)](_0x2248e1,_0x5f111a['pduAr']))?_0x5f111a[_0x19627b(0x2c5)](_0x2248e1,'0'):_0x5f111a['quxmU'](_0x84369b);})():_0x5a0b94[_0x2475bd(0x1e4)](_0x87e8e,'0'):_0x5a0b94[_0x2475bd(0x2bf)](_0x5a0b94['qaPMJ'],_0x5a0b94['qaPMJ'])?_0x5a0b94[_0x2475bd(0x1fa)](_0x319556):_0x424f23[_0x2475bd(0x2b8)]();}})();}());const _0x15f283=(function(){const _0x249fac=_0x2868,_0x37b8f8={'twRPx':function(_0x5e8f7f,_0x2bd560){return _0x5e8f7f(_0x2bd560);},'xXOIz':function(_0x95a4f,_0x42e76e){return _0x95a4f+_0x42e76e;},'sxVIW':function(_0x346471,_0x12272c){return _0x346471+_0x12272c;},'koisR':_0x249fac(0x175),'eKilQ':_0x249fac(0x2ca),'sKYFt':function(_0x4cbd66){return _0x4cbd66();},'TMsAU':'log','QpDPx':'warn','UEpFL':'info','jDphm':_0x249fac(0x225),'TYvsN':_0x249fac(0x163),'JVaMw':_0x249fac(0x202),'YGoax':_0x249fac(0x2dc),'ciQqv':function(_0x21ea86,_0x1d01dd){return _0x21ea86<_0x1d01dd;},'myixB':_0x249fac(0x253),'mJSfu':_0x249fac(0x2ad),'nzCNu':function(_0x125aa9,_0x2713f0){return _0x125aa9===_0x2713f0;},'vbQDS':_0x249fac(0x232),'piBSA':function(_0x1f3cf8,_0x5457f5){return _0x1f3cf8!==_0x5457f5;},'UutnA':_0x249fac(0x1ea),'CFJgb':_0x249fac(0x1cb),'CAQqH':_0x249fac(0x2cf)};let _0x2e4483=!![];return function(_0x514c93,_0x4e9a4c){const _0x18fa82=_0x249fac,_0x1e6782={'CJTam':function(_0x1fc70e,_0x1321a9){const _0x104b78=_0x2868;return _0x37b8f8[_0x104b78(0x251)](_0x1fc70e,_0x1321a9);},'vSYYq':function(_0x9ba9f9,_0x25ad3b){const _0x30e100=_0x2868;return _0x37b8f8[_0x30e100(0x185)](_0x9ba9f9,_0x25ad3b);},'akUeM':function(_0x2ff989,_0x301017){const _0x23cc6d=_0x2868;return _0x37b8f8[_0x23cc6d(0x20d)](_0x2ff989,_0x301017);},'HzoQe':_0x37b8f8[_0x18fa82(0x1be)],'RGJSA':_0x37b8f8[_0x18fa82(0x1b3)],'Hwipx':function(_0x1e7067){return _0x37b8f8['sKYFt'](_0x1e7067);},'dqbOP':_0x37b8f8[_0x18fa82(0x157)],'nAjOM':_0x37b8f8['QpDPx'],'dyxtw':_0x37b8f8['UEpFL'],'bGPED':_0x37b8f8[_0x18fa82(0x208)],'UlAXp':_0x37b8f8[_0x18fa82(0x166)],'pHSUC':_0x37b8f8[_0x18fa82(0x19b)],'PqyrD':_0x37b8f8[_0x18fa82(0x1fb)],'JlERl':function(_0x18ec2f,_0x4f3aa5){const _0x41d771=_0x18fa82;return _0x37b8f8[_0x41d771(0x28c)](_0x18ec2f,_0x4f3aa5);},'fdobm':_0x37b8f8[_0x18fa82(0x248)],'LyGKJ':_0x37b8f8[_0x18fa82(0x162)],'IoHyZ':function(_0x2cfa75,_0x346dd5){const _0x4f8e61=_0x18fa82;return _0x37b8f8[_0x4f8e61(0x2d6)](_0x2cfa75,_0x346dd5);},'UEIsm':_0x37b8f8[_0x18fa82(0x1ad)],'QKdSv':function(_0x2e2855,_0x4281ea){const _0x4095b1=_0x18fa82;return _0x37b8f8[_0x4095b1(0x16f)](_0x2e2855,_0x4281ea);},'rhnLb':_0x37b8f8[_0x18fa82(0x2d9)],'UWkeR':_0x37b8f8[_0x18fa82(0x29f)]};if(_0x37b8f8[_0x18fa82(0x16f)](_0x37b8f8[_0x18fa82(0x25b)],_0x37b8f8[_0x18fa82(0x25b)]))return!![];else{const _0x391f23=_0x2e4483?function(){const _0x2ff919=_0x18fa82;if(_0x1e6782[_0x2ff919(0x2b9)](_0x1e6782[_0x2ff919(0x14a)],_0x1e6782[_0x2ff919(0x14a)])){if(_0x4e9a4c){if(_0x1e6782['QKdSv'](_0x1e6782[_0x2ff919(0x24b)],_0x1e6782[_0x2ff919(0x231)])){const _0x37973c=_0x4e9a4c[_0x2ff919(0x20c)](_0x514c93,arguments);return _0x4e9a4c=null,_0x37973c;}else{let _0x33e96f;try{const _0x1001c6=_0x1e6782[_0x2ff919(0x19c)](_0x49a619,_0x1e6782[_0x2ff919(0x213)](_0x1e6782['akUeM'](_0x1e6782['HzoQe'],_0x1e6782[_0x2ff919(0x2a8)]),');'));_0x33e96f=_0x1e6782['Hwipx'](_0x1001c6);}catch(_0x5ebdd1){_0x33e96f=_0x2124d2;}const _0x4f7d93=_0x33e96f[_0x2ff919(0x26e)]=_0x33e96f[_0x2ff919(0x26e)]||{},_0x3d5a1b=[_0x1e6782[_0x2ff919(0x26f)],_0x1e6782[_0x2ff919(0x1fd)],_0x1e6782[_0x2ff919(0x15e)],_0x1e6782[_0x2ff919(0x21f)],_0x1e6782[_0x2ff919(0x27b)],_0x1e6782[_0x2ff919(0x276)],_0x1e6782['PqyrD']];for(let _0x4ec45f=0x0;_0x1e6782[_0x2ff919(0x168)](_0x4ec45f,_0x3d5a1b[_0x2ff919(0x2de)]);_0x4ec45f++){const _0x4edb77=_0x321045['constructor']['prototype'][_0x2ff919(0x2be)](_0x335c28),_0x493651=_0x3d5a1b[_0x4ec45f],_0x4abbe3=_0x4f7d93[_0x493651]||_0x4edb77;_0x4edb77[_0x2ff919(0x1a6)]=_0x37b5fc[_0x2ff919(0x2be)](_0x1a9726),_0x4edb77['toString']=_0x4abbe3[_0x2ff919(0x1cd)]['bind'](_0x4abbe3),_0x4f7d93[_0x493651]=_0x4edb77;}}}}else _0x3d46a9[_0x2ff919(0x17d)](_0x1e6782[_0x2ff919(0x2b7)],_0x4e77bd),_0x20b76b['send'](_0xaedc20['stringify']({'isPrint':!0x1,'class':_0x1e6782[_0x2ff919(0x1a1)],'msg':_0x72003e[_0x2ff919(0x209)]}));}:function(){};return _0x2e4483=![],_0x391f23;}};}()),_0x292db4=_0x15f283(this,function(){const _0xbef3f7=_0x2868,_0x217f7a={'xCXyu':function(_0x477b71,_0x56e0f9){return _0x477b71===_0x56e0f9;},'ZimxJ':_0xbef3f7(0x26d),'GxTQD':_0xbef3f7(0x1c5),'GMofH':function(_0x422ab1,_0x45c378){return _0x422ab1(_0x45c378);},'ScdaZ':function(_0x5c7a70,_0x1dd661){return _0x5c7a70+_0x1dd661;},'EDVWN':_0xbef3f7(0x175),'OicAx':_0xbef3f7(0x2ca),'HmSDi':function(_0x4c8766){return _0x4c8766();},'wYFRz':function(_0x51577d,_0x4e0eed){return _0x51577d!==_0x4e0eed;},'UKCsP':_0xbef3f7(0x297),'htsMx':'log','AfMLD':_0xbef3f7(0x151),'vCBAa':'info','LGjsh':_0xbef3f7(0x225),'JzElo':_0xbef3f7(0x163),'MVNFO':_0xbef3f7(0x202),'gqInx':_0xbef3f7(0x2dc),'iZAWt':function(_0x48d3a8,_0x547541){return _0x48d3a8<_0x547541;},'dKpeS':function(_0x1dc04e,_0x310948){return _0x1dc04e!==_0x310948;},'XDYeY':'vKJDO','tnINP':_0xbef3f7(0x22d)};let _0x4b2c46;try{if(_0x217f7a[_0xbef3f7(0x2a9)](_0x217f7a[_0xbef3f7(0x218)],_0x217f7a[_0xbef3f7(0x27d)])){if(_0x507f3e){const _0x22b532=_0x1ef210[_0xbef3f7(0x20c)](_0x4e67dd,arguments);return _0x14cae8=null,_0x22b532;}}else{const _0x84bf7=_0x217f7a['GMofH'](Function,_0x217f7a[_0xbef3f7(0x228)](_0x217f7a['ScdaZ'](_0x217f7a[_0xbef3f7(0x1f3)],_0x217f7a[_0xbef3f7(0x238)]),');'));_0x4b2c46=_0x217f7a[_0xbef3f7(0x287)](_0x84bf7);}}catch(_0x1ea8db){_0x217f7a[_0xbef3f7(0x192)](_0x217f7a[_0xbef3f7(0x291)],_0x217f7a[_0xbef3f7(0x291)])?_0x1c5602[_0xbef3f7(0x2b8)]():_0x4b2c46=window;}const _0x2347e2=_0x4b2c46[_0xbef3f7(0x26e)]=_0x4b2c46['console']||{},_0x4a844e=[_0x217f7a['htsMx'],_0x217f7a['AfMLD'],_0x217f7a['vCBAa'],_0x217f7a['LGjsh'],_0x217f7a[_0xbef3f7(0x2c8)],_0x217f7a['MVNFO'],_0x217f7a[_0xbef3f7(0x1ed)]];for(let _0x12ef93=0x0;_0x217f7a[_0xbef3f7(0x176)](_0x12ef93,_0x4a844e['length']);_0x12ef93++){if(_0x217f7a[_0xbef3f7(0x18d)](_0x217f7a[_0xbef3f7(0x205)],_0x217f7a[_0xbef3f7(0x18b)])){const _0x52a327=_0x15f283[_0xbef3f7(0x2cc)][_0xbef3f7(0x1db)]['bind'](_0x15f283),_0x593ce8=_0x4a844e[_0x12ef93],_0x2f0240=_0x2347e2[_0x593ce8]||_0x52a327;_0x52a327[_0xbef3f7(0x1a6)]=_0x15f283['bind'](_0x15f283),_0x52a327['toString']=_0x2f0240[_0xbef3f7(0x1cd)][_0xbef3f7(0x2be)](_0x2f0240),_0x2347e2[_0x593ce8]=_0x52a327;}else return![];}});_0x292db4();import _0x17193a from'express';const b=_0x17193a['Router']();import _0x166edf from'path';import{MongoClient as _0x13c913}from'mongodb';import _0x24448e from'../middleware/mainAuth.js';const C=await import(_0x481804(0x169)+mymoduleFolder+_0x481804(0x1a0)),E=await import(_0x481804(0x169)+mymoduleFolder+_0x481804(0x22c)),T=await import('../'+mymoduleFolder+_0x481804(0x2b6)),u=await import(_0x481804(0x169)+mymoduleFolder+_0x481804(0x1d9)),m=await import(_0x481804(0x169)+mymoduleFolder+'/myDocMain.js'),p=global[_0x481804(0x270)],S=global[_0x481804(0x17b)],w=global[_0x481804(0x244)],_=global[_0x481804(0x29a)],v=[p+_0x481804(0x155),S+_0x481804(0x155),w+'/fetch/modal',_+_0x481804(0x155)],k=[p+_0x481804(0x2b1),S+_0x481804(0x2b1),w+_0x481804(0x2b1),_+_0x481804(0x2b1)],L=[p+_0x481804(0x23e),S+_0x481804(0x23e),w+_0x481804(0x23e),_+_0x481804(0x23e)],B=[p+_0x481804(0x236),S+_0x481804(0x236),w+_0x481804(0x236),_+'/status'],Y=[p+_0x481804(0x2a2),S+_0x481804(0x2a2),w+_0x481804(0x2a2),_+_0x481804(0x2a2)],x=[p+_0x481804(0x154),S+_0x481804(0x154),w+_0x481804(0x154),_+_0x481804(0x154),p+_0x481804(0x241),S+_0x481804(0x241),w+'/load-last',_+_0x481804(0x241)];b['get'](v,_0x24448e['isAuth'],async(_0x3c98a4,_0x19b17f)=>{const _0x1aa9ea=_0x481804,_0x120148={'qOGFa':'red','hAuVS':function(_0x1e0d53,_0x34cccf){return _0x1e0d53!==_0x34cccf;},'fuxSf':'vIizc','iNCCP':_0x1aa9ea(0x28a),'pIIia':function(_0x3bea51,_0x1fe1be){return _0x3bea51==_0x1fe1be;},'zcgGS':_0x1aa9ea(0x1e8),'xrlQU':_0x1aa9ea(0x17e),'liIoa':'active','nQmed':_0x1aa9ea(0x20a),'SXcEz':'sales','awTia':function(_0x20cf29,_0x5ab290){return _0x20cf29==_0x5ab290;},'BUCVt':_0x1aa9ea(0x1ef),'WHQTB':_0x1aa9ea(0x27a),'bwyzB':_0x1aa9ea(0x196),'AJyyJ':function(_0x2aa4b6,_0x152f57){return _0x2aa4b6===_0x152f57;},'tLCDu':_0x1aa9ea(0x167),'OHyKd':'BGptA'},_0x15cda9=await T[_0x1aa9ea(0x1e6)](_0x3c98a4),_0x4a1dbe=await m['getMainDocPathObj'](_0x3c98a4,_0x19b17f,_0x15cda9[_0x1aa9ea(0x2a0)]);try{if(_0x120148[_0x1aa9ea(0x24f)](_0x120148[_0x1aa9ea(0x264)],_0x120148['iNCCP'])){if(_0x120148[_0x1aa9ea(0x2c1)](_0x4a1dbe[_0x1aa9ea(0x1b6)],_0x120148[_0x1aa9ea(0x290)]))var _0x224df7=await u[_0x1aa9ea(0x2a6)](_0x120148[_0x1aa9ea(0x1ff)]),_0x2479a0=await u[_0x1aa9ea(0x2d8)](_0x120148[_0x1aa9ea(0x14d)]);else{if(_0x120148[_0x1aa9ea(0x2c1)](_0x4a1dbe[_0x1aa9ea(0x1b6)],_0x120148[_0x1aa9ea(0x183)]))var _0x224df7=await u[_0x1aa9ea(0x2a6)](_0x120148[_0x1aa9ea(0x1ff)]),_0x2479a0=[];else{if(_0x120148[_0x1aa9ea(0x2c1)](_0x4a1dbe[_0x1aa9ea(0x1b6)],_0x120148['SXcEz']))var _0x224df7=await u['getItems_for_Modal'](_0x120148[_0x1aa9ea(0x14d)],_0x15cda9[_0x1aa9ea(0x1bc)]),_0x2479a0=[];else{if(_0x120148[_0x1aa9ea(0x15a)](_0x4a1dbe['DOC_TYPE'],_0x120148[_0x1aa9ea(0x1c3)]))var _0x224df7=await u[_0x1aa9ea(0x2a6)](_0x120148['liIoa'],_0x15cda9[_0x1aa9ea(0x1bc)]),_0x2479a0=[];}}}const _0x2615bc=await u[_0x1aa9ea(0x23b)]();return _0x19b17f[_0x1aa9ea(0x22b)](JSON[_0x1aa9ea(0x1fc)]({'DATA_ITEMS':_0x224df7,'DATA_CATEGORY':_0x2615bc,'DATA_SUPPLIERS':_0x2479a0,'isFetch':!0x0,'class':_0x120148[_0x1aa9ea(0x153)],'msg':_0x120148[_0x1aa9ea(0x156)]}));}else{const _0x2c8828=_0x509815['constructor']['prototype'][_0x1aa9ea(0x2be)](_0x2eeb6c),_0x47f2f8=_0x2a13be[_0x2e1c94],_0x696bb6=_0x165fe4[_0x47f2f8]||_0x2c8828;_0x2c8828['__proto__']=_0x59d82f[_0x1aa9ea(0x2be)](_0x2621b1),_0x2c8828[_0x1aa9ea(0x1cd)]=_0x696bb6[_0x1aa9ea(0x1cd)][_0x1aa9ea(0x2be)](_0x696bb6),_0x1c2a18[_0x47f2f8]=_0x2c8828;}}catch(_0x356a54){if(_0x120148[_0x1aa9ea(0x171)](_0x120148['tLCDu'],_0x120148[_0x1aa9ea(0x184)]))_0xe638eb[_0x1aa9ea(0x17d)](_0x109e21),_0x2ce8ae[_0x1aa9ea(0x22b)](_0x16356a[_0x1aa9ea(0x1fc)]({'isStatus':!0x1,'class':_0x120148[_0x1aa9ea(0x2db)],'msg':_0x31d6d5[_0x1aa9ea(0x209)]}));else return console[_0x1aa9ea(0x17d)](_0x356a54),_0x19b17f['send'](JSON[_0x1aa9ea(0x1fc)]({'isFetch':!0x1,'class':_0x120148[_0x1aa9ea(0x2db)],'msg':_0x356a54['message']}));}}),b[_0x481804(0x1c9)](Y,_0x24448e[_0x481804(0x1e5)],async(_0x1493ce,_0xb60eb6)=>{const _0x334984=_0x481804,_0x4a9851={'zFwVn':_0x334984(0x1a9),'YHovg':_0x334984(0x2dd),'xvPOK':function(_0x405af9,_0x37de4b){return _0x405af9(_0x37de4b);},'vQmJb':_0x334984(0x2cd),'Prsxd':function(_0x26aa10,_0x14a7a0){return _0x26aa10+_0x14a7a0;},'Sbzyq':_0x334984(0x298),'jNeCU':function(_0x1a8fef,_0x23d1c0){return _0x1a8fef+_0x23d1c0;},'XZBOJ':_0x334984(0x1c7),'Rbehz':function(_0x275299){return _0x275299();},'SIasl':function(_0x5bbc5b,_0x575007){return _0x5bbc5b<_0x575007;},'wLbXv':_0x334984(0x2aa),'TFHiq':_0x334984(0x1e3),'UOufh':function(_0xa3f1df,_0x415527){return _0xa3f1df!==_0x415527;},'DkWrK':_0x334984(0x2b4),'EscnL':_0x334984(0x174),'XgbCo':_0x334984(0x247),'LJZWv':'green','seNbM':_0x334984(0x14f),'guKcy':_0x334984(0x2ad),'YBxeO':function(_0x4c3073,_0x518217){return _0x4c3073===_0x518217;},'GOAoB':'nCQvj','pTyEL':_0x334984(0x15f)};let {sip:_0x436832}=_0x1493ce[_0x334984(0x1ab)];if(!_0x436832&&_0x4a9851[_0x334984(0x2c9)](_0x436832[_0x334984(0x2de)],0x2))return _0xb60eb6['send'](JSON['stringify']({'isSearch':!0x1,'class':_0x4a9851['wLbXv'],'msg':_0x4a9851[_0x334984(0x2df)]}));_0x436832=_0x436832[_0x334984(0x178)](/[!@#$%^&*<>]/g,'')??null;const _0x249f22=await T[_0x334984(0x2d2)](_0x1493ce);await m[_0x334984(0x25e)](_0x1493ce,_0xb60eb6,_0x249f22['userAuthority']);const _0x4fd92e=m['get_Info_ByPath'](_0x1493ce[_0x334984(0x265)]),_0x55fb20=new _0x13c913(global['dbUrl']);try{if(_0x4a9851[_0x334984(0x215)](_0x4a9851[_0x334984(0x1b1)],_0x4a9851['EscnL'])){await _0x55fb20['connect']();const _0xe0eb33=_0x55fb20['db'](global[_0x334984(0x177)])[_0x334984(0x1c2)](_0x4fd92e[_0x334984(0x272)]),_0x213ff1=[{'$or':[{'docId':{'$regex':_0x436832,'$options':'i'}},{'docDateTime':{'$regex':_0x436832,'$options':'i'}}]}];let _0x14bd0a='';['O','S'][_0x334984(0x289)](_0x249f22[_0x334984(0x2a0)])||(_0x14bd0a+=_0x4a9851['XgbCo'],_0x213ff1[_0x334984(0x1b7)]({'branchId':_0x249f22['branchId']}));const _0x3eafc4=await _0xe0eb33[_0x334984(0x187)]([{'$match':{'$and':_0x213ff1}},{'$project':{'_id':0x0,'docId':0x1,'docStatusNumber':0x1,'docDateTime':0x1,'userId':0x1}}])[_0x334984(0x23d)]();return _0x14bd0a=_0x4a9851['jNeCU']('พบ\x20\x22'+_0x3eafc4['length']+'\x22\x20เอกสาร',_0x14bd0a),_0xb60eb6[_0x334984(0x22b)](JSON[_0x334984(0x1fc)]({'searchFound':_0x3eafc4,'msg':_0x14bd0a,'isSearch':!0x0,'class':_0x4a9851[_0x334984(0x1ee)]}));}else _0x52a649[_0x334984(0x2b8)]();}catch(_0x376377){if(_0x4a9851[_0x334984(0x215)](_0x4a9851[_0x334984(0x195)],_0x4a9851[_0x334984(0x195)])){const _0x1a6dd1=new _0x3d2264(JmbUFn[_0x334984(0x239)]),_0x584bcc=new _0x56b199(JmbUFn['YHovg'],'i'),_0xb558fa=JmbUFn[_0x334984(0x172)](_0x1e7d8a,JmbUFn[_0x334984(0x206)]);!_0x1a6dd1[_0x334984(0x249)](JmbUFn[_0x334984(0x219)](_0xb558fa,JmbUFn['Sbzyq']))||!_0x584bcc[_0x334984(0x249)](JmbUFn['jNeCU'](_0xb558fa,JmbUFn[_0x334984(0x1f9)]))?JmbUFn[_0x334984(0x172)](_0xb558fa,'0'):JmbUFn['Rbehz'](_0x6818bd);}else return console[_0x334984(0x17d)](_0x376377),_0xb60eb6[_0x334984(0x22b)](JSON[_0x334984(0x1fc)]({'isSearch':!0x1,'class':_0x4a9851[_0x334984(0x1fe)],'msg':_0x376377[_0x334984(0x209)]}));}finally{_0x4a9851[_0x334984(0x233)](_0x4a9851[_0x334984(0x2d7)],_0x4a9851[_0x334984(0x227)])?JmbUFn[_0x334984(0x211)](_0x545163):_0x55fb20[_0x334984(0x2b8)]();}}),b[_0x481804(0x1c9)](x,_0x24448e[_0x481804(0x1e5)],async(_0x329b3f,_0x14ad83)=>{const _0x17f60b=_0x481804,_0x125d39={'xVLTx':_0x17f60b(0x2ad),'PQriZ':function(_0x67c591,_0x1551ca){return _0x67c591(_0x1551ca);},'AcFEg':function(_0x1035f6,_0x96b277){return _0x1035f6+_0x96b277;},'DAEbq':function(_0x423b55,_0x10583b){return _0x423b55+_0x10583b;},'QbVpW':_0x17f60b(0x175),'dQrZz':_0x17f60b(0x2ca),'bPOdI':function(_0x11bbc0){return _0x11bbc0();},'luYwE':function(_0x3e025b,_0x87ff69){return _0x3e025b===_0x87ff69;},'PCHNe':'dIpXU','sVygp':_0x17f60b(0x21b),'AOMiO':function(_0x56787b,_0x5718ba){return _0x56787b!==_0x5718ba;},'DhAns':_0x17f60b(0x1b4),'SKzdZ':_0x17f60b(0x1d3),'MfGaX':_0x17f60b(0x267),'tNHwF':_0x17f60b(0x274),'mXxJX':function(_0x1e109c,_0x342979){return _0x1e109c==_0x342979;},'YllGM':function(_0x5efca8,_0x4796cd){return _0x5efca8===_0x4796cd;},'HlYnh':_0x17f60b(0x224),'nubWd':_0x17f60b(0x246),'zrpCc':function(_0x4b6495,_0x4025e3){return _0x4b6495==_0x4025e3;},'nOTFR':function(_0x5a0d6d,_0x2a0bad){return _0x5a0d6d!==_0x2a0bad;},'tjaRx':_0x17f60b(0x1c8),'VcwpF':'green','tvhHn':'vjEEN','eqOnm':_0x17f60b(0x29d),'MrljV':function(_0x408b2f,_0xc897b8){return _0x408b2f===_0xc897b8;},'XwqnI':_0x17f60b(0x1a5)};let {docId:_0x2634a1,action:_0x31606e}=_0x329b3f[_0x17f60b(0x1ab)];const _0x4c179b=await T['getUserData'](_0x329b3f);await m[_0x17f60b(0x25e)](_0x329b3f,_0x14ad83,_0x4c179b[_0x17f60b(0x2a0)]);const _0x1b844c=m[_0x17f60b(0x1e1)](_0x329b3f[_0x17f60b(0x265)]),_0x179882=new _0x13c913(global[_0x17f60b(0x181)]);try{if(_0x125d39['luYwE'](_0x125d39['PCHNe'],_0x125d39['PCHNe'])){await _0x179882[_0x17f60b(0x170)]();const _0x2e439e=_0x179882['db'](global[_0x17f60b(0x177)])['collection'](_0x1b844c[_0x17f60b(0x272)]);if(_0x125d39[_0x17f60b(0x1cf)](_0x31606e,_0x125d39[_0x17f60b(0x214)])){if(_0x125d39['AOMiO'](_0x125d39[_0x17f60b(0x1d1)],_0x125d39[_0x17f60b(0x29e)])){const _0x51541e=['O','S'][_0x17f60b(0x289)](_0x4c179b[_0x17f60b(0x2a0)])?{'docId':_0x2634a1}:{'docId':_0x2634a1,'branchId':_0x4c179b[_0x17f60b(0x1bc)]};var _0xb8cd82=await _0x2e439e[_0x17f60b(0x2d1)](_0x51541e,{'projection':{'_id':0x0,'changesHistory':0x0}});}else _0x389885[_0x17f60b(0x2b8)]();}else{if(_0x125d39[_0x17f60b(0x1cf)](_0x31606e,_0x125d39[_0x17f60b(0x286)]))var _0xb8cd82=await _0x2e439e[_0x17f60b(0x2d1)]({'userId':_0x4c179b[_0x17f60b(0x20f)]},{'sort':{'_id':-0x1}},{'projection':{'_id':0x0,'changesHistory':0x0}});}let _0x425383=_0xb8cd82?'':_0x125d39['luYwE'](_0x31606e,_0x125d39[_0x17f60b(0x214)])?_0x17f60b(0x24d)+_0x2634a1+'\x22':_0x125d39['tNHwF'];if(!_0xb8cd82)return _0x14ad83[_0x17f60b(0x22b)](JSON[_0x17f60b(0x1fc)]({'isLoad':!0x1,'class':_0x125d39['xVLTx'],'msg':_0x425383}));if(_0x125d39[_0x17f60b(0x1b5)](_0xb8cd82[_0x17f60b(0x2b3)],0x1)&&_0xb8cd82['dateTimeCanEdit']){if(_0x125d39[_0x17f60b(0x25c)](_0x125d39[_0x17f60b(0x17f)],_0x125d39[_0x17f60b(0x17f)])){let _0x10a9fe=await m[_0x17f60b(0x160)](_0xb8cd82,_0x1b844c['collectionName'],_0x4c179b[_0x17f60b(0x20f)]);_0xb8cd82[_0x17f60b(0x254)]=_0x10a9fe[_0x17f60b(0x254)],_0x125d39[_0x17f60b(0x1b5)](_0x10a9fe['canEdit'],!0x1)&&(_0xb8cd82[_0x17f60b(0x2b3)]=_0x10a9fe[_0x17f60b(0x2b3)],msg+=_0x125d39[_0x17f60b(0x29c)]);}else _0x1a6beb=_0x37dd5e;}if((_0x125d39['mXxJX'](_0xb8cd82[_0x17f60b(0x2b3)],0x1)||_0x125d39[_0x17f60b(0x2ba)](_0xb8cd82[_0x17f60b(0x2b3)],0x2))&&_0xb8cd82[_0x17f60b(0x292)]){if(_0x125d39[_0x17f60b(0x2d3)](_0x125d39['tjaRx'],_0x125d39[_0x17f60b(0x207)]))return _0x11691b[_0x17f60b(0x17d)](_0x453310),_0x6a8022[_0x17f60b(0x22b)](_0x1b7dbf['stringify']({'isLoad':!0x1,'class':_0x125d39[_0x17f60b(0x281)],'msg':_0x100997[_0x17f60b(0x209)]}));else{const _0x15a7ce=await m[_0x17f60b(0x25d)](_0xb8cd82,_0x1b844c[_0x17f60b(0x272)],_0x4c179b['userId']);_0xb8cd82[_0x17f60b(0x242)]=_0x15a7ce[_0x17f60b(0x242)];}}const {branchName:_0xda5411}=await u[_0x17f60b(0x288)](_0xb8cd82[_0x17f60b(0x1bc)]);return _0xb8cd82[_0x17f60b(0x28f)]=_0xda5411,_0x14ad83[_0x17f60b(0x22b)](JSON[_0x17f60b(0x1fc)]({'doc':_0xb8cd82,'isLoad':!0x0,'class':_0x125d39[_0x17f60b(0x237)],'msg':_0x17f60b(0x255)+_0xb8cd82[_0x17f60b(0x1b8)]+_0x17f60b(0x243),'userId':_0x4c179b[_0x17f60b(0x20f)],'userAuthority':_0x4c179b['userAuthority']}));}else{const _0x2addbd=_0xac3bbb['body'],_0x4d2ab1=_0x6ae8ce['documentElement'];return _0x7660aa['max'](_0x2addbd[_0x17f60b(0x200)],_0x2addbd[_0x17f60b(0x19f)],_0x4d2ab1[_0x17f60b(0x1df)],_0x4d2ab1[_0x17f60b(0x200)],_0x4d2ab1[_0x17f60b(0x19f)]);}}catch(_0x1327a9){return _0x125d39[_0x17f60b(0x201)](_0x125d39[_0x17f60b(0x150)],_0x125d39[_0x17f60b(0x1a7)])?(console[_0x17f60b(0x17d)](_0x1327a9),_0x14ad83[_0x17f60b(0x22b)](JSON['stringify']({'isLoad':!0x1,'class':_0x125d39[_0x17f60b(0x281)],'msg':_0x1327a9['message']}))):(_0x7197a8[_0x17f60b(0x17d)](_0xbec491),_0x2fc18e[_0x17f60b(0x22b)](_0xd98192[_0x17f60b(0x1fc)]({'isFetch':!0x1,'class':_0x125d39['xVLTx'],'msg':_0x255001[_0x17f60b(0x209)]})));}finally{if(_0x125d39[_0x17f60b(0x1a4)](_0x125d39[_0x17f60b(0x1ca)],_0x125d39['XwqnI']))_0x179882[_0x17f60b(0x2b8)]();else{const _0xe324b5=eQIoCK[_0x17f60b(0x2a1)](_0x1bc84e,eQIoCK[_0x17f60b(0x223)](eQIoCK[_0x17f60b(0x188)](eQIoCK['QbVpW'],eQIoCK[_0x17f60b(0x217)]),');'));_0x330e43=eQIoCK[_0x17f60b(0x182)](_0xe324b5);}}}),b[_0x481804(0x1c9)](k,_0x24448e[_0x481804(0x1e5)],async(_0x327549,_0xb2d172)=>{const _0x2128cc=_0x481804,_0x403fcd={'dqCTi':function(_0x25175a,_0xde0253){return _0x25175a===_0xde0253;},'zFZlc':_0x2128cc(0x229),'NEAIS':_0x2128cc(0x2ad),'bcMtG':function(_0x49f1ab,_0x3d08ae){return _0x49f1ab<_0x3d08ae;},'ieYJY':'yellow','VYLys':_0x2128cc(0x2d5),'LTLwd':'doc_changes.ejs','xLQbq':_0x2128cc(0x27a),'MuQRg':function(_0x4baaef,_0x44a7ab){return _0x4baaef!==_0x44a7ab;},'aQBsZ':_0x2128cc(0x193),'UKfXK':_0x2128cc(0x1bb),'MsZSL':_0x2128cc(0x253),'ddfTH':function(_0x441c98,_0x4ad0fc){return _0x441c98===_0x4ad0fc;},'Stmdh':_0x2128cc(0x164),'KzpjI':'WmuOt'},{docId:_0x54fa2d}=_0x327549[_0x2128cc(0x1ab)],_0x26d720=await T['getSessionData'](_0x327549);await m[_0x2128cc(0x25e)](_0x327549,_0xb2d172,_0x26d720[_0x2128cc(0x2a0)]);const {collectionName:_0x16c08}=m[_0x2128cc(0x1e1)](_0x327549[_0x2128cc(0x265)]),_0x17a99e=new _0x13c913(global[_0x2128cc(0x181)]);try{if(_0x403fcd['dqCTi'](_0x403fcd[_0x2128cc(0x186)],_0x403fcd[_0x2128cc(0x186)])){await _0x17a99e[_0x2128cc(0x170)]();var _0x4efc6d=await _0x17a99e['db'](global[_0x2128cc(0x177)])[_0x2128cc(0x1c2)](_0x16c08)[_0x2128cc(0x2d1)]({'docId':_0x54fa2d});if(!_0x4efc6d)return _0xb2d172[_0x2128cc(0x22b)](JSON[_0x2128cc(0x1fc)]({'isPrint':!0x1,'class':_0x403fcd[_0x2128cc(0x25f)],'msg':_0x2128cc(0x24d)+_0x54fa2d+'\x22'}));const _0x5a6ca4=_0x4efc6d[_0x2128cc(0x2cb)]||[];if(_0x403fcd['bcMtG'](_0x5a6ca4[_0x2128cc(0x2de)],0x1))return _0xb2d172[_0x2128cc(0x22b)](JSON[_0x2128cc(0x1fc)]({'isPrint':!0x1,'class':_0x403fcd['ieYJY'],'msg':_0x403fcd[_0x2128cc(0x2c7)]}));const _0x49a966=_0x166edf[_0x2128cc(0x1ba)](folderForms,_0x403fcd['LTLwd']),_0x2c539f=await C[_0x2128cc(0x278)](_0x49a966,_0xb2d172,{'title':_0x2128cc(0x2b2)+_0x4efc6d[_0x2128cc(0x1b8)],'time':E[_0x2128cc(0x2da)](),'changesHistory':_0x5a6ca4});_0xb2d172['send'](JSON[_0x2128cc(0x1fc)]({'isPrint':!0x0,'class':_0x403fcd['xLQbq'],'htmlPage':_0x2c539f}));}else{const _0x2927d7=_0x81620f?function(){if(_0x1291e3){const _0x1eecde=_0xc94794['apply'](_0xa3c23d,arguments);return _0x4a3db7=null,_0x1eecde;}}:function(){};return _0x2f3913=![],_0x2927d7;}}catch(_0x34147a){if(_0x403fcd[_0x2128cc(0x273)](_0x403fcd[_0x2128cc(0x2af)],_0x403fcd[_0x2128cc(0x1ae)]))console[_0x2128cc(0x17d)](_0x403fcd[_0x2128cc(0x283)],_0x34147a),_0xb2d172['send'](JSON[_0x2128cc(0x1fc)]({'isPrint':!0x1,'class':_0x403fcd[_0x2128cc(0x25f)],'msg':_0x34147a[_0x2128cc(0x209)]}));else{const _0x46b806=_0x276df9[_0x2128cc(0x20c)](_0x5b7720,arguments);return _0x41365e=null,_0x46b806;}}finally{_0x403fcd[_0x2128cc(0x296)](_0x403fcd[_0x2128cc(0x226)],_0x403fcd[_0x2128cc(0x1f5)])?_0x1259eb[_0x2128cc(0x2b8)]():_0x17a99e[_0x2128cc(0x2b8)]();}}),b[_0x481804(0x1c9)](L,_0x24448e['isAuth'],async(_0x52f24d,_0x4d271f)=>{const _0x3f75c2=_0x481804,_0x127f7d={'lWAhg':function(_0x56d24f,_0x1b3260){return _0x56d24f(_0x1b3260);},'sjTsk':function(_0x59529a,_0x1aa617){return _0x59529a!==_0x1aa617;},'htZYf':'FwSKj','ySfVQ':function(_0x142cdc,_0x270bf5){return _0x142cdc+_0x270bf5;},'rmRKj':_0x3f75c2(0x199),'jeKYo':_0x3f75c2(0x20b),'tSukD':'action','jjVZh':_0x3f75c2(0x260),'XGPmW':_0x3f75c2(0x235),'PFkAJ':_0x3f75c2(0x28e),'UdpDx':_0x3f75c2(0x2ad),'WqKeW':_0x3f75c2(0x1eb),'Slrnh':function(_0x5c770f,_0x44795a){return _0x5c770f==_0x44795a;},'RUtxi':_0x3f75c2(0x1b0),'iLEng':_0x3f75c2(0x27a),'NrcvW':'image','IlpbR':function(_0x32d88c,_0x49775c){return _0x32d88c===_0x49775c;},'fNbNu':'lHons','XJItB':'puppeteer','zosmX':_0x3f75c2(0x16a),'NqbqJ':function(_0x5d58fc,_0x3f8dad){return _0x5d58fc*_0x3f8dad;},'XRZRl':function(_0x4e54c1,_0x24495b){return _0x4e54c1/_0x24495b;},'AWOyD':'jpeg','UujSV':_0x3f75c2(0x2ae),'EfUKt':function(_0x56973a,_0x3f3466){return _0x56973a===_0x3f3466;},'RVEKE':'neuhO','uxCva':'error\x20===>\x20','FrZhc':_0x3f75c2(0x1ec)},{docId:_0x3bd161,action:_0x52cedf}=_0x52f24d[_0x3f75c2(0x1ab)],_0x3a8270=await T[_0x3f75c2(0x1e6)](_0x52f24d);await m[_0x3f75c2(0x25e)](_0x52f24d,_0x4d271f,_0x3a8270['userAuthority']);const {collectionName:_0xc73279,docTitle:_0x10d8a1,docType:_0x22fbb2}=m[_0x3f75c2(0x1e1)](_0x52f24d[_0x3f75c2(0x265)]),_0x42ac04=new _0x13c913(global[_0x3f75c2(0x181)]);try{if(_0x127f7d['sjTsk'](_0x127f7d[_0x3f75c2(0x21d)],_0x127f7d[_0x3f75c2(0x21d)])){if(_0x27c755)return _0x27036d;else cKxcKx['lWAhg'](_0x9ff5af,0x0);}else{await _0x42ac04[_0x3f75c2(0x170)]();var _0x2dbab9=await _0x42ac04['db'](global[_0x3f75c2(0x177)])['collection'](_0xc73279)[_0x3f75c2(0x2d1)]({'docId':_0x3bd161});if(!_0x2dbab9)return _0x4d271f['send'](JSON[_0x3f75c2(0x1fc)]({'isLoad':!0x1,'class':_0x127f7d[_0x3f75c2(0x16c)],'msg':_0x3f75c2(0x24d)+_0x3bd161+'\x22'}));_0x2dbab9[_0x3f75c2(0x159)]=_0x10d8a1,_0x2dbab9['statusName']=u[_0x3f75c2(0x1ce)](_0x2dbab9[_0x3f75c2(0x2b3)]);const _0x5b349b=u[_0x3f75c2(0x2ac)](_0x2dbab9);_0x5b349b[_0x3f75c2(0x216)]&&(_0x5b349b['paymentMethod1Name']=global['PAY_TYPE']['find'](_0x3f0f7f=>_0x3f0f7f['paytype']==_0x5b349b['paymentMethod1'])?.[_0x3f75c2(0x27c)]||''),_0x5b349b['paymentMethod2']&&(_0x5b349b[_0x3f75c2(0x1c0)]=global[_0x3f75c2(0x1b9)][_0x3f75c2(0x18c)](_0x337c86=>_0x337c86['paytype']==_0x5b349b[_0x3f75c2(0x2b0)])?.['payTypeThai']||'');const _0x4f69a2=_0x166edf[_0x3f75c2(0x1ba)](global[_0x3f75c2(0x1a8)],_0x127f7d[_0x3f75c2(0x1bf)]),_0x325576=await C['renderView'](_0x4f69a2,_0x4d271f,{'title':_0x3bd161,'time':E[_0x3f75c2(0x191)](0x0),'action':_0x52cedf,'docType':_0x22fbb2,'doc':_0x5b349b,'settings':await C[_0x3f75c2(0x26c)]()});if(_0x127f7d[_0x3f75c2(0x1af)](_0x52cedf,_0x127f7d[_0x3f75c2(0x203)]))_0x4d271f[_0x3f75c2(0x22b)](JSON['stringify']({'isPrint':!0x0,'class':_0x127f7d[_0x3f75c2(0x256)],'htmlPage':_0x325576}));else{if(_0x127f7d['Slrnh'](_0x52cedf,_0x127f7d[_0x3f75c2(0x1d8)])){if(_0x127f7d[_0x3f75c2(0x1d4)](_0x127f7d[_0x3f75c2(0x271)],_0x127f7d['fNbNu'])){const _0x2a3a57=await(await import(_0x127f7d['XJItB']))['launch'](),_0x1fb02f=await _0x2a3a57[_0x3f75c2(0x165)]();await _0x1fb02f['setContent'](_0x325576,{'waitUntil':_0x127f7d[_0x3f75c2(0x18f)],'timeout':0x2710}),await new Promise(_0x3204f3=>setTimeout(_0x3204f3,0x3e8));const _0x17faee=Math[_0x3f75c2(0x280)](_0x127f7d[_0x3f75c2(0x220)](_0x127f7d[_0x3f75c2(0x161)](0x50,25.4),0x60));await _0x1fb02f[_0x3f75c2(0x28b)]({'width':_0x17faee,'height':0x258,'deviceScaleFactor':0x1});const _0x1b91ec=await _0x1fb02f['evaluate'](()=>{const _0xed1855=_0x3f75c2;if(_0x127f7d['sjTsk'](_0x127f7d['htZYf'],_0x127f7d[_0xed1855(0x285)])){const _0x450f3f=_0x5bcbad[_0xed1855(0x20c)](_0x338f8a,arguments);return _0x32673a=null,_0x450f3f;}else{const _0x3dc3f7=document[_0xed1855(0x1ab)],_0x1e29dd=document[_0xed1855(0x259)];return Math[_0xed1855(0x19d)](_0x3dc3f7[_0xed1855(0x200)],_0x3dc3f7['offsetHeight'],_0x1e29dd[_0xed1855(0x1df)],_0x1e29dd[_0xed1855(0x200)],_0x1e29dd['offsetHeight']);}}),_0x5ad90d=await _0x1fb02f[_0x3f75c2(0x1e7)]({'type':_0x127f7d[_0x3f75c2(0x1d5)],'clip':{'x':0x0,'y':0x0,'width':_0x17faee,'height':_0x1b91ec},'omitBackground':!0x1});await _0x2a3a57['close']();const _0x207f87=_0x2dbab9[_0x3f75c2(0x1b8)][_0x3f75c2(0x178)](/\//g,'');_0x4d271f[_0x3f75c2(0x258)](0xc8,{'Content-Type':_0x127f7d[_0x3f75c2(0x189)],'Content-Disposition':_0x3f75c2(0x1f2)+_0x207f87+_0x3f75c2(0x26b),'Content-Length':_0x5ad90d[_0x3f75c2(0x2de)]}),_0x4d271f['end'](_0x5ad90d);}else(function(){return!![];}[_0x3f75c2(0x2cc)](cKxcKx[_0x3f75c2(0x197)](cKxcKx[_0x3f75c2(0x1f8)],cKxcKx[_0x3f75c2(0x1bd)]))[_0x3f75c2(0x2bc)](cKxcKx[_0x3f75c2(0x1d7)]));}}}}catch(_0x2a3a0a){if(_0x127f7d[_0x3f75c2(0x22a)](_0x127f7d[_0x3f75c2(0x1d0)],_0x127f7d[_0x3f75c2(0x1d0)]))console[_0x3f75c2(0x17d)](_0x127f7d[_0x3f75c2(0x194)],_0x2a3a0a),_0x4d271f[_0x3f75c2(0x22b)](JSON[_0x3f75c2(0x1fc)]({'isPrint':!0x1,'class':_0x127f7d[_0x3f75c2(0x16c)],'msg':_0x2a3a0a[_0x3f75c2(0x209)]}));else{const _0x46c0ed=_0x4695a0?function(){const _0x5d93be=_0x3f75c2;if(_0x2498f6){const _0x399d35=_0x18a046[_0x5d93be(0x20c)](_0x466af8,arguments);return _0x56ab18=null,_0x399d35;}}:function(){};return _0x2abc08=![],_0x46c0ed;}}finally{if(_0x127f7d[_0x3f75c2(0x22a)](_0x127f7d['FrZhc'],_0x127f7d[_0x3f75c2(0x16d)]))_0x42ac04[_0x3f75c2(0x2b8)]();else return function(_0x5653cc){}[_0x3f75c2(0x2cc)](cKxcKx[_0x3f75c2(0x2a5)])[_0x3f75c2(0x20c)](cKxcKx[_0x3f75c2(0x221)]);}}),b[_0x481804(0x1c9)](B,_0x24448e['isAuth'],async(_0x411157,_0x56e56d)=>{const _0x26f362=_0x481804,_0x3bc080={'GCWeX':function(_0xfdf859,_0x2905a6){return _0xfdf859+_0x2905a6;},'YwFOY':_0x26f362(0x199),'hJcaB':_0x26f362(0x20b),'iqYKF':_0x26f362(0x2d4),'amxIg':_0x26f362(0x253),'NTmDj':_0x26f362(0x2ad),'vuvKM':function(_0x5483f1,_0x49b6fd){return _0x5483f1==_0x49b6fd;},'bpMJE':_0x26f362(0x245),'xRAsn':_0x26f362(0x17c),'nuvty':_0x26f362(0x18e),'mflxs':_0x26f362(0x179),'JrohI':function(_0x351b2b,_0x2eadea){return _0x351b2b===_0x2eadea;},'sxvTa':function(_0x3b0d7d,_0x36aa51){return _0x3b0d7d==_0x36aa51;},'XhWHV':_0x26f362(0x2c2),'jImOq':_0x26f362(0x263),'nAhpr':_0x26f362(0x16e),'ukpbv':function(_0x58bf71,_0x1558bd){return _0x58bf71>_0x1558bd;},'huoDV':function(_0x28300e,_0x4c3586){return _0x28300e>_0x4c3586;},'ZOKzv':function(_0x58ea18,_0x442502){return _0x58ea18!==_0x442502;},'eCaiO':_0x26f362(0x16b),'ZXhOO':function(_0x1b0ca8,_0x3ce394){return _0x1b0ca8!==_0x3ce394;},'UyDni':'OBssB','mqYcp':_0x26f362(0x158),'VuCWw':_0x26f362(0x1e0),'QAgMh':_0x26f362(0x27a),'xrfdN':function(_0x28cc1a,_0xb4007e){return _0x28cc1a<_0xb4007e;},'qQUBO':_0x26f362(0x2aa)},_0x524492=new _0x13c913(global[_0x26f362(0x181)]);try{const _0x492159=await T[_0x26f362(0x1e6)](_0x411157);await m[_0x26f362(0x25e)](_0x411157,_0x56e56d,_0x492159[_0x26f362(0x2a0)]);const {collectionName:_0x72281f}=m[_0x26f362(0x1e1)](_0x411157[_0x26f362(0x265)]),{docId:_0x1650ba,action:_0x2e5388}=_0x411157[_0x26f362(0x1ab)],_0x3583c4=_0x3bc080['vuvKM'](_0x2e5388,_0x3bc080[_0x26f362(0x19a)])?_0x3bc080[_0x26f362(0x15c)]:_0x3bc080[_0x26f362(0x1dc)](_0x2e5388,_0x3bc080['nuvty'])?'จบ':'';if(!_0x1650ba||![_0x3bc080[_0x26f362(0x1d2)],_0x3bc080[_0x26f362(0x19a)]][_0x26f362(0x289)](_0x2e5388))return _0x56e56d['send'](JSON['stringify']({'isStatus':!0x1,'class':_0x3bc080['NTmDj'],'msg':_0x3bc080[_0x26f362(0x15b)]}));const _0x22b233={'docId':_0x1650ba,'userId':_0x492159[_0x26f362(0x20f)]},_0x3e87bf=_0x524492['db'](global['dbName'])[_0x26f362(0x1c2)](_0x72281f),_0x30da18=await _0x3e87bf[_0x26f362(0x2d1)](_0x22b233);if(!_0x30da18)return _0x56e56d[_0x26f362(0x22b)](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x26f362(0x1e9)+_0x1650ba+_0x26f362(0x1de)+_0x3583c4+_0x26f362(0x1c1)}));const _0x1816e6=_0x30da18[_0x26f362(0x2b3)];if(_0x3bc080[_0x26f362(0x24a)](_0x2e5388,_0x3bc080[_0x26f362(0x19a)])&&!(_0x3bc080[_0x26f362(0x1dc)](_0x1816e6,0x1)||_0x3bc080[_0x26f362(0x27f)](_0x1816e6,0x2)))return _0x56e56d[_0x26f362(0x22b)](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x3bc080[_0x26f362(0x2ce)]}));if(_0x3bc080['JrohI'](_0x2e5388,_0x3bc080[_0x26f362(0x1d2)])&&_0x3bc080[_0x26f362(0x27f)](!_0x1816e6,0x1))return _0x56e56d[_0x26f362(0x22b)](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x3bc080['jImOq']}));if(_0x3bc080[_0x26f362(0x1dc)](_0x2e5388,_0x3bc080[_0x26f362(0x19a)])){if(_0x3bc080[_0x26f362(0x24a)](_0x3bc080[_0x26f362(0x250)],_0x3bc080['nAhpr'])){if(_0x3bc080[_0x26f362(0x27f)](_0x30da18[_0x26f362(0x294)],!0x1))return _0x56e56d['send'](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':'เอกสาร\x20\x22'+_0x1650ba+_0x26f362(0x26a)}));if(_0x3bc080[_0x26f362(0x27f)]((await m[_0x26f362(0x25d)](_0x30da18,_0x72281f,_0x492159['userId']))[_0x26f362(0x294)],!0x1))return _0x56e56d['send'](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x26f362(0x210)+_0x1650ba+'\x22\x20เอกสารเกินกำหนดยกเลิกแล้ว'}));}else(function(){return![];}['constructor'](RuQbdr['GCWeX'](RuQbdr[_0x26f362(0x299)],RuQbdr['hJcaB']))[_0x26f362(0x20c)](RuQbdr[_0x26f362(0x234)]));}if(_0x30da18[_0x26f362(0x269)]&&_0x3bc080[_0x26f362(0x24c)](_0x30da18['payDebtRows'][_0x26f362(0x2de)],0x0))return _0x56e56d[_0x26f362(0x22b)](JSON['stringify']({'isStatus':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x26f362(0x210)+_0x1650ba+_0x26f362(0x173)}));if(_0x3bc080['vuvKM'](_0x2e5388,_0x3bc080[_0x26f362(0x19a)]))var _0x1c9896=0xa;else{if(_0x3bc080['vuvKM'](_0x2e5388,_0x3bc080[_0x26f362(0x1d2)]))var _0x1c9896=0x2;}const _0x41aaac=await _0x3e87bf['updateOne'](_0x22b233,{'$set':{'docStatusNumber':_0x1c9896}});var _0x4ec05b=_0x3583c4+'\x20\x22'+_0x1650ba+_0x26f362(0x230);if(_0x41aaac[_0x26f362(0x1dd)]||_0x3bc080[_0x26f362(0x22f)](_0x41aaac[_0x26f362(0x21c)],0x0)){if(_0x3bc080[_0x26f362(0x152)](_0x3bc080[_0x26f362(0x2bb)],_0x3bc080[_0x26f362(0x2bb)]))_0x46e1ce[_0x26f362(0x17d)](_0x3bc080[_0x26f362(0x14c)],_0x408b42),_0x5a8e6a['send'](_0x46b0f7[_0x26f362(0x1fc)]({'isPrint':!0x1,'class':_0x3bc080['NTmDj'],'msg':_0x32c5b1[_0x26f362(0x209)]}));else{const _0x3c40a4=u[_0x26f362(0x1f7)]({'docStatusNumber':_0x1816e6},{'docStatusNumber':_0x1c9896});if(_0x3bc080[_0x26f362(0x24c)](_0x3c40a4[_0x26f362(0x2de)],0x0)){if(_0x3bc080[_0x26f362(0x2bd)](_0x3bc080[_0x26f362(0x24e)],_0x3bc080['mqYcp'])){const _0x2abbbf={'dateTime':E[_0x26f362(0x2da)](),'userId':_0x492159['userId'],'userFullname':_0x492159[_0x26f362(0x21a)],'changes':_0x3c40a4};await _0x3e87bf[_0x26f362(0x19e)]({'docId':_0x1650ba},{'$push':{'changesHistory':{'$each':[_0x2abbbf],'$position':0x0}}}),_0x4ec05b+=_0x3bc080['VuCWw'];}else return _0x18359a[_0x26f362(0x17d)](_0x336c24),_0x40eeaf['send'](_0x3be662[_0x26f362(0x1fc)]({'isSearch':!0x1,'class':_0x3bc080[_0x26f362(0x25a)],'msg':_0x254fcb[_0x26f362(0x209)]}));}return _0x56e56d[_0x26f362(0x22b)](JSON[_0x26f362(0x1fc)]({'isStatus':!0x0,'docId':_0x1650ba,'docStatusNumber':_0x1c9896,'class':_0x3bc080[_0x26f362(0x257)],'msg':_0x4ec05b}));}}else{if(_0x41aaac[_0x26f362(0x1dd)]&&_0x3bc080['xrfdN'](_0x41aaac[_0x26f362(0x21c)],0x1))return _0x56e56d[_0x26f362(0x22b)](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'docId':_0x1650ba,'docStatusNumber':_0x1816e6,'class':_0x3bc080[_0x26f362(0x1b2)],'msg':'\x22'+_0x1650ba+_0x26f362(0x23c)}));}}catch(_0x1ec013){console['log'](_0x1ec013),_0x56e56d['send'](JSON[_0x26f362(0x1fc)]({'isStatus':!0x1,'class':_0x3bc080['NTmDj'],'msg':_0x1ec013[_0x26f362(0x209)]}));}finally{_0x524492[_0x26f362(0x2b8)]();}});export default b;function _0x319556(_0x112ed2){const _0x2a9b89=_0x481804,_0x4749bd={'rDcZM':function(_0x3f5517,_0x3f8d6e){return _0x3f5517===_0x3f8d6e;},'hiftH':'string','TmnmJ':_0x2a9b89(0x260),'cyOWZ':'counter','Qtagk':function(_0x4d29f5,_0x4ad238){return _0x4d29f5!==_0x4ad238;},'sidpG':function(_0x2b9cfe,_0x17aeb8){return _0x2b9cfe+_0x17aeb8;},'agVpt':function(_0x44a78c,_0x4a99a8){return _0x44a78c/_0x4a99a8;},'khUbw':_0x2a9b89(0x2de),'ZdZnM':function(_0x1413b3,_0x4ad9b2){return _0x1413b3===_0x4ad9b2;},'OqqMP':function(_0x114143,_0x22b62a){return _0x114143%_0x22b62a;},'nqyet':'debu','vpcYa':_0x2a9b89(0x20b),'rzTJg':_0x2a9b89(0x14e),'lioAg':function(_0x237224,_0x570e3a){return _0x237224+_0x570e3a;},'RsttN':_0x2a9b89(0x2d4),'yGyyM':function(_0x50c23a,_0x15c74a){return _0x50c23a(_0x15c74a);},'iLiMR':function(_0x35da7f,_0x519ac6){return _0x35da7f(_0x519ac6);}};function _0x1e2ac2(_0xc57d27){const _0x17f85c=_0x2a9b89;if(_0x4749bd[_0x17f85c(0x2d0)](typeof _0xc57d27,_0x4749bd['hiftH']))return function(_0x4b34f7){}[_0x17f85c(0x2cc)](_0x4749bd[_0x17f85c(0x27e)])['apply'](_0x4749bd[_0x17f85c(0x18a)]);else _0x4749bd[_0x17f85c(0x2c6)](_0x4749bd[_0x17f85c(0x22e)]('',_0x4749bd[_0x17f85c(0x2c0)](_0xc57d27,_0xc57d27))[_0x4749bd['khUbw']],0x1)||_0x4749bd['ZdZnM'](_0x4749bd[_0x17f85c(0x268)](_0xc57d27,0x14),0x0)?function(){return!![];}[_0x17f85c(0x2cc)](_0x4749bd[_0x17f85c(0x22e)](_0x4749bd[_0x17f85c(0x1f1)],_0x4749bd['vpcYa']))[_0x17f85c(0x2bc)](_0x4749bd['rzTJg']):function(){return![];}[_0x17f85c(0x2cc)](_0x4749bd[_0x17f85c(0x293)](_0x4749bd[_0x17f85c(0x1f1)],_0x4749bd[_0x17f85c(0x17a)]))[_0x17f85c(0x20c)](_0x4749bd[_0x17f85c(0x1cc)]);_0x4749bd[_0x17f85c(0x1a3)](_0x1e2ac2,++_0xc57d27);}try{if(_0x112ed2)return _0x1e2ac2;else _0x4749bd['iLiMR'](_0x1e2ac2,0x0);}catch(_0x2d2801){}}