const _0x3de90c=_0x1861;(function(_0x4e5e84,_0x2eadae){const _0x5cb2d8=_0x1861,_0x4a5fc7=_0x4e5e84();while(!![]){try{const _0x37e4ec=-parseInt(_0x5cb2d8(0x156))/0x1+parseInt(_0x5cb2d8(0x1c2))/0x2+parseInt(_0x5cb2d8(0x14c))/0x3*(-parseInt(_0x5cb2d8(0x190))/0x4)+parseInt(_0x5cb2d8(0x18f))/0x5+parseInt(_0x5cb2d8(0x22f))/0x6+parseInt(_0x5cb2d8(0x232))/0x7+-parseInt(_0x5cb2d8(0x25b))/0x8;if(_0x37e4ec===_0x2eadae)break;else _0x4a5fc7['push'](_0x4a5fc7['shift']());}catch(_0xf26614){_0x4a5fc7['push'](_0x4a5fc7['shift']());}}}(_0x7ba4,0x4cd0d));const _0x8fe9b8=(function(){const _0x3790cd=_0x1861,_0x41cbef={'XFYCD':_0x3790cd(0x285),'MCkQy':_0x3790cd(0x257),'fWzyf':function(_0x291e8b,_0x3e6912){return _0x291e8b!==_0x3e6912;},'mSkxe':_0x3790cd(0x239),'nDijt':_0x3790cd(0x260),'UuwIC':function(_0x429e5e,_0x584157){return _0x429e5e===_0x584157;},'ibFhT':_0x3790cd(0x1d9),'VgLQS':_0x3790cd(0x211),'OEBUu':'EqgDr'};let _0x1f5684=!![];return function(_0x1d2359,_0x44e0ca){const _0x4486e2=_0x3790cd,_0xbef0f1={'GtNCK':function(_0x1ba490,_0x3b7e90){const _0xfb4a09=_0x1861;return _0x41cbef[_0xfb4a09(0x203)](_0x1ba490,_0x3b7e90);},'EVRCA':_0x41cbef[_0x4486e2(0x17b)],'lmfcb':_0x41cbef['nDijt'],'SkGGF':function(_0x3832e4,_0x36e0a9){return _0x41cbef['UuwIC'](_0x3832e4,_0x36e0a9);},'lHrKn':_0x41cbef[_0x4486e2(0x175)]};if(_0x41cbef[_0x4486e2(0x203)](_0x41cbef[_0x4486e2(0x177)],_0x41cbef[_0x4486e2(0x1c3)])){const _0x44e887=_0x1f5684?function(){const _0x1a4430=_0x4486e2;if(_0xbef0f1[_0x1a4430(0x152)](_0xbef0f1['EVRCA'],_0xbef0f1['lmfcb'])){if(_0x44e0ca){if(_0xbef0f1[_0x1a4430(0x1f1)](_0xbef0f1[_0x1a4430(0x294)],_0xbef0f1['lHrKn'])){const _0x2a9560=_0x44e0ca[_0x1a4430(0x23f)](_0x1d2359,arguments);return _0x44e0ca=null,_0x2a9560;}else{_0x9ff6ba=!0x1;return;}}}else return!![];}:function(){};return _0x1f5684=![],_0x44e887;}else _0x389823['log'](_0x41cbef['XFYCD'],_0x1eb321),_0x3f1782[_0x4486e2(0x2a3)](_0x4f93ec[_0x4486e2(0x1a5)]({'isPrint':!0x1,'class':_0x41cbef[_0x4486e2(0x2da)],'msg':_0x2f8b57[_0x4486e2(0x245)]}));};}());(function(){const _0x703eea=_0x1861,_0x4696fe={'QJvun':function(_0x592160,_0x213937){return _0x592160+_0x213937;},'pIVzV':_0x703eea(0x26e),'qKMnS':'gger','yWuQK':_0x703eea(0x22c),'QqLgx':function(_0x277d8d,_0x48d71a){return _0x277d8d(_0x48d71a);},'DMLCI':function(_0x42f41d,_0x5b050c){return _0x42f41d+_0x5b050c;},'SPrBV':_0x703eea(0x28e),'gmLmJ':_0x703eea(0x2c5),'vtSUF':function(_0x30e323,_0x5c3c76){return _0x30e323===_0x5c3c76;},'zhIwg':_0x703eea(0x273),'YDrNq':_0x703eea(0x217),'ceNWO':_0x703eea(0x2ce),'JtVCq':_0x703eea(0x13f),'BSOAd':function(_0x3234db,_0x209922){return _0x3234db(_0x209922);},'zileJ':_0x703eea(0x25e),'mTaWd':function(_0x4d0322,_0x34809d){return _0x4d0322+_0x34809d;},'zfvJT':'chain','NTxOG':function(_0x4ff33c,_0xba23d){return _0x4ff33c+_0xba23d;},'DKfux':'input','uZFVz':function(_0x4e6baf,_0x15cb76){return _0x4e6baf!==_0x15cb76;},'qzcwa':'vncLQ','YhnOP':function(_0x3ccb2b,_0x37fc6c){return _0x3ccb2b(_0x37fc6c);},'xBGIN':function(_0x4de5e7,_0x3fbd9d){return _0x4de5e7!==_0x3fbd9d;},'kRfDD':_0x703eea(0x2cd),'aeVdL':_0x703eea(0x235),'ZpiyK':function(_0x55d2e2){return _0x55d2e2();},'ZxhgR':function(_0x154c24,_0x5b11f8,_0x210d6f){return _0x154c24(_0x5b11f8,_0x210d6f);}};_0x4696fe[_0x703eea(0x27c)](_0x8fe9b8,this,function(){const _0x44c72c=_0x703eea;if(_0x4696fe[_0x44c72c(0x185)](_0x4696fe['zhIwg'],_0x4696fe[_0x44c72c(0x262)]))(function(){return![];}[_0x44c72c(0x27a)](_0x4696fe[_0x44c72c(0x23a)](_0x4696fe[_0x44c72c(0x13c)],_0x4696fe[_0x44c72c(0x183)]))['apply'](_0x4696fe['yWuQK']));else{const _0x386c4a=new RegExp(_0x4696fe[_0x44c72c(0x137)]),_0x63e072=new RegExp(_0x4696fe[_0x44c72c(0x182)],'i'),_0xfcda92=_0x4696fe[_0x44c72c(0x24a)](_0x55bf17,_0x4696fe['zileJ']);if(!_0x386c4a[_0x44c72c(0x2e1)](_0x4696fe[_0x44c72c(0x164)](_0xfcda92,_0x4696fe[_0x44c72c(0x19f)]))||!_0x63e072['test'](_0x4696fe[_0x44c72c(0x1b5)](_0xfcda92,_0x4696fe[_0x44c72c(0x1a0)]))){if(_0x4696fe[_0x44c72c(0x218)](_0x4696fe['qzcwa'],_0x4696fe[_0x44c72c(0x2dd)])){if(_0xadcc75){const _0x2d8aed=_0x30ea18[_0x44c72c(0x23f)](_0x13e20b,arguments);return _0x153764=null,_0x2d8aed;}}else _0x4696fe[_0x44c72c(0x206)](_0xfcda92,'0');}else{if(_0x4696fe['xBGIN'](_0x4696fe[_0x44c72c(0x169)],_0x4696fe[_0x44c72c(0x258)]))_0x4696fe[_0x44c72c(0x2a4)](_0x55bf17);else{let _0x39db9e;try{_0x39db9e=_0x4696fe[_0x44c72c(0x254)](_0x36bf9b,_0x4696fe['QJvun'](_0x4696fe[_0x44c72c(0x2c1)](_0x4696fe[_0x44c72c(0x23d)],_0x4696fe[_0x44c72c(0x1b4)]),');'))();}catch(_0xeb9755){_0x39db9e=_0x419286;}return _0x39db9e;}}}})();}());const _0x60d487=(function(){const _0x14447f=_0x1861,_0x5eb72d={'RGYvF':_0x14447f(0x285),'QAvZj':_0x14447f(0x257),'QIqej':'function\x20*\x5c(\x20*\x5c)','OYJLp':_0x14447f(0x13f),'mPjJx':function(_0xb8d1d6,_0x5925e4){return _0xb8d1d6(_0x5925e4);},'lhrvO':'init','pYcTk':function(_0x4aad06,_0x15b52c){return _0x4aad06+_0x15b52c;},'XMSoW':'chain','ZcPLU':_0x14447f(0x26b),'KDDHB':function(_0x57bfbc){return _0x57bfbc();},'poymI':function(_0x19216e,_0x3ba75e,_0x49d6e1){return _0x19216e(_0x3ba75e,_0x49d6e1);},'ypVvs':function(_0x16b312,_0xef10c9){return _0x16b312===_0xef10c9;},'jVbkS':'FaaCS','hqKaN':_0x14447f(0x196),'CcgrU':function(_0x4a6840,_0x27f2f1){return _0x4a6840!==_0x27f2f1;},'AqafX':'sfllX','cLBEX':function(_0x51e67d,_0x4c8642){return _0x51e67d!==_0x4c8642;},'jZEqW':_0x14447f(0x19d),'CkyoW':_0x14447f(0x194)};let _0x1696da=!![];return function(_0x20aa97,_0xb65e43){const _0x375baa=_0x14447f,_0x18983b={'KTksy':_0x5eb72d[_0x375baa(0x13e)],'yobRB':_0x5eb72d[_0x375baa(0x1f5)],'ECPwr':_0x5eb72d[_0x375baa(0x157)],'yRKOB':_0x5eb72d[_0x375baa(0x224)],'McGyQ':function(_0x6f6054,_0x5d14d4){const _0x38712a=_0x375baa;return _0x5eb72d[_0x38712a(0x28a)](_0x6f6054,_0x5d14d4);},'vUKYZ':_0x5eb72d[_0x375baa(0x154)],'YLdKj':function(_0x84086c,_0x4ea079){const _0xd8470c=_0x375baa;return _0x5eb72d[_0xd8470c(0x1fd)](_0x84086c,_0x4ea079);},'skvhT':_0x5eb72d[_0x375baa(0x1db)],'IkbXg':_0x5eb72d[_0x375baa(0x26a)],'PjIhe':function(_0x1c3b31){const _0x4e36cc=_0x375baa;return _0x5eb72d[_0x4e36cc(0x274)](_0x1c3b31);},'jVyMl':function(_0x371666,_0x4ee53f,_0xc8c0c4){const _0x26e909=_0x375baa;return _0x5eb72d[_0x26e909(0x269)](_0x371666,_0x4ee53f,_0xc8c0c4);},'kAdvP':function(_0x3fee0b,_0x108d1f){const _0xd5fc96=_0x375baa;return _0x5eb72d[_0xd5fc96(0x12d)](_0x3fee0b,_0x108d1f);},'oUkaT':_0x5eb72d[_0x375baa(0x1fb)],'uDHWF':_0x5eb72d[_0x375baa(0x242)],'rHIzA':function(_0x51a84b,_0x159e24){const _0x25b1fb=_0x375baa;return _0x5eb72d[_0x25b1fb(0x1e8)](_0x51a84b,_0x159e24);},'StFGm':_0x5eb72d[_0x375baa(0x275)]};if(_0x5eb72d['cLBEX'](_0x5eb72d['jZEqW'],_0x5eb72d['CkyoW'])){const _0x340dd8=_0x1696da?function(){const _0x1e5ec2=_0x375baa;if(_0x18983b[_0x1e5ec2(0x14a)](_0x18983b[_0x1e5ec2(0x299)],_0x18983b[_0x1e5ec2(0x1da)]))_0x4c44e1['log'](_0x18983b[_0x1e5ec2(0x188)],_0x4c060f[_0x1e5ec2(0x245)]),_0x3df598['send'](_0x3649e5[_0x1e5ec2(0x1a5)]({'isPrint':!0x1,'class':_0x18983b['yobRB'],'msg':_0x2c528d['message']}));else{if(_0xb65e43){if(_0x18983b[_0x1e5ec2(0x1ed)](_0x18983b[_0x1e5ec2(0x1f4)],_0x18983b[_0x1e5ec2(0x1f4)])){const _0x4d5f90={'eCBjO':_0x18983b['ECPwr'],'cKiwX':_0x18983b[_0x1e5ec2(0x288)],'OjhWm':function(_0x30f5a7,_0x56df32){return _0x18983b['McGyQ'](_0x30f5a7,_0x56df32);},'fIbhZ':_0x18983b[_0x1e5ec2(0x238)],'FlJgn':function(_0x2a0f8f,_0x47950c){const _0x548aea=_0x1e5ec2;return _0x18983b[_0x548aea(0x1df)](_0x2a0f8f,_0x47950c);},'laAOq':_0x18983b[_0x1e5ec2(0x178)],'PTkAB':_0x18983b['IkbXg'],'cjFSE':function(_0x53af54){return _0x18983b['PjIhe'](_0x53af54);}};_0x18983b[_0x1e5ec2(0x11f)](_0x41feef,this,function(){const _0x515db6=_0x1e5ec2,_0x146f7d=new _0x570034(_0x4d5f90[_0x515db6(0x1e4)]),_0x53357b=new _0x437b1b(_0x4d5f90[_0x515db6(0x1b8)],'i'),_0x4deba4=_0x4d5f90[_0x515db6(0x243)](_0x4934c0,_0x4d5f90['fIbhZ']);!_0x146f7d['test'](_0x4d5f90['FlJgn'](_0x4deba4,_0x4d5f90[_0x515db6(0x1c5)]))||!_0x53357b[_0x515db6(0x2e1)](_0x4d5f90['FlJgn'](_0x4deba4,_0x4d5f90[_0x515db6(0x200)]))?_0x4d5f90[_0x515db6(0x243)](_0x4deba4,'0'):_0x4d5f90['cjFSE'](_0x563553);})();}else{const _0x61787d=_0xb65e43['apply'](_0x20aa97,arguments);return _0xb65e43=null,_0x61787d;}}}}:function(){};return _0x1696da=![],_0x340dd8;}else{const _0xc64915=_0x3bb76d?function(){if(_0x4a9ee9){const _0x2386a0=_0x1745cb['apply'](_0x10b444,arguments);return _0x248a19=null,_0x2386a0;}}:function(){};return _0x594d49=![],_0xc64915;}};}()),_0x82483c=_0x60d487(this,function(){const _0xefbe60=_0x1861,_0x306af6={'qgXVd':function(_0x2748e7){return _0x2748e7();},'kFGGv':_0xefbe60(0x253),'IPriG':_0xefbe60(0x28d),'ALwWl':function(_0x434654,_0x44d636){return _0x434654+_0x44d636;},'vwDht':'debu','xsgtb':_0xefbe60(0x15b),'qoEBB':'action','yeNlj':function(_0x538767,_0x23e092){return _0x538767===_0x23e092;},'wtHAf':_0xefbe60(0x15f),'InIQS':_0xefbe60(0x19c),'wMhYP':function(_0x32c606,_0x4ce5b5){return _0x32c606!==_0x4ce5b5;},'bgJlB':_0xefbe60(0x256),'aatwm':'yRpQM','ynugK':function(_0x4275df,_0x993542){return _0x4275df(_0x993542);},'SLGaG':function(_0xc7cafd,_0x478ac9){return _0xc7cafd+_0x478ac9;},'LxPgZ':_0xefbe60(0x28e),'irwKE':_0xefbe60(0x2c5),'uheNP':function(_0x34e4a8,_0x4e24a6){return _0x34e4a8!==_0x4e24a6;},'XTWfc':_0xefbe60(0x26d),'lGnSk':function(_0x334f66,_0x4da00c){return _0x334f66(_0x4da00c);},'JEWJD':function(_0x19356c,_0x523d1e){return _0x19356c(_0x523d1e);},'DWUPk':function(_0x49a743,_0x4c95f4){return _0x49a743(_0x4c95f4);},'vFHdG':_0xefbe60(0x252),'IvMUw':_0xefbe60(0x124),'UbHod':_0xefbe60(0x1a3),'cwJRa':_0xefbe60(0x227),'qXQBi':_0xefbe60(0x29c),'SGgja':_0xefbe60(0x2b0),'mhiza':'trace','RykUz':function(_0x291edd,_0x401fe3){return _0x291edd<_0x401fe3;},'Qxnqi':'WjEnx'},_0x434ea3=function(){const _0x1bd587=_0xefbe60,_0x5c79a0={'pzhvi':function(_0x3d2ccc,_0x5be048){const _0x8150ac=_0x1861;return _0x306af6[_0x8150ac(0x25c)](_0x3d2ccc,_0x5be048);},'OYSzC':_0x306af6[_0x1bd587(0x2c2)],'urlDa':_0x306af6[_0x1bd587(0x1e5)],'PTpyY':_0x306af6[_0x1bd587(0x268)]};if(_0x306af6[_0x1bd587(0x2d9)](_0x306af6[_0x1bd587(0x1d7)],_0x306af6['InIQS']))_0x306af6[_0x1bd587(0x26f)](_0x32f0be);else{let _0x394500;try{_0x306af6[_0x1bd587(0x1b2)](_0x306af6['bgJlB'],_0x306af6['aatwm'])?_0x394500=_0x306af6[_0x1bd587(0x173)](Function,_0x306af6['SLGaG'](_0x306af6['ALwWl'](_0x306af6['LxPgZ'],_0x306af6[_0x1bd587(0x168)]),');'))():function(){return!![];}[_0x1bd587(0x27a)](_0x5c79a0[_0x1bd587(0x18d)](_0x5c79a0[_0x1bd587(0x11b)],_0x5c79a0[_0x1bd587(0x28b)]))['call'](_0x5c79a0[_0x1bd587(0x212)]);}catch(_0x299a85){if(_0x306af6[_0x1bd587(0x2bf)](_0x306af6[_0x1bd587(0x279)],_0x306af6[_0x1bd587(0x279)]))return function(_0x524be3){}[_0x1bd587(0x27a)](_0x306af6[_0x1bd587(0x15d)])[_0x1bd587(0x23f)](_0x306af6[_0x1bd587(0x1c8)]);else _0x394500=window;}return _0x394500;}},_0x42822f=_0x306af6[_0xefbe60(0x26f)](_0x434ea3),_0x107314=_0x42822f[_0xefbe60(0x126)]=_0x42822f[_0xefbe60(0x126)]||{},_0x106450=[_0x306af6[_0xefbe60(0x2be)],_0x306af6['IvMUw'],_0x306af6['UbHod'],_0x306af6[_0xefbe60(0x2b4)],_0x306af6[_0xefbe60(0x276)],_0x306af6['SGgja'],_0x306af6[_0xefbe60(0x25f)]];for(let _0x206526=0x0;_0x306af6['RykUz'](_0x206526,_0x106450[_0xefbe60(0x11d)]);_0x206526++){if(_0x306af6['uheNP'](_0x306af6[_0xefbe60(0x210)],_0x306af6['Qxnqi'])){const _0x3c6847=_0xe2b07?new _0x36ff07(''+_0x30324b,'i'):new _0x252c25('.*');let _0x542b1e={};_0x306af6[_0xefbe60(0x1fe)](_0x4dc1ab,_0x306af6[_0xefbe60(0x17c)](_0xcd898f,_0x3fc2d0))?_0x542b1e={'userId':{'$regex':_0x3c6847}}:_0x542b1e={'userId':_0x306af6['DWUPk'](_0x4ba771,_0x444876)},_0x3370f0[_0xefbe60(0x225)]({'$match':{'$or':[_0x542b1e,{'username':{'$regex':_0x3c6847}},{'userFirstname':{'$regex':_0x3c6847}}]}});}else{const _0x3fce3b=_0x60d487[_0xefbe60(0x27a)][_0xefbe60(0x12a)][_0xefbe60(0x1cb)](_0x60d487),_0x7fc116=_0x106450[_0x206526],_0x4b7ed4=_0x107314[_0x7fc116]||_0x3fce3b;_0x3fce3b[_0xefbe60(0x236)]=_0x60d487[_0xefbe60(0x1cb)](_0x60d487),_0x3fce3b['toString']=_0x4b7ed4[_0xefbe60(0x26c)]['bind'](_0x4b7ed4),_0x107314[_0x7fc116]=_0x3fce3b;}}});_0x82483c();import _0x2eebec from'express';import{MongoClient as _0x8dc901,ObjectId as _0xf2dbcb}from'mongodb';import _0x516745 from'bcrypt';const A=_0x2eebec[_0x3de90c(0x2cf)]();import _0x17f8a0 from'path';import _0x1cfd7c from'fs';import _0xe7798 from'ejs';import _0x246d23 from'../middleware/mainAuth.js';const j=await import(_0x3de90c(0x2d6)+mymoduleFolder+_0x3de90c(0x192)),C=await import(_0x3de90c(0x2d6)+mymoduleFolder+'/myDateTime.js'),M=await import(_0x3de90c(0x2d6)+mymoduleFolder+_0x3de90c(0x21c)),W=await import('../'+mymoduleFolder+_0x3de90c(0x179)),J=await import(_0x3de90c(0x2d6)+mymoduleFolder+_0x3de90c(0x21a)),b=_0x3de90c(0x28c),B=b+_0x3de90c(0x1d6),L=b+_0x3de90c(0x286),Q=b+_0x3de90c(0x1ba),G=b+'/print',V=b+_0x3de90c(0x15a),Z=b[_0x3de90c(0x2ae)](/\//g,'_');A[_0x3de90c(0x2df)](b,_0x246d23[_0x3de90c(0x1be)],async(_0x316530,_0x39d4c8)=>{const _0x380c0e=_0x3de90c,_0x4d18af={'gGhwt':function(_0x425731,_0x3aa7cd){return _0x425731(_0x3aa7cd);},'iPuyQ':function(_0x116519,_0x32c81b){return _0x116519(_0x32c81b);},'IOUEv':function(_0x580575,_0x4ed7c1){return _0x580575(_0x4ed7c1);},'gNtZs':function(_0x4251d1,_0x2d14c3){return _0x4251d1*_0x2d14c3;},'LdKFo':function(_0x3059fa,_0x515d86){return _0x3059fa-_0x515d86;},'TZwrv':function(_0x4d606f,_0x171b1e){return _0x4d606f!==_0x171b1e;},'uBqpP':_0x380c0e(0x17e),'CRQTG':_0x380c0e(0x1e2),'IIhGF':function(_0x1a30f7,_0x31f927){return _0x1a30f7===_0x31f927;},'NTJAj':'dbvll','MVfHo':_0x380c0e(0x140),'OEDkf':function(_0x55f177,_0x2beae8){return _0x55f177(_0x2beae8);},'PvtkR':function(_0x5a0bb8,_0x5d0a0d){return _0x5a0bb8/_0x5d0a0d;},'MqopU':function(_0x1b6399,_0x4eec03){return _0x1b6399<_0x4eec03;},'uDHwV':function(_0x28abd4,_0x5abd54){return _0x28abd4(_0x5abd54);},'HKrQc':function(_0x4bc992,_0x577ac8){return _0x4bc992-_0x577ac8;},'MUiQL':function(_0x4b1557,_0x490c74){return _0x4b1557(_0x490c74);},'jSngL':function(_0x5d14bf,_0x338066){return _0x5d14bf(_0x338066);},'WvSdo':function(_0x3ec802,_0x58b49f){return _0x3ec802>_0x58b49f;},'hodWj':function(_0x5a4503,_0x3452e9){return _0x5a4503+_0x3452e9;},'ZMpLI':function(_0x1e262b,_0x221bfd){return _0x1e262b(_0x221bfd);},'bXhcO':_0x380c0e(0x280),'yqrHW':_0x380c0e(0x1d0),'yiYxt':_0x380c0e(0x1af),'NeUVL':_0x380c0e(0x233),'sWLgt':_0x380c0e(0x1e3),'bCszs':_0x380c0e(0x296),'qRJkK':function(_0x513982,_0x3e6c7a){return _0x513982!==_0x3e6c7a;},'ozeGf':_0x380c0e(0x1b9),'XevAL':_0x380c0e(0x2dc),'fFfQm':function(_0x3096ca,_0x478073){return _0x3096ca(_0x478073);},'KCRUo':function(_0x2ef9a2,_0x32ac83){return _0x2ef9a2!==_0x32ac83;},'orUoI':'FTjZx','sKjHY':'userFlash','fBzTD':_0x380c0e(0x272),'QKcEE':'msg','CLGWd':_0x380c0e(0x176),'fUvSy':'BYAjn','NGrMv':_0x380c0e(0x2e0),'oEWsc':'pBXdN'},_0x8a7e86=_0x316530['query'][_0x380c0e(0x2ac)],_0x3092da=_0x4d18af[_0x380c0e(0x2af)](Number,_0x316530[_0x380c0e(0x17d)][_0x380c0e(0x171)])||0x14,_0x5d32e6=_0x4d18af[_0x380c0e(0x202)](Number,_0x316530[_0x380c0e(0x17d)][_0x380c0e(0x148)])||0x1,_0x56ef27=_0x316530['query'][_0x380c0e(0x1e0)]||'',_0x38533b=_0x4d18af['IOUEv'](Number,_0x4d18af[_0x380c0e(0x11c)](_0x4d18af[_0x380c0e(0x1d3)](_0x5d32e6,0x1),_0x3092da)),_0x2ba3e5=new _0x8dc901(dbUrl);try{if(_0x4d18af[_0x380c0e(0x1f8)](_0x4d18af[_0x380c0e(0x290)],_0x4d18af[_0x380c0e(0x2d7)])){const _0x4badeb=C['getDateTime'](0x0);await _0x2ba3e5[_0x380c0e(0x1c7)]();const _0x470dcd=_0x2ba3e5['db'](global['dbName'])[_0x380c0e(0x27e)](global[_0x380c0e(0x287)]);if(_0x8a7e86){if(_0x4d18af[_0x380c0e(0x191)](_0x4d18af[_0x380c0e(0x143)],_0x4d18af[_0x380c0e(0x143)])){const _0x58c288=new RegExp(_0x8a7e86[_0x380c0e(0x2ae)](/[.*+?^${}()|[\]\\]/g,_0x4d18af[_0x380c0e(0x16e)]),'i');let _0x5d372f={};_0x4d18af[_0x380c0e(0x2af)](isNaN,_0x4d18af[_0x380c0e(0x13a)](Number,_0x8a7e86))?_0x5d372f={'userId':{'$regex':_0x58c288}}:_0x5d372f={'userId':_0x4d18af[_0x380c0e(0x2ad)](Number,_0x8a7e86)};var _0x42c3d7=await _0x470dcd[_0x380c0e(0x2d3)]({'$or':[_0x5d372f,{'username':{'$regex':_0x58c288}},{'userFirstname':{'$regex':_0x58c288}}]});}else{_0x40bb33[_0x380c0e(0x1ce)][_0x380c0e(0x214)](_0x1f0dd8=>(_0x1f0dd8&&_0x5b16f2[_0x380c0e(0x252)](_0x380c0e(0x114),_0x1f0dd8),_0x540c3[_0x380c0e(0x1ec)]('/')));return;}}else var _0x42c3d7=await _0x470dcd[_0x380c0e(0x2d3)]({});const _0x44eb08=Math[_0x380c0e(0x27b)](_0x4d18af['PvtkR'](_0x42c3d7,_0x3092da)),_0x40c4ec=_0x4d18af[_0x380c0e(0x1a6)](_0x4d18af[_0x380c0e(0x1d3)](_0x4d18af[_0x380c0e(0x139)](Number,_0x5d32e6),0x1),0x1)?'-':_0x4d18af[_0x380c0e(0x189)](_0x4d18af[_0x380c0e(0x1a8)](Number,_0x5d32e6),0x1),_0x4c5968=_0x4d18af[_0x380c0e(0x259)](Number,_0x5d32e6),_0x4a87c1=_0x4d18af['WvSdo'](_0x4d18af[_0x380c0e(0x25d)](_0x4d18af['iPuyQ'](Number,_0x5d32e6),0x1),_0x44eb08)?'-':_0x4d18af['hodWj'](_0x4d18af[_0x380c0e(0x248)](Number,_0x5d32e6),0x1),_0x1e3887=[{'$project':{'_id':0x1,'userIsActive':0x1,'userId':0x1,'username':0x1,'userFullname':{'$concat':[_0x4d18af[_0x380c0e(0x1dc)],'\x20',_0x4d18af[_0x380c0e(0x198)],'\x20',_0x4d18af[_0x380c0e(0x28f)]]},'userAuthority':0x1,'branchId':0x1,'canDelete':0x1,'changesHistoryCount':{'$size':{'$ifNull':[_0x4d18af[_0x380c0e(0x283)],[]]}},'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x4badeb},'endDate':{'$toDate':_0x4d18af[_0x380c0e(0x24b)]},'unit':_0x4d18af[_0x380c0e(0x118)]}},0x0]},'then':!0x0,'else':!0x1}}}},{'$sort':{'userId':-0x1}},{'$skip':_0x38533b},{'$limit':_0x3092da}];if(_0x8a7e86){if(_0x4d18af['qRJkK'](_0x4d18af[_0x380c0e(0x1bb)],_0x4d18af['XevAL'])){const _0x136458=_0x8a7e86?new RegExp(''+_0x8a7e86,'i'):new RegExp('.*');let _0x28e55c={};_0x4d18af[_0x380c0e(0x2b5)](isNaN,_0x4d18af['uDHwV'](Number,_0x8a7e86))?_0x28e55c={'userId':{'$regex':_0x136458}}:_0x28e55c={'userId':_0x4d18af[_0x380c0e(0x259)](Number,_0x8a7e86)},_0x1e3887['unshift']({'$match':{'$or':[_0x28e55c,{'username':{'$regex':_0x136458}},{'userFirstname':{'$regex':_0x136458}}]}});}else{const _0x239e79=_0x2b9e72?function(){const _0x477765=_0x380c0e;if(_0x538fcb){const _0x46ff4e=_0x45d615[_0x477765(0x23f)](_0x504104,arguments);return _0x1b57d6=null,_0x46ff4e;}}:function(){};return _0x241d80=![],_0x239e79;}}const _0x3d3aa4=_0x316530[_0x380c0e(0x1ce)]['userAuthority'];let _0x5b4a36=await _0x470dcd[_0x380c0e(0x147)](_0x1e3887)[_0x380c0e(0x2a8)]();if(_0x4d18af[_0x380c0e(0x191)](_0x3d3aa4,'A')&&(_0x5b4a36=_0x5b4a36['filter'](_0x9fb233=>_0x9fb233[_0x380c0e(0x21f)]!=='O')),_0x56ef27)var _0x1aa2a0=await _0x470dcd['findOne']({'_id':new _0xf2dbcb(_0x56ef27)},{'projection':{'userPassword':0x0}});else var _0x1aa2a0={};if(_0x1aa2a0&&_0x4d18af['IIhGF'](Object[_0x380c0e(0x14f)](_0x1aa2a0)[_0x380c0e(0x11d)],0x0)){if(_0x4d18af['KCRUo'](_0x4d18af['orUoI'],_0x4d18af[_0x380c0e(0x18e)]))_0x531f49=_0x271097;else{const _0xe5f27=_0x316530[_0x380c0e(0x131)](_0x4d18af[_0x380c0e(0x122)]);_0xe5f27&&_0x4d18af['WvSdo'](_0xe5f27[_0x380c0e(0x11d)],0x0)&&(_0x1aa2a0={..._0xe5f27[0x0]});}}const _0x2846fa=await j[_0x380c0e(0x1dd)](_0x4d18af[_0x380c0e(0x1e9)],_0x39d4c8,{'title':PAGE_MANAGE_USERS,'time':C[_0x380c0e(0x1a4)](),'msg':_0x316530[_0x380c0e(0x131)](_0x4d18af[_0x380c0e(0x244)]),'user':await M[_0x380c0e(0x19b)](_0x316530),'settings':await j[_0x380c0e(0x264)](),'load_id':_0x56ef27,'sip':_0x8a7e86,'rpp':_0x3092da,'page':_0x5d32e6,'pagePre':_0x40c4ec,'pageAct':_0x4c5968,'pageNxt':_0x4a87c1,'pageLst':_0x44eb08,'pageRedirect':b,'data':_0x5b4a36,'dataBranches':await J[_0x380c0e(0x1d8)]({'branchStatus':_0x4d18af[_0x380c0e(0x1ee)]}),'PATH_MAIN':b,'PATH_PRINT':G,'PATH_SAVE':B,'PATH_LOAD':L,'PATH_DELETE':Q,'PATH_CHANGES':V,'PREFIX':Z,'item':_0x1aa2a0});return _0x39d4c8[_0x380c0e(0x2a3)](_0x2846fa);}else return![];}catch(_0x3fa63f){if(_0x4d18af[_0x380c0e(0x204)](_0x4d18af[_0x380c0e(0x1f3)],_0x4d18af[_0x380c0e(0x1f3)])){const _0x5d2582=_0x6c0175[_0x380c0e(0x23f)](_0xabd602,arguments);return _0x1ea15b=null,_0x5d2582;}else console[_0x380c0e(0x252)](_0x3fa63f[_0x380c0e(0x245)]),_0x39d4c8[_0x380c0e(0x21e)](0x194)[_0x380c0e(0x250)](file404);}finally{_0x4d18af[_0x380c0e(0x191)](_0x4d18af[_0x380c0e(0x2a5)],_0x4d18af[_0x380c0e(0x231)])?(_0x58b398[_0x380c0e(0x252)](_0x7d6017[_0x380c0e(0x245)]),_0x1a5903['status'](0x194)['sendFile'](_0x56cda3)):_0x2ba3e5[_0x380c0e(0x284)]();}}),A[_0x3de90c(0x16d)](L,_0x246d23[_0x3de90c(0x1be)],async(_0x1717e5,_0x35e934)=>{const _0x2e234e=_0x3de90c,_0x1b12d7={'daqyU':function(_0x4d6c03,_0x14a572){return _0x4d6c03(_0x14a572);},'mgQPX':function(_0x310fd3,_0xd3d2db){return _0x310fd3===_0xd3d2db;},'SMaQv':_0x2e234e(0x2c0),'FvnHh':_0x2e234e(0x295),'olkvY':_0x2e234e(0x16f),'KbyjE':_0x2e234e(0x257),'QVIZJ':'Not\x20Found','CNUTw':function(_0x3d95bc,_0x435c77){return _0x3d95bc!==_0x435c77;},'BqNOj':_0x2e234e(0x1cf),'XykmM':function(_0x52b9f1,_0x20e987){return _0x52b9f1===_0x20e987;},'jIVsj':_0x2e234e(0x184)},_0x29a286=_0x1717e5['body'][_0x2e234e(0x1e0)],_0x1294ad=_0x1717e5[_0x2e234e(0x115)][_0x2e234e(0x2ac)],_0x14a796=_0x1b12d7['daqyU'](Number,_0x1717e5[_0x2e234e(0x115)]['rpp'])||0x14,_0xc8e681=_0x1b12d7[_0x2e234e(0x1c4)](Number,_0x1717e5['body']['page'])||0x1,_0x1cc282=b+'?sip='+_0x1294ad+_0x2e234e(0x25a)+_0x14a796+_0x2e234e(0x246)+_0xc8e681+'&load_id='+_0x29a286,_0x10aba9=new _0x8dc901(dbUrl);try{return _0x1b12d7[_0x2e234e(0x2a9)](_0x1b12d7[_0x2e234e(0x2d1)],_0x1b12d7[_0x2e234e(0x2b8)])?_0x47fde4:(await _0x10aba9['db'](dbName)[_0x2e234e(0x27e)](dbColl_users)['findOne']({'_id':new _0xf2dbcb(_0x29a286)},{'projection':{'changesHistory':0x0}})?_0x1717e5['flash'](_0x1b12d7['olkvY'],null):_0x1717e5['flash'](_0x1b12d7[_0x2e234e(0x1c0)],{'class':_0x1b12d7[_0x2e234e(0x278)],'text':new Error(_0x1b12d7[_0x2e234e(0x221)])+_0x2e234e(0x18c)+_0x29a286+'\x22'}),_0x35e934['redirect'](_0x1cc282));}catch(_0x1ab193){if(_0x1b12d7[_0x2e234e(0x292)](_0x1b12d7[_0x2e234e(0x209)],_0x1b12d7[_0x2e234e(0x209)]))_0x435190['close']();else return console['log'](_0x1ab193['message']),_0x1717e5[_0x2e234e(0x131)](_0x1b12d7[_0x2e234e(0x1c0)],{'class':_0x1b12d7[_0x2e234e(0x278)],'text':''+_0x1ab193[_0x2e234e(0x245)]}),_0x35e934[_0x2e234e(0x1ec)](_0x1cc282);}finally{_0x1b12d7['XykmM'](_0x1b12d7[_0x2e234e(0x29d)],_0x1b12d7[_0x2e234e(0x29d)])?_0x10aba9['close']():_0x4d84bd[_0x2e234e(0x284)]();}}),A[_0x3de90c(0x16d)](B,_0x246d23[_0x3de90c(0x1be)],async(_0xeab2dd,_0x4b9bc5)=>{const _0x27dc67=_0x3de90c,_0x29f5b8={'svxaD':'function\x20*\x5c(\x20*\x5c)','BoUVM':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','JitQj':function(_0x45a016,_0x413b06){return _0x45a016(_0x413b06);},'BGpHC':_0x27dc67(0x25e),'SOgSA':function(_0x53454d,_0x4aaedf){return _0x53454d+_0x4aaedf;},'xcJYH':'chain','PdTcr':_0x27dc67(0x26b),'yuEPi':function(_0x32a101){return _0x32a101();},'vFSdC':function(_0x183e7e,_0x32e202){return _0x183e7e!==_0x32e202;},'iVUcc':_0x27dc67(0x129),'gUMMn':_0x27dc67(0x213),'rudTB':function(_0x54f6b2,_0x5dafb1){return _0x54f6b2===_0x5dafb1;},'wfATc':function(_0x3d9e36,_0x13401c){return _0x3d9e36===_0x13401c;},'TXmtO':'Mhrae','BNdvY':_0x27dc67(0x234),'BuJqJ':function(_0x5b53ec,_0x3ce944,_0x938109){return _0x5b53ec(_0x3ce944,_0x938109);},'KCaNX':function(_0x23a0e4,_0xb95e0d){return _0x23a0e4>_0xb95e0d;},'CHLRq':'userFlash','dIYmH':'msg','UqiAZ':_0x27dc67(0x19a),'ChvHk':function(_0x43a80f,_0x31749f){return _0x43a80f(_0x31749f);},'tesAH':function(_0x297fdc,_0x331659){return _0x297fdc+_0x331659;},'TssXp':_0x27dc67(0x28e),'cIoLb':_0x27dc67(0x2c5),'EAoyR':_0x27dc67(0x285),'HZfSt':'red','nNyjg':_0x27dc67(0x1bd),'UeMoD':function(_0x2c064c,_0x3c5448){return _0x2c064c(_0x3c5448);},'rLUIr':_0x27dc67(0x226),'YYnIt':function(_0x27f6da,_0x4c8695){return _0x27f6da!==_0x4c8695;},'PHedd':_0x27dc67(0x27f),'TYeaL':_0x27dc67(0x2a2),'ocbhr':function(_0x55e35b,_0x4b929f){return _0x55e35b!==_0x4b929f;},'Zcdtn':_0x27dc67(0x20b),'tAYtS':_0x27dc67(0x241),'nTaje':'อีเมล/ชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','FpIgg':function(_0x161cf9,_0x33c706){return _0x161cf9==_0x33c706;},'gfEwm':'active','PGnJI':function(_0x48b354,_0x2651fb){return _0x48b354==_0x2651fb;},'yVKqj':function(_0x2370de,_0x47a995){return _0x2370de==_0x47a995;},'lIYHf':function(_0x4a4512,_0x1e5c64){return _0x4a4512==_0x1e5c64;},'pEwTM':_0x27dc67(0x132),'xzEDE':_0x27dc67(0x22a),'JNsrt':_0x27dc67(0x237),'FKOju':_0x27dc67(0x1fa),'oVXNx':function(_0x4caa72,_0x335be5){return _0x4caa72===_0x335be5;},'zpJFy':_0x27dc67(0x20e),'rQlxO':_0x27dc67(0x2ab),'lBARv':function(_0xb1835a,_0x2c09b7){return _0xb1835a==_0x2c09b7;},'orDIj':function(_0x25c11b,_0x2c391c){return _0x25c11b!==_0x2c391c;},'iRRWk':_0x27dc67(0x22d),'XXVIB':_0x27dc67(0x1bc),'rvLxl':function(_0x2ce811,_0x283b01){return _0x2ce811<_0x283b01;},'yqRgH':_0x27dc67(0x2cc),'xOEMv':_0x27dc67(0x247),'XrDpD':function(_0x23a05b,_0x4f9303){return _0x23a05b===_0x4f9303;},'bowcn':'avEBO','zfmpu':'อีเมลหรือชื่อผู้ใช้{{sep}}มีอยู่ในระบบแล้ว','yooaG':_0x27dc67(0x181),'McZwc':'เกิดข้อผิดพลาดขณะเพิ่ม/ส่งอีเมลไปยังผู้ใช้ใหม่','ccMYP':_0x27dc67(0x1c9),'nfuuF':_0x27dc67(0x144),'DPMgb':_0x27dc67(0x116),'VGfJN':function(_0x4c48ee){return _0x4c48ee();}},_0x1c415b=[];let _0x54aee8=!0x1;const _0x4b6841=async()=>{const _0x46ab01=_0x27dc67,_0x36aa69={'nvLNs':function(_0x32f522,_0x1c6a3d){const _0x2b1c4e=_0x1861;return _0x29f5b8[_0x2b1c4e(0x20d)](_0x32f522,_0x1c6a3d);}};if(_0x29f5b8[_0x46ab01(0x2a0)](_0x29f5b8[_0x46ab01(0x199)],_0x29f5b8[_0x46ab01(0x16b)])){if(_0x29f5b8[_0x46ab01(0x1ad)](_0x1c415b[_0x46ab01(0x11d)],0x0)){if(_0x29f5b8[_0x46ab01(0x1b6)](_0x29f5b8[_0x46ab01(0x142)],_0x29f5b8[_0x46ab01(0x14e)])){const _0x4b2133=new _0x25ce44(GFsVSx[_0x46ab01(0x2b6)]),_0x2301b3=new _0x4b0e8a(GFsVSx[_0x46ab01(0x187)],'i'),_0x5deedb=GFsVSx[_0x46ab01(0x20d)](_0x4ca33c,GFsVSx[_0x46ab01(0x149)]);!_0x4b2133[_0x46ab01(0x2e1)](GFsVSx['SOgSA'](_0x5deedb,GFsVSx[_0x46ab01(0x16a)]))||!_0x2301b3[_0x46ab01(0x2e1)](GFsVSx[_0x46ab01(0x18a)](_0x5deedb,GFsVSx[_0x46ab01(0x11e)]))?GFsVSx[_0x46ab01(0x20d)](_0x5deedb,'0'):GFsVSx['yuEPi'](_0x34e556);}else{_0x54aee8=!0x1;return;}}_0x54aee8=!0x0;const {req:_0xd18c00,res:_0x1ae17a}=_0x1c415b[_0x46ab01(0x277)]();await _0x29f5b8[_0x46ab01(0x208)](_0x3532b4,_0xd18c00,_0x1ae17a),_0x29f5b8['yuEPi'](_0x4b6841);}else{if(_0x573814)return _0x566ce1;else OFxDqT[_0x46ab01(0x119)](_0x3683a6,0x0);}},_0x3532b4=async(_0x3cff61,_0x593f4d)=>{const _0x287cec=_0x27dc67,_0x420b99={'TtXaq':function(_0x4c802d,_0x50a74e){const _0x11ede9=_0x1861;return _0x29f5b8[_0x11ede9(0x1d5)](_0x4c802d,_0x50a74e);},'MIMAG':function(_0x4acb11,_0xec9eb7){const _0x5771dc=_0x1861;return _0x29f5b8[_0x5771dc(0x18a)](_0x4acb11,_0xec9eb7);},'suOUy':function(_0x5183c3,_0x1c7167){return _0x29f5b8['tesAH'](_0x5183c3,_0x1c7167);},'XqWyz':_0x29f5b8[_0x287cec(0x160)],'DbjJA':_0x29f5b8[_0x287cec(0x267)],'iouDc':_0x29f5b8[_0x287cec(0x123)],'Gkkth':_0x29f5b8[_0x287cec(0x117)],'xfWkR':_0x29f5b8[_0x287cec(0x2b3)]};if(_0x29f5b8[_0x287cec(0x2a0)](_0x29f5b8['nNyjg'],_0x29f5b8['nNyjg'])){const _0x4af315=_0x162379[_0x287cec(0x27a)][_0x287cec(0x12a)][_0x287cec(0x1cb)](_0xd75604),_0x1f93e5=_0x42a386[_0x52fdf0],_0xd7bb27=_0x1230ef[_0x1f93e5]||_0x4af315;_0x4af315[_0x287cec(0x236)]=_0x566efb[_0x287cec(0x1cb)](_0x57f608),_0x4af315[_0x287cec(0x26c)]=_0xd7bb27[_0x287cec(0x26c)][_0x287cec(0x1cb)](_0xd7bb27),_0x4c7016[_0x1f93e5]=_0x4af315;}else{const _0x42d946=_0x3cff61[_0x287cec(0x115)][_0x287cec(0x1d2)];delete _0x3cff61[_0x287cec(0x115)][_0x287cec(0x1d2)];const _0x406dd5=_0x3cff61[_0x287cec(0x115)][_0x287cec(0x2ac)],_0x229699=_0x29f5b8[_0x287cec(0x201)](Number,_0x3cff61[_0x287cec(0x115)][_0x287cec(0x171)])||0x14,_0x2a70b5=_0x29f5b8[_0x287cec(0x20d)](Number,_0x3cff61[_0x287cec(0x115)][_0x287cec(0x148)])||0x1;delete _0x3cff61['body'][_0x287cec(0x171)],delete _0x3cff61[_0x287cec(0x115)]['sip'],delete _0x3cff61[_0x287cec(0x115)][_0x287cec(0x148)],_0x3cff61['body'][_0x287cec(0x163)]=_0x3cff61[_0x287cec(0x115)]['userId']?_0x29f5b8['UeMoD'](Number,_0x3cff61['body'][_0x287cec(0x163)]):_0x3cff61[_0x287cec(0x115)][_0x287cec(0x163)],_0x3cff61[_0x287cec(0x115)][_0x287cec(0x216)]=_0x3cff61[_0x287cec(0x115)][_0x287cec(0x216)]?_0x29f5b8[_0x287cec(0x201)](Number,_0x3cff61[_0x287cec(0x115)][_0x287cec(0x216)]):_0x3cff61['body'][_0x287cec(0x216)];const _0x5dfb3f=_0x3cff61[_0x287cec(0x115)][_0x287cec(0x155)]?.[_0x287cec(0x138)](),_0xaa9e84=_0x3cff61[_0x287cec(0x115)]['userEmail']?.['trim'](),_0x2abebc=_0x3cff61[_0x287cec(0x115)]['userId'],_0x34bfca=''+b,_0x5d65d6=b+'?sip='+_0x406dd5+_0x287cec(0x25a)+_0x229699+_0x287cec(0x246)+_0x2a70b5+_0x287cec(0x2d4)+_0x42d946;if(!new RegExp(USERNAME_PATTERN)[_0x287cec(0x2e1)](_0x5dfb3f))return _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61[_0x287cec(0x115)]),_0x3cff61[_0x287cec(0x131)](_0x29f5b8['dIYmH'],{'class':_0x29f5b8[_0x287cec(0x2b3)],'text':USERNAME_DESCRIPTION}),_0x593f4d['redirect'](_0x5d65d6);if(_0xaa9e84&&!new RegExp(EMAIL_PATTERN)[_0x287cec(0x2e1)](_0xaa9e84))return _0x3cff61['flash'](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61['body']),_0x3cff61['flash'](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x2b3)],'text':_0x29f5b8[_0x287cec(0x1f6)]}),_0x593f4d[_0x287cec(0x1ec)](_0x5d65d6);const _0x5b5b8=new _0x8dc901(dbUrl);try{if(_0x29f5b8[_0x287cec(0x2de)](_0x29f5b8['PHedd'],_0x29f5b8[_0x287cec(0x251)])){await _0x5b5b8['connect']();const _0x395a73=_0x5b5b8['db'](dbName),_0x426b2b=_0x395a73[_0x287cec(0x27e)](dbColl_users);if(_0x42d946){if(_0x29f5b8[_0x287cec(0x1ea)](_0x29f5b8['Zcdtn'],_0x29f5b8[_0x287cec(0x174)])){var _0x2a2d28=await _0x426b2b[_0x287cec(0x1ff)]({'_id':{'$ne':new _0xf2dbcb(_0x42d946)},'$or':[{'userEmail':{'$regex':new RegExp('^'+_0xaa9e84+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x5dfb3f+'$','i')}},{'userId':_0x2abebc}]});if(_0x2a2d28)return _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61[_0x287cec(0x115)]),_0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x2b3)],'text':_0x29f5b8[_0x287cec(0x1ab)]}),_0x593f4d['redirect'](_0x5d65d6);const _0x6f3fa4=await _0x426b2b['findOne']({'_id':new _0xf2dbcb(_0x42d946)}),_0x1a602e=[_0x29f5b8[_0x287cec(0x159)](_0x3cff61[_0x287cec(0x115)][_0x287cec(0x2ba)],_0x29f5b8['gfEwm']),_0x29f5b8[_0x287cec(0x17f)](_0x6f3fa4[_0x287cec(0x155)],_0x3cff61[_0x287cec(0x115)]['username']),_0x29f5b8[_0x287cec(0x2a6)](_0x6f3fa4['userEmail'],_0x3cff61[_0x287cec(0x115)][_0x287cec(0x153)]),_0x29f5b8[_0x287cec(0x159)](_0x6f3fa4['userAuthority'],_0x3cff61['body'][_0x287cec(0x21f)]),_0x29f5b8[_0x287cec(0x2a6)](_0x6f3fa4[_0x287cec(0x216)],_0x3cff61[_0x287cec(0x115)]['branchId'])],_0x2b8cf9={'$set':_0x3cff61[_0x287cec(0x115)]},_0x429173=await _0x426b2b['updateOne']({'_id':new _0xf2dbcb(_0x42d946)},_0x2b8cf9,{'upsert':!0x1});if(_0x429173[_0x287cec(0x120)]&&_0x29f5b8[_0x287cec(0x2c6)](_0x429173[_0x287cec(0x2b9)],0x1)){if(_0x29f5b8[_0x287cec(0x1ea)](_0x29f5b8[_0x287cec(0x135)],_0x29f5b8[_0x287cec(0x29a)])){const _0x56c064=M[_0x287cec(0x19b)](_0x3cff61);let _0x29e875='อัปเดท\x20\x22'+_0x2abebc+_0x287cec(0x2bc);const _0x1318eb=J[_0x287cec(0x293)](_0x6f3fa4,_0x3cff61[_0x287cec(0x115)]);if(_0x1318eb&&_0x29f5b8[_0x287cec(0x1b1)](_0x1318eb['length'],0x0)){if(_0x29f5b8[_0x287cec(0x2a0)](_0x29f5b8[_0x287cec(0x298)],_0x29f5b8[_0x287cec(0x298)]))_0x35a0dd[_0x287cec(0x284)]();else{const _0x5affe5={'dateTime':C[_0x287cec(0x222)](),'userId':_0x56c064[_0x287cec(0x163)],'userFullname':_0x56c064[_0x287cec(0x1ca)],'changes':_0x1318eb};await _0x426b2b['updateOne']({'userId':_0x2abebc},{'$push':{'changesHistory':{'$each':[_0x5affe5],'$position':0x0}}}),_0x29e875+=_0x29f5b8[_0x287cec(0x1ef)];}}if(_0x1a602e['includes'](!0x1)){if(_0x29f5b8['oVXNx'](_0x29f5b8[_0x287cec(0x261)],_0x29f5b8[_0x287cec(0x261)])){const _0x326e24=await _0x395a73[_0x287cec(0x27e)](global['dbColl_sessions'])[_0x287cec(0x195)]({'session.user_id':_0x42d946});_0x326e24[_0x287cec(0x120)]&&_0x29f5b8[_0x287cec(0x1b1)](_0x326e24[_0x287cec(0x21b)],0x0)?_0x29e875+=_0x287cec(0x266)+_0x326e24[_0x287cec(0x21b)]+'\x22\x20เรียบร้อยแล้ว\x20)':_0x29e875+=_0x29f5b8[_0x287cec(0x228)];}else _0x4a356b=MqHlHU['TtXaq'](_0x5b1784,MqHlHU['MIMAG'](MqHlHU[_0x287cec(0x1f2)](MqHlHU[_0x287cec(0x2a1)],MqHlHU[_0x287cec(0x289)]),');'))();}if(_0x1a602e[_0x287cec(0x281)](!0x1)&&_0x29f5b8['lBARv'](_0x56c064[_0x287cec(0x2aa)],_0x42d946)){if(_0x29f5b8[_0x287cec(0x19e)](_0x29f5b8[_0x287cec(0x22e)],_0x29f5b8[_0x287cec(0x186)])){_0x3cff61[_0x287cec(0x1ce)]['destroy'](_0x27dc48=>(_0x27dc48&&console[_0x287cec(0x252)](_0x287cec(0x114),_0x27dc48),_0x593f4d[_0x287cec(0x1ec)]('/')));return;}else{const _0x247491=_0x594926[_0x287cec(0x24e)][_0x287cec(0x26c)](),_0x2d281e=_0x665eb0+_0x287cec(0x1d1)+_0x1c4b5b+'&rpp='+_0x5b39eb+_0x287cec(0x246)+_0x2bc9f9+'&load_id='+_0x247491,_0x28d099={..._0x2b6979['body']};if(delete _0x28d099[_0x287cec(0x1b3)],_0x3fdd86[_0x287cec(0x281)]('@')&&_0x29eebf[_0x287cec(0x281)]('.')&&_0x29f5b8[_0x287cec(0x1b1)](_0x50d9d2['length'],0x5))_0x53ec55[_0x287cec(0x161)](_0x28d099,_0x431192)['then'](_0x452721=>(_0x12a1e1[_0x287cec(0x131)](_0x287cec(0x16f),{'class':'green','text':_0x287cec(0x1fc)+_0x2ed694+_0x287cec(0x172)+_0x452721[_0x287cec(0x2ca)]+')'}),_0x3b9ab[_0x287cec(0x1ec)](_0x2d281e)))[_0x287cec(0x166)](_0x46092c=>(_0x27928c['flash']('userFlash',_0x41643e[_0x287cec(0x115)]),_0x50b8cb[_0x287cec(0x131)]('msg',{'class':'red','text':''+_0x46092c['message']}),_0x4020c5[_0x287cec(0x1ec)](_0x2d281e)));else return _0x46a74f[_0x287cec(0x131)](_0x29f5b8['CHLRq'],_0x540bcd[_0x287cec(0x115)]),_0x473805[_0x287cec(0x131)](_0x29f5b8['dIYmH'],{'class':_0x29f5b8['UqiAZ'],'text':_0x287cec(0x255)+_0x11684b}),_0x3cd49a['redirect'](_0x2d281e);}}else return _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x146)],'text':_0x29e875}),_0x593f4d['redirect'](_0x5d65d6);}else _0x3a9d0e[_0x287cec(0x284)]();}else return _0x429173[_0x287cec(0x120)]&&(_0x29f5b8[_0x287cec(0x1cc)](_0x429173['modifiedCount'],0x1)||_0x29f5b8[_0x287cec(0x1cc)](_0x429173[_0x287cec(0x24c)],0x1))?(_0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x15c)],'text':'\x22'+_0x2abebc+_0x287cec(0x1f7)}),_0x593f4d[_0x287cec(0x1ec)](_0x5d65d6)):(_0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61[_0x287cec(0x115)]),_0x3cff61['flash'](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x2b3)],'text':new Error(_0x29f5b8[_0x287cec(0x282)])+_0x287cec(0x18c)+_0x2abebc+'\x22'}),_0x593f4d[_0x287cec(0x1ec)](_0x5d65d6));}else{if(_0x46a45f){const _0x45e5f0=_0x39d546['apply'](_0x580f89,arguments);return _0x4a3aa3=null,_0x45e5f0;}}}else{if(_0x29f5b8['XrDpD'](_0x29f5b8[_0x287cec(0x125)],_0x29f5b8[_0x287cec(0x125)])){if(await _0x426b2b[_0x287cec(0x1ff)]({'$or':[{'userEmail':{'$regex':new RegExp('^'+_0xaa9e84+'$','i')}},{'username':{'$regex':new RegExp('^'+_0x5dfb3f+'$','i')}}]}))return _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61[_0x287cec(0x115)]),_0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8['HZfSt'],'text':_0x29f5b8[_0x287cec(0x20c)]}),_0x593f4d['redirect'](_0x5d65d6);const _0x17ec9c=await _0x426b2b[_0x287cec(0x1e1)]({},{'projection':{'userId':0x1}})['sort']({'userId':-0x1})['limit'](0x1)[_0x287cec(0x2a8)](),_0x4c705f=_0x29f5b8[_0x287cec(0x1b1)](_0x17ec9c[_0x287cec(0x11d)],0x0)?_0x29f5b8[_0x287cec(0x1a1)](_0x17ec9c[0x0][_0x287cec(0x163)],0x1):0x3e8;_0x3cff61[_0x287cec(0x115)][_0x287cec(0x163)]=_0x4c705f,_0x3cff61['body']['dateTimeCanDelete']=C[_0x287cec(0x222)](0x5a0);const _0x584517=j[_0x287cec(0x17a)]();_0x3cff61[_0x287cec(0x115)]['userPassword']=await _0x516745[_0x287cec(0x14b)](_0x584517,global['BCRYPT_NUMBER']);const _0xfd795b=await _0x426b2b[_0x287cec(0x141)](_0x3cff61[_0x287cec(0x115)]);if(_0xfd795b[_0x287cec(0x120)]&&_0xfd795b[_0x287cec(0x24e)]){if(_0x29f5b8['vFSdC'](_0x29f5b8[_0x287cec(0x23c)],_0x29f5b8[_0x287cec(0x23c)]))return _0x2453ee['log'](_0x420b99[_0x287cec(0x1a7)],_0x5e24b4),_0xe84689['flash'](_0x420b99[_0x287cec(0x1eb)],{'class':_0x420b99[_0x287cec(0x197)],'text':_0x5e685d[_0x287cec(0x245)]}),_0x1efc44[_0x287cec(0x1ec)](_0x405268);else{const _0x2ea406=_0xfd795b[_0x287cec(0x24e)][_0x287cec(0x26c)](),_0x21ef56=b+_0x287cec(0x1d1)+_0x406dd5+_0x287cec(0x25a)+_0x229699+_0x287cec(0x246)+_0x2a70b5+'&load_id='+_0x2ea406,_0x1a5ecb={..._0x3cff61[_0x287cec(0x115)]};if(delete _0x1a5ecb['userPassword'],_0xaa9e84[_0x287cec(0x281)]('@')&&_0xaa9e84[_0x287cec(0x281)]('.')&&_0x29f5b8[_0x287cec(0x1b1)](_0xaa9e84[_0x287cec(0x11d)],0x5))W['sendRegisterUserEmail'](_0x1a5ecb,_0x584517)[_0x287cec(0x1c6)](_0x2ed952=>(_0x3cff61[_0x287cec(0x131)](_0x287cec(0x16f),{'class':_0x287cec(0x19a),'text':_0x287cec(0x1fc)+_0xaa9e84+_0x287cec(0x172)+_0x2ed952[_0x287cec(0x2ca)]+')'}),_0x593f4d[_0x287cec(0x1ec)](_0x21ef56)))[_0x287cec(0x166)](_0x38f54f=>(_0x3cff61[_0x287cec(0x131)](_0x287cec(0x2e2),_0x3cff61[_0x287cec(0x115)]),_0x3cff61[_0x287cec(0x131)]('msg',{'class':_0x287cec(0x257),'text':''+_0x38f54f[_0x287cec(0x245)]}),_0x593f4d[_0x287cec(0x1ec)](_0x21ef56)));else return _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x12b)],_0x3cff61[_0x287cec(0x115)]),_0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8['UqiAZ'],'text':_0x287cec(0x255)+_0xaa9e84}),_0x593f4d[_0x287cec(0x1ec)](_0x21ef56);}}else _0x3cff61[_0x287cec(0x131)](_0x29f5b8[_0x287cec(0x117)],{'class':_0x29f5b8[_0x287cec(0x2b3)],'text':_0x29f5b8[_0x287cec(0x1cd)]}),_0x593f4d['redirect'](_0x34bfca);}else{const _0x379c95=_0xb8b6c0['apply'](_0x59d838,arguments);return _0x333bae=null,_0x379c95;}}}else _0x2b8abd[_0x287cec(0x284)]();}catch(_0x2acf22){_0x29f5b8[_0x287cec(0x1ad)](_0x29f5b8[_0x287cec(0x1b7)],_0x29f5b8[_0x287cec(0x1b7)])?(console[_0x287cec(0x252)](_0x29f5b8['EAoyR'],_0x2acf22),_0x593f4d['status'](0x194)[_0x287cec(0x250)](file404)):_0x90f889['close']();}finally{if(_0x29f5b8[_0x287cec(0x1b6)](_0x29f5b8[_0x287cec(0x23e)],_0x29f5b8[_0x287cec(0x24d)]))return _0x213165[_0x287cec(0x252)](_0x55eb7d['message']),_0x2a0c11[_0x287cec(0x131)](_0x420b99[_0x287cec(0x1eb)],{'class':_0x420b99[_0x287cec(0x197)],'text':''+_0x2e22ee['message']}),_0x2758d6[_0x287cec(0x1ec)](_0x4e636e);else _0x5b5b8['close']();}}};_0x1c415b[_0x27dc67(0x2bd)]({'req':_0xeab2dd,'res':_0x4b9bc5}),_0x54aee8||_0x29f5b8[_0x27dc67(0x2c4)](_0x4b6841);}),A['post'](Q,_0x246d23['isOS'],async(_0x2f41f2,_0xac94fa)=>{const _0x497678=_0x3de90c,_0x491119={'HbIpW':function(_0x1c5276,_0x5832ba){return _0x1c5276(_0x5832ba);},'cAmbq':function(_0x2f4f2d,_0x2955b9){return _0x2f4f2d(_0x2955b9);},'RpGjt':_0x497678(0x285),'HIwiX':'userFlash','VayPd':function(_0xa914db,_0x56f06e){return _0xa914db>_0x56f06e;},'FhiBK':function(_0x44e9db,_0x2baec9){return _0x44e9db!=_0x2baec9;},'HufOK':function(_0x53d0b1,_0x27d3d4){return _0x53d0b1!==_0x27d3d4;},'BcAlL':_0x497678(0x291),'dsRNB':_0x497678(0x162),'HcxMw':_0x497678(0x163),'AJSBH':_0x497678(0x128),'YaMKb':'msg','HHmyD':'red','mWIeF':function(_0x34d1f5,_0x36096b){return _0x34d1f5===_0x36096b;},'qCbhC':function(_0x15ef11,_0x596c68){return _0x15ef11===_0x596c68;},'hqtDf':_0x497678(0x265),'GrSsh':_0x497678(0x249),'sgqwf':function(_0x480b1d,_0x34aa8d){return _0x480b1d>_0x34aa8d;},'rKJvp':_0x497678(0x2ab),'oIHea':_0x497678(0x19a),'fZxpZ':_0x497678(0x121)};let {_id_toDelete:_0x2e5bfd,load_id:_0x3906b5,sip:_0x3e9a4f,Id_toDelete:_0x1e6774}=_0x2f41f2[_0x497678(0x115)];const _0x202fa1=_0x491119[_0x497678(0x12f)](Number,_0x2f41f2[_0x497678(0x115)]['rpp'])||0x14,_0x294075=_0x491119['cAmbq'](Number,_0x2f41f2['body'][_0x497678(0x148)])||0x1;_0x1e6774=_0x491119[_0x497678(0x130)](Number,_0x1e6774);const _0x3e450f=_0x2e5bfd&&_0x491119[_0x497678(0x230)](_0x2e5bfd,_0x3906b5)?_0x497678(0x2d4)+_0x2e5bfd:'',_0x3c3202=b+_0x497678(0x1d1)+_0x3e9a4f+_0x497678(0x25a)+_0x202fa1+_0x497678(0x246)+_0x294075+_0x3e450f,_0x58e5e7=new _0x8dc901(global[_0x497678(0x2d0)]);try{if(_0x491119[_0x497678(0x2c8)](_0x491119['BcAlL'],_0x491119[_0x497678(0x2d2)])){await _0x58e5e7[_0x497678(0x1c7)]();const _0xd99661=_0x58e5e7['db'](global['dbName']),_0x4fcadd=_0xd99661['collection'](global[_0x497678(0x287)]),_0x2863e0=[{'coll':_0xd99661['collection'](global[_0x497678(0x29e)]),'name':global['dbColl_warehouseIn'],'key':_0x491119[_0x497678(0x23b)]},{'coll':_0xd99661['collection'](global[_0x497678(0x1b0)]),'name':global[_0x497678(0x1b0)],'key':_0x491119[_0x497678(0x23b)]},{'coll':_0xd99661[_0x497678(0x27e)](global[_0x497678(0x229)]),'name':global[_0x497678(0x229)],'key':_0x491119[_0x497678(0x23b)]},{'coll':_0xd99661[_0x497678(0x27e)](global[_0x497678(0x207)]),'name':global[_0x497678(0x207)],'key':_0x491119['HcxMw']}];for(const {coll:_0x277f1f,name:_0x1856da,key:_0x39e2c3}of _0x2863e0){if(_0x491119[_0x497678(0x2c8)](_0x491119[_0x497678(0x29f)],_0x491119[_0x497678(0x29f)]))GjyZzA['HbIpW'](_0x1131f7,'0');else{const _0x35684c={};if(_0x35684c[_0x39e2c3]=_0x1e6774,await _0x277f1f[_0x497678(0x1ff)](_0x35684c))return await _0x4fcadd[_0x497678(0x134)]({'userId':_0x1e6774},{'$set':{'canDelete':!0x1}}),_0x2f41f2['flash'](_0x491119['YaMKb'],{'class':_0x491119[_0x497678(0x1e7)],'text':'ไอเท็ม\x20\x22'+_0x1e6774+'\x22\x20มีอยู่ในเอกสาร\x20'+_0x1856da+_0x497678(0x29b)}),_0xac94fa[_0x497678(0x1ec)](_0x3c3202);_0x2f41f2[_0x497678(0x131)](_0x491119[_0x497678(0x145)],{'class':_0x491119[_0x497678(0x1e7)],'text':_0x497678(0x193)+_0x1e6774+_0x497678(0x136)});}}if(_0x491119['mWIeF']((await _0x4fcadd[_0x497678(0x223)]({'_id':new _0xf2dbcb(_0x2e5bfd)}))[_0x497678(0x21b)],0x1)){if(_0x491119[_0x497678(0x2d8)](_0x491119[_0x497678(0x1c1)],_0x491119[_0x497678(0x1f0)]))GjyZzA[_0x497678(0x12f)](_0x1afcb2,0x0);else{const _0x42ebea=await _0xd99661[_0x497678(0x27e)](global['dbColl_sessions'])['deleteMany']({'session.user_id':_0x2e5bfd});if(_0x42ebea[_0x497678(0x120)]&&_0x491119[_0x497678(0x1e6)](_0x42ebea[_0x497678(0x21b)],0x0))var _0x50b555=_0x497678(0x266)+_0x42ebea[_0x497678(0x21b)]+_0x497678(0x1de);else var _0x50b555=_0x491119[_0x497678(0x2bb)];return _0x2f41f2['flash'](_0x491119[_0x497678(0x145)],{'class':_0x491119['oIHea'],'text':'ลบยูสเซอร์\x20\x22'+_0x1e6774+'\x22\x20เรียบร้อยแล้ว'+_0x50b555}),_0xac94fa[_0x497678(0x1ec)](_0x3c3202);}}else return _0x2f41f2[_0x497678(0x131)](_0x491119[_0x497678(0x145)],{'class':_0x491119['HHmyD'],'text':_0x497678(0x193)+_0x1e6774+_0x497678(0x215)}),_0xac94fa[_0x497678(0x1ec)](_0x3c3202);}else _0x32fa10['log'](_0x491119['RpGjt'],_0x11ad66),_0x2fad2f[_0x497678(0x21e)](0x194)[_0x497678(0x250)](_0x5e6abd);}catch(_0x1080b1){if(_0x491119['HufOK'](_0x491119[_0x497678(0x150)],_0x491119[_0x497678(0x150)])){const _0x515bea=_0x4a0a23[_0x497678(0x131)](_0x491119['HIwiX']);_0x515bea&&_0x491119[_0x497678(0x165)](_0x515bea[_0x497678(0x11d)],0x0)&&(_0x312b23={..._0x515bea[0x0]});}else return console[_0x497678(0x252)](_0x491119[_0x497678(0x1a2)],_0x1080b1),_0x2f41f2[_0x497678(0x131)](_0x491119[_0x497678(0x145)],{'class':_0x491119[_0x497678(0x1e7)],'text':_0x1080b1['message']}),_0xac94fa[_0x497678(0x1ec)](_0x3c3202);}finally{_0x58e5e7['close']();}}),A[_0x3de90c(0x16d)](G,_0x246d23[_0x3de90c(0x1be)],async(_0x4a4775,_0x2651cf)=>{const _0xd09e60=_0x3de90c,_0x353b57={'SpwYT':'branchId','GVezf':_0xd09e60(0x21d),'xyYey':'$branchInfo.branchName','MeepY':function(_0x2c2749,_0x5d6dbf){return _0x2c2749==_0x5d6dbf;},'QGetM':_0xd09e60(0x257),'WQMrh':_0xd09e60(0x167),'hGakp':_0xd09e60(0x2d5),'nIFmz':'utf8','kZZVe':_0xd09e60(0x19a),'DcTPr':'error\x20===>\x20'},{_idArr:_0x2b0cfc}=_0x4a4775[_0xd09e60(0x115)],_0x3f1ce4=new _0x8dc901(dbUrl);try{await _0x3f1ce4[_0xd09e60(0x1c7)]();const _0x14408c=await _0x3f1ce4['db'](dbName)[_0xd09e60(0x27e)](dbColl_users)['aggregate']([{'$match':{'_id':{'$in':_0x2b0cfc['map'](_0x5a401c=>new _0xf2dbcb(_0x5a401c))}}},{'$lookup':{'from':global[_0xd09e60(0x271)],'localField':_0x353b57['SpwYT'],'foreignField':_0x353b57[_0xd09e60(0x240)],'as':_0x353b57[_0xd09e60(0x1aa)]}},{'$addFields':{'branchName':{'$ifNull':[{'$arrayElemAt':[_0x353b57[_0xd09e60(0x270)],0x0]},'']}}},{'$project':{'branchInfo':0x0}}])[_0xd09e60(0x2a8)]();if(_0x353b57[_0xd09e60(0x180)](_0x14408c['length'],0x0))return _0x2651cf[_0xd09e60(0x2a3)](JSON[_0xd09e60(0x1a5)]({'isPrint':!0x1,'class':_0x353b57[_0xd09e60(0x13b)],'msg':_0x353b57[_0xd09e60(0x24f)]}));const _0x287650=_0x17f8a0[_0xd09e60(0x2b2)](global[_0xd09e60(0x127)],_0x353b57['hGakp']),_0x141944=_0x1cfd7c[_0xd09e60(0x22b)](_0x287650,_0x353b57[_0xd09e60(0x205)]),_0x52c4eb=_0xe7798[_0xd09e60(0x2cb)](_0x141944,{'time':C[_0xd09e60(0x1a4)](),'title':_0xd09e60(0x2a7)+_0x14408c[_0xd09e60(0x11d)]+')','dateTime':C[_0xd09e60(0x222)](),'usersFind':_0x14408c});_0x2651cf[_0xd09e60(0x2a3)](JSON['stringify']({'isPrint':!0x0,'class':_0x353b57[_0xd09e60(0x20a)],'msg':_0xd09e60(0x220)+_0x14408c[_0xd09e60(0x11d)]+_0xd09e60(0x219),'htmlPage':_0x52c4eb}));}catch(_0xe7e95f){console[_0xd09e60(0x252)](_0x353b57['DcTPr'],_0xe7e95f['message']),_0x2651cf['send'](JSON[_0xd09e60(0x1a5)]({'isPrint':!0x1,'class':_0x353b57[_0xd09e60(0x13b)],'msg':_0xe7e95f[_0xd09e60(0x245)]}));}finally{_0x3f1ce4[_0xd09e60(0x284)]();}}),A[_0x3de90c(0x16d)](V,_0x246d23[_0x3de90c(0x1be)],async(_0x1ec6b0,_0x1295b9)=>{const _0x3d22ae=_0x3de90c,_0x7369ad={'kmAEE':function(_0x126c51,_0x5ef0e4){return _0x126c51(_0x5ef0e4);},'yIaWw':_0x3d22ae(0x257),'gkOop':function(_0x594511,_0x43795b){return _0x594511<_0x43795b;},'HGjne':_0x3d22ae(0x2cc),'CknxF':_0x3d22ae(0x1d4),'COeJA':'doc_changes.ejs','XSHua':_0x3d22ae(0x19a),'RmJxa':'error\x20===>\x20'};let {userId:_0x4de5c0}=_0x1ec6b0[_0x3d22ae(0x115)];_0x4de5c0=_0x7369ad[_0x3d22ae(0x12e)](Number,_0x4de5c0);const _0x3c8438=new _0x8dc901(global[_0x3d22ae(0x2d0)]);try{await _0x3c8438[_0x3d22ae(0x1c7)]();var _0xc81a16=await _0x3c8438['db'](global['dbName'])['collection'](global[_0x3d22ae(0x287)])[_0x3d22ae(0x1ff)]({'userId':_0x4de5c0});if(!_0xc81a16)return _0x1295b9[_0x3d22ae(0x2a3)](JSON['stringify']({'isPrint':!0x1,'class':_0x7369ad[_0x3d22ae(0x12c)],'msg':_0x3d22ae(0x193)+_0x4de5c0+'\x22'}));const _0xe0dacf=_0xc81a16[_0x3d22ae(0x27d)]||[];if(_0x7369ad['gkOop'](_0xe0dacf[_0x3d22ae(0x11d)],0x1))return _0x1295b9[_0x3d22ae(0x2a3)](JSON['stringify']({'isPrint':!0x1,'class':_0x7369ad[_0x3d22ae(0x1f9)],'msg':_0x7369ad[_0x3d22ae(0x1ae)]}));const _0x1f9318=_0x17f8a0[_0x3d22ae(0x2b2)](folderForms,_0x7369ad[_0x3d22ae(0x1ac)]),_0x3ce88e=await j[_0x3d22ae(0x1dd)](_0x1f9318,_0x1295b9,{'title':_0x3d22ae(0x18b)+_0xc81a16[_0x3d22ae(0x163)]+']\x20'+_0xc81a16[_0x3d22ae(0x2b7)]+'\x20'+_0xc81a16[_0x3d22ae(0x1a9)]+'\x20'+_0xc81a16['userLastname'],'time':C[_0x3d22ae(0x222)](),'changesHistory':_0xe0dacf});_0x1295b9[_0x3d22ae(0x2a3)](JSON[_0x3d22ae(0x1a5)]({'isPrint':!0x0,'class':_0x7369ad[_0x3d22ae(0x133)],'htmlPage':_0x3ce88e}));}catch(_0x68c817){console['log'](_0x7369ad[_0x3d22ae(0x170)],_0x68c817),_0x1295b9[_0x3d22ae(0x2a3)](JSON[_0x3d22ae(0x1a5)]({'isPrint':!0x1,'class':_0x7369ad[_0x3d22ae(0x12c)],'msg':_0x68c817[_0x3d22ae(0x245)]}));}finally{_0x3c8438['close']();}});function _0x7ba4(){const _0x7dc575=['$dateTimeCanDelete','eCBjO','xsgtb','sgqwf','HHmyD','CcgrU','fBzTD','ocbhr','Gkkth','redirect','rHIzA','CLGWd','FKOju','GrSsh','SkGGF','suOUy','fUvSy','StFGm','QAvZj','rLUIr','\x22\x20ไม่มีอะไรเปลี่ยนแปลง','TZwrv','HGjne','{{sep}}[\x20บันทึกการแก้ไข\x20]','jVbkS','เพิ่มยูสเซอร์และส่งอิเมล์เรียบร้อยแล้ว\x20(','pYcTk','lGnSk','findOne','PTkAB','UeMoD','iPuyQ','fWzyf','KCRUo','nIFmz','YhnOP','dbColl_return','BuJqJ','BqNOj','kZZVe','xSyfi','zfmpu','JitQj','GLZbo','MfAUr','Qxnqi','OvgYk','PTpyY','xCQAu','destroy','\x22{{sep}}(\x20อาจจะถูกลบไปแล้ว\x20)','branchId','oSFMU','uZFVz','\x20ยูสเซอร์เรียบร้อยแล้ว','/myData.js','deletedCount','/myUsers.js','branchInfo','status','userAuthority','พิมพ์ข้อมูล\x20','QVIZJ','getDateTime','deleteOne','OYJLp','unshift','รูปแบบอีเมลไม่ถูกต้อง','error','rQlxO','dbColl_sales','Qngdk','readFileSync','stateObject','nsMAP','iRRWk','1015752BqmnVI','FhiBK','oEWsc','2259586JbWjmR','$changesHistory','zoafN','aPhty','__proto__','Hvcwk','vUKYZ','pKQxC','QJvun','HcxMw','yooaG','SPrBV','nfuuF','apply','SpwYT','ECbUg','hqKaN','OjhWm','QKcEE','message','&page=','Not\x20Found','ZMpLI','UtQrE','BSOAd','sWLgt','upsertedCount','DPMgb','insertedId','WQMrh','sendFile','TYeaL','log','while\x20(true)\x20{}','QqLgx','เพิ่มยูสเซอร์\x20','tjHpt','red','aeVdL','jSngL','&rpp=','3758384zLlbVc','ALwWl','hodWj','init','mhiza','htuKW','zpJFy','YDrNq','isire','getSettings','DKRLQ','{{sep}}(\x20ลบเซสชั่นทั้งหมดจำนวน\x20\x20\x22','cIoLb','qoEBB','poymI','ZcPLU','input','toString','sQnJR','debu','qgXVd','xyYey','dbColl_userBranches','manageUsers','GFYFI','KDDHB','AqafX','qXQBi','shift','KbyjE','XTWfc','constructor','ceil','ZxhgR','changesHistory','collection','vZdbH','$userPrefix','includes','xOEMv','NeUVL','close','error\x20===>\x20','/load','dbColl_users','yRKOB','DbjJA','mPjJx','urlDa','/manage/users','counter','return\x20(function()\x20','yiYxt','uBqpP','tutbw','CNUTw','getChangeHistory','lHrKn','VrgKy','minute','FuMFF','JNsrt','oUkaT','xzEDE','{{sep}}ไม่สามารถลบได้','exception','jIVsj','dbColl_warehouseIn','AJSBH','vFSdC','XqWyz','uSaqR','send','ZpiyK','NGrMv','yVKqj','ยูสเซอร์\x20(','toArray','mgQPX','user_id','{{sep}}(\x20ไม่พบเซสชั่น\x20)','sip','OEDkf','replace','gGhwt','table','PiXCr','join','HZfSt','cwJRa','fFfQm','svxaD','userPrefix','FvnHh','modifiedCount','userIsActive','rKJvp','\x22\x20เรียบร้อยแล้ว','push','vFHdG','uheNP','TQROn','DMLCI','vwDht','UEDFO','VGfJN','{}.constructor(\x22return\x20this\x22)(\x20)','lIYHf','string','HufOK','ljYOy','response','render','yellow','ZEdvM','function\x20*\x5c(\x20*\x5c)','Router','dbUrl','SMaQv','dsRNB','countDocuments','&load_id=','print_users.ejs','../','CRQTG','qCbhC','yeNlj','MCkQy','yIahk','KBVmS','qzcwa','YYnIt','get','mMeZj','test','userFlash','Session\x20destroy\x20error:\x20','body','DAKRH','dIYmH','bCszs','nvLNs','BirmV','OYSzC','gNtZs','length','PdTcr','jVyMl','acknowledged','kdYJO','sKjHY','EAoyR','warn','bowcn','console','folderForms','mdJkT','ETMbY','prototype','CHLRq','yIaWw','ypVvs','kmAEE','cAmbq','HbIpW','flash','eEiTR','XSHua','updateOne','pEwTM','\x22\x20ระหว่างการตรวจสอบการลบ','ceNWO','trim','uDHwV','IOUEv','QGetM','pIVzV','PoAQk','RGYvF','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','\x5c$&','insertOne','TXmtO','NTJAj','VjrZu','YaMKb','UqiAZ','aggregate','page','BGpHC','kAdvP','hash','9900oQGgIQ','TsioV','BNdvY','keys','fZxpZ','call','GtNCK','userEmail','lhrvO','username','3971XhdHNO','QIqej','tnHZO','FpIgg','/changes','gger','yqRgH','kFGGv','JjXtt','dGnTv','TssXp','sendRegisterUserEmail','Genbv','userId','mTaWd','VayPd','catch','ไม่มีข้อมูล','irwKE','kRfDD','xcJYH','gUMMn','action','post','MVfHo','msg','RmJxa','rpp','){{sep}}(CODE\x20:\x20','ynugK','tAYtS','ibFhT','active','VgLQS','skvhT','/mySendmail.js','generatePassword','mSkxe','JEWJD','query','OKrlv','PGnJI','MeepY','Qveph','JtVCq','qKMnS','coFnY','vtSUF','XXVIB','BoUVM','KTksy','HKrQc','SOgSA','ประวัติการแก้ไขยูสเซอร์\x20:\x20[','{{sep}}\x22','pzhvi','orUoI','2806290ovLCHP','492EAZase','IIhGF','/myModule.js','ไม่พบ\x20\x22','FEsvf','deleteMany','egFYn','xfWkR','yqrHW','iVUcc','green','getSessionData','EcGVh','BGDZR','orDIj','zfvJT','DKfux','tesAH','RpGjt','info','getDate','stringify','MqopU','iouDc','MUiQL','userFirstname','GVezf','nTaje','COeJA','rudTB','CknxF','$userLastname','dbColl_warehouseOut','KCaNX','wMhYP','userPassword','gmLmJ','NTxOG','wfATc','ccMYP','cKiwX','dQSOs','/delete','ozeGf','tvPZp','NfqOz','isOS','BPtJk','olkvY','hqtDf','281916HecFLu','OEBUu','daqyU','laAOq','then','connect','IPriG','xoZCP','userFullname','bind','rvLxl','McZwc','session','rEiaU','$userFirstname','?sip=','_id','LdKFo','ไม่พบประวัติการเปลี่ยนแปลง','ChvHk','/save','wtHAf','getUserBranches','XLDSp','uDHWF','XMSoW','bXhcO','renderView','\x22\x20เรียบร้อยแล้ว\x20)','YLdKj','load_id','find','GjJCw'];_0x7ba4=function(){return _0x7dc575;};return _0x7ba4();}function _0x1861(_0x57fcd9,_0x4918c5){const _0x594897=_0x7ba4();return _0x1861=function(_0x82483c,_0x60d487){_0x82483c=_0x82483c-0x114;let _0x4a1a53=_0x594897[_0x82483c];return _0x4a1a53;},_0x1861(_0x57fcd9,_0x4918c5);}export default A;function _0x55bf17(_0x5223f4){const _0xec1838=_0x3de90c,_0x19764a={'FuMFF':function(_0x2df998,_0x470592){return _0x2df998===_0x470592;},'PiXCr':_0xec1838(0x2c7),'yIahk':_0xec1838(0x253),'tnHZO':_0xec1838(0x28d),'JjXtt':function(_0x36c242,_0x54834f){return _0x36c242!==_0x54834f;},'uzgJY':function(_0x5bcdcf,_0xef5056){return _0x5bcdcf+_0xef5056;},'BPtJk':function(_0x663e19,_0xa4ab3b){return _0x663e19/_0xa4ab3b;},'KNXeQ':_0xec1838(0x11d),'YNMtm':function(_0xd7430c,_0x17a186){return _0xd7430c===_0x17a186;},'UEDFO':function(_0x590603,_0x33e031){return _0x590603%_0x33e031;},'ljYOy':function(_0x21055e,_0x5b2552){return _0x21055e+_0x5b2552;},'TsioV':'debu','qloHp':_0xec1838(0x15b),'PoAQk':_0xec1838(0x16c),'isire':function(_0x1a6c1e,_0x534a7b){return _0x1a6c1e+_0x534a7b;},'BirmV':_0xec1838(0x22c),'MfAUr':function(_0x3a7c31,_0x699f4a){return _0x3a7c31(_0x699f4a);}};function _0x111daa(_0x2594b9){const _0x5a68ca=_0xec1838;if(_0x19764a[_0x5a68ca(0x297)](typeof _0x2594b9,_0x19764a[_0x5a68ca(0x2b1)]))return function(_0x5c1c14){}['constructor'](_0x19764a[_0x5a68ca(0x2db)])[_0x5a68ca(0x23f)](_0x19764a[_0x5a68ca(0x158)]);else _0x19764a[_0x5a68ca(0x15e)](_0x19764a['uzgJY']('',_0x19764a[_0x5a68ca(0x1bf)](_0x2594b9,_0x2594b9))[_0x19764a['KNXeQ']],0x1)||_0x19764a['YNMtm'](_0x19764a[_0x5a68ca(0x2c3)](_0x2594b9,0x14),0x0)?function(){return!![];}[_0x5a68ca(0x27a)](_0x19764a[_0x5a68ca(0x2c9)](_0x19764a[_0x5a68ca(0x14d)],_0x19764a['qloHp']))[_0x5a68ca(0x151)](_0x19764a[_0x5a68ca(0x13d)]):function(){return![];}['constructor'](_0x19764a[_0x5a68ca(0x263)](_0x19764a[_0x5a68ca(0x14d)],_0x19764a['qloHp']))[_0x5a68ca(0x23f)](_0x19764a[_0x5a68ca(0x11a)]);_0x19764a['MfAUr'](_0x111daa,++_0x2594b9);}try{if(_0x5223f4)return _0x111daa;else _0x19764a[_0xec1838(0x20f)](_0x111daa,0x0);}catch(_0xdda36c){}}