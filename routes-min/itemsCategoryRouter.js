const _0x1d9519=_0x1742;(function(_0x15c8d9,_0x531d86){const _0x9c1b89=_0x1742,_0x217eab=_0x15c8d9();while(!![]){try{const _0x2aff17=parseInt(_0x9c1b89(0x159))/0x1*(parseInt(_0x9c1b89(0x1fa))/0x2)+parseInt(_0x9c1b89(0x154))/0x3*(parseInt(_0x9c1b89(0x137))/0x4)+parseInt(_0x9c1b89(0x206))/0x5*(parseInt(_0x9c1b89(0x1f3))/0x6)+parseInt(_0x9c1b89(0x277))/0x7+-parseInt(_0x9c1b89(0x22f))/0x8+-parseInt(_0x9c1b89(0x15b))/0x9*(parseInt(_0x9c1b89(0x145))/0xa)+-parseInt(_0x9c1b89(0x256))/0xb;if(_0x2aff17===_0x531d86)break;else _0x217eab['push'](_0x217eab['shift']());}catch(_0x1ab8eb){_0x217eab['push'](_0x217eab['shift']());}}}(_0x15b8,0x87ced));const _0x17c877=(function(){const _0x168e44=_0x1742,_0x3d413d={'VmZAx':'msg','pWYiS':'red','ScmJW':function(_0x577f07,_0xfcb8c8){return _0x577f07!==_0xfcb8c8;},'tBLZD':'ErvtU','oWsRj':_0x168e44(0x147),'uNMjL':_0x168e44(0x25f),'bBYtH':_0x168e44(0x162),'nktSH':function(_0xd6d472,_0x1102e7){return _0xd6d472===_0x1102e7;},'gmMIJ':_0x168e44(0x285)};let _0x216793=!![];return function(_0xa650b4,_0x57c166){const _0x46c46=_0x168e44,_0x2a76f0={'deDfd':_0x3d413d['VmZAx'],'jsauI':_0x3d413d['pWYiS'],'BdmDF':function(_0x368c56,_0x50f402){const _0x2d6b5d=_0x1742;return _0x3d413d[_0x2d6b5d(0x1c7)](_0x368c56,_0x50f402);},'HKNEq':_0x3d413d[_0x46c46(0x211)],'TGpdl':_0x3d413d[_0x46c46(0x169)],'GOygM':function(_0x29ed2a,_0x511e99){const _0xe2e621=_0x46c46;return _0x3d413d[_0xe2e621(0x1c7)](_0x29ed2a,_0x511e99);},'mTTxc':_0x3d413d['uNMjL'],'VNGeT':_0x3d413d['bBYtH']};if(_0x3d413d['nktSH'](_0x3d413d[_0x46c46(0x289)],_0x3d413d[_0x46c46(0x289)])){const _0x18a26b=_0x216793?function(){const _0x1c7f3f=_0x46c46,_0x2b5b8d={'DElap':_0x2a76f0['deDfd'],'UGjYi':_0x2a76f0[_0x1c7f3f(0x1b8)]};if(_0x2a76f0['BdmDF'](_0x2a76f0[_0x1c7f3f(0x1a0)],_0x2a76f0[_0x1c7f3f(0x135)])){if(_0x57c166){if(_0x2a76f0[_0x1c7f3f(0x208)](_0x2a76f0['mTTxc'],_0x2a76f0[_0x1c7f3f(0x22e)]))return _0x3d6f4a['flash'](_0x2b5b8d[_0x1c7f3f(0x149)],{'class':_0x2b5b8d[_0x1c7f3f(0x152)],'text':''+_0x112c5f['message']}),_0x1c3a2a[_0x1c7f3f(0x252)](_0x50ce88);else{const _0x29ec4e=_0x57c166[_0x1c7f3f(0x27c)](_0xa650b4,arguments);return _0x57c166=null,_0x29ec4e;}}}else{const _0x4159de=_0x2a1446?function(){const _0x565583=_0x1c7f3f;if(_0x3e604e){const _0xf95f90=_0x56128[_0x565583(0x27c)](_0x240b0f,arguments);return _0x24c263=null,_0xf95f90;}}:function(){};return _0x3c5836=![],_0x4159de;}}:function(){};return _0x216793=![],_0x18a26b;}else{const _0x46b7fd=_0xe8657c+_0x46c46(0x205)+_0x5f450d+_0x46c46(0x1fe)+_0x537828+_0x46c46(0x23a)+_0xa6ce2f+_0x46c46(0x1a3)+_0x535271['insertedId'];return _0xab8653[_0x46c46(0x151)](_0x2a76f0[_0x46c46(0x192)],{'class':_0x2a76f0[_0x46c46(0x1df)],'text':_0x46c46(0x12f)+_0x73b78b[_0x46c46(0x1c9)][_0x46c46(0x20c)]+_0x46c46(0x273)}),_0x5e5814['redirect'](_0x46b7fd);}};}());(function(){const _0x59e889=_0x1742,_0xab1e44={'ilNfK':function(_0x16dd4f,_0x52abbb){return _0x16dd4f+_0x52abbb;},'zqFrr':_0x59e889(0x17a),'qmeld':'gger','kfwXz':'action','SdWUG':_0x59e889(0x278),'zGCDm':_0x59e889(0x233),'vshvB':function(_0x3f125b,_0x26b50b){return _0x3f125b(_0x26b50b);},'HxNYq':_0x59e889(0x1db),'cGWdd':function(_0x543f48,_0x342f67){return _0x543f48+_0x342f67;},'hMsIm':_0x59e889(0x258),'ylwHG':_0x59e889(0x194),'nerxs':function(_0x3b75e7){return _0x3b75e7();},'BpZTN':function(_0x529232,_0x408a61,_0x26b936){return _0x529232(_0x408a61,_0x26b936);},'WTUvd':function(_0xa2941d,_0x28dd84){return _0xa2941d!==_0x28dd84;},'VSeME':_0x59e889(0x200),'JLxjZ':_0x59e889(0x23d),'PysTX':function(_0x1e3eb1,_0x10fa24){return _0x1e3eb1+_0x10fa24;},'assdf':function(_0x5e4e0f,_0x6b3ade){return _0x5e4e0f!==_0x6b3ade;},'AmZhJ':_0x59e889(0x1e1),'kKchn':_0x59e889(0x1bb),'lLGtH':function(_0x8ecabe,_0x128c1a){return _0x8ecabe(_0x128c1a);},'NGpUn':'QjGOI','WstQX':function(_0x50aaf1){return _0x50aaf1();}};_0xab1e44[_0x59e889(0x1de)](_0x17c877,this,function(){const _0x538120=_0x59e889,_0x6253f2={'soBEb':_0xab1e44[_0x538120(0x265)],'ywMBG':_0xab1e44[_0x538120(0x279)],'QSQwk':function(_0x415db6,_0x2d930f){return _0xab1e44['vshvB'](_0x415db6,_0x2d930f);},'qKhUC':_0xab1e44['HxNYq'],'kNJZQ':function(_0x209226,_0x4f7107){const _0x38aaa7=_0x538120;return _0xab1e44[_0x38aaa7(0x1aa)](_0x209226,_0x4f7107);},'UdKOz':_0xab1e44[_0x538120(0x23c)],'wDcEI':_0xab1e44[_0x538120(0x1fc)],'Kcxtk':function(_0x3e017b){const _0x1586c6=_0x538120;return _0xab1e44[_0x1586c6(0x130)](_0x3e017b);},'DFCHK':function(_0x352b2d,_0x4fc55b,_0x4a8391){const _0x511311=_0x538120;return _0xab1e44[_0x511311(0x1de)](_0x352b2d,_0x4fc55b,_0x4a8391);}};if(_0xab1e44[_0x538120(0x1af)](_0xab1e44[_0x538120(0x1ac)],_0xab1e44[_0x538120(0x197)])){const _0x4f405a=new RegExp(_0xab1e44[_0x538120(0x265)]),_0x390bc8=new RegExp(_0xab1e44[_0x538120(0x279)],'i'),_0x47bfcd=_0xab1e44[_0x538120(0x1f5)](_0x1826b2,_0xab1e44[_0x538120(0x17d)]);if(!_0x4f405a['test'](_0xab1e44[_0x538120(0x1aa)](_0x47bfcd,_0xab1e44[_0x538120(0x23c)]))||!_0x390bc8[_0x538120(0x20f)](_0xab1e44[_0x538120(0x27b)](_0x47bfcd,_0xab1e44[_0x538120(0x1fc)])))_0xab1e44['assdf'](_0xab1e44[_0x538120(0x1ca)],_0xab1e44[_0x538120(0x175)])?_0xab1e44[_0x538120(0x236)](_0x47bfcd,'0'):function(){return!![];}[_0x538120(0x212)](_0xab1e44[_0x538120(0x22d)](_0xab1e44[_0x538120(0x21b)],_0xab1e44[_0x538120(0x20b)]))[_0x538120(0x1d6)](_0xab1e44[_0x538120(0x203)]);else{if(_0xab1e44[_0x538120(0x1af)](_0xab1e44[_0x538120(0x268)],_0xab1e44[_0x538120(0x268)]))return _0x590424;else _0xab1e44['WstQX'](_0x1826b2);}}else{const _0x2c77e0={'XAXYz':_0x6253f2['soBEb'],'lIfvb':_0x6253f2[_0x538120(0x1fd)],'EyPqn':function(_0x538fe9,_0x256da4){return _0x6253f2['QSQwk'](_0x538fe9,_0x256da4);},'eyyWW':_0x6253f2['qKhUC'],'PlxmI':function(_0x5557d3,_0x94478a){const _0x4e833c=_0x538120;return _0x6253f2[_0x4e833c(0x134)](_0x5557d3,_0x94478a);},'HwwXQ':_0x6253f2[_0x538120(0x255)],'toYmr':_0x6253f2[_0x538120(0x1b6)],'vhkdt':function(_0x2482e4){const _0x51dcc1=_0x538120;return _0x6253f2[_0x51dcc1(0x1b0)](_0x2482e4);}};_0x6253f2[_0x538120(0x1d8)](_0x57a6ab,this,function(){const _0x3fb7af=_0x538120,_0x297e15=new _0x52dc12(_0x2c77e0['XAXYz']),_0x44acd1=new _0x3cb983(_0x2c77e0['lIfvb'],'i'),_0x46d74e=_0x2c77e0[_0x3fb7af(0x198)](_0x4b7c25,_0x2c77e0[_0x3fb7af(0x223)]);!_0x297e15['test'](_0x2c77e0[_0x3fb7af(0x1d3)](_0x46d74e,_0x2c77e0[_0x3fb7af(0x1bd)]))||!_0x44acd1[_0x3fb7af(0x20f)](_0x2c77e0[_0x3fb7af(0x1d3)](_0x46d74e,_0x2c77e0[_0x3fb7af(0x246)]))?_0x2c77e0[_0x3fb7af(0x198)](_0x46d74e,'0'):_0x2c77e0[_0x3fb7af(0x226)](_0x5bc94e);})();}})();}());const _0x27223f=(function(){const _0x5a3e08=_0x1742,_0x2cc31a={'QkLJP':_0x5a3e08(0x278),'VNCpU':_0x5a3e08(0x233),'YIDZH':function(_0x4706af,_0xfc33b){return _0x4706af(_0xfc33b);},'ELGrS':'init','CDAHf':function(_0x18a2ce,_0x311be6){return _0x18a2ce+_0x311be6;},'wlweG':_0x5a3e08(0x258),'XLODt':_0x5a3e08(0x194),'IzUBm':function(_0x694cac){return _0x694cac();},'FsOFg':function(_0x6437be,_0x78b5c9){return _0x6437be!==_0x78b5c9;},'nAwUX':_0x5a3e08(0x199),'xieQT':_0x5a3e08(0x15d),'vNvof':function(_0x5eab6a,_0x2ed088){return _0x5eab6a!==_0x2ed088;},'pzpgc':_0x5a3e08(0x16a),'NPBbb':'aNNZm','hESTF':function(_0x16e4e7,_0xe1dfa5){return _0x16e4e7!==_0xe1dfa5;},'rzEwQ':'zUFyp','XyuBu':'Lfwxj'};let _0x280147=!![];return function(_0x3af4ae,_0x4e91dc){const _0x4b6efc=_0x5a3e08;if(_0x2cc31a[_0x4b6efc(0x19b)](_0x2cc31a[_0x4b6efc(0x188)],_0x2cc31a['XyuBu'])){const _0x55d114=_0x280147?function(){const _0x475af9=_0x4b6efc,_0xd7b873={'HnXAU':_0x2cc31a['QkLJP'],'pWcOn':_0x2cc31a[_0x475af9(0x16b)],'CCmyZ':function(_0x2fde2a,_0x340fb3){const _0x2e4f9f=_0x475af9;return _0x2cc31a[_0x2e4f9f(0x1ff)](_0x2fde2a,_0x340fb3);},'RfRow':_0x2cc31a[_0x475af9(0x21c)],'yRNBV':function(_0x1a268b,_0x3ae96c){const _0x1f1a4d=_0x475af9;return _0x2cc31a[_0x1f1a4d(0x272)](_0x1a268b,_0x3ae96c);},'nntyw':_0x2cc31a['wlweG'],'LJWiL':function(_0x228ad4,_0x568ca9){const _0x262e4e=_0x475af9;return _0x2cc31a[_0x262e4e(0x272)](_0x228ad4,_0x568ca9);},'DCKUX':_0x2cc31a[_0x475af9(0x1e9)],'oSDaU':function(_0x35657c,_0x53a596){return _0x2cc31a['YIDZH'](_0x35657c,_0x53a596);},'OjAfu':function(_0x1c8a34){const _0x3acccd=_0x475af9;return _0x2cc31a[_0x3acccd(0x204)](_0x1c8a34);}};if(_0x2cc31a[_0x475af9(0x16f)](_0x2cc31a['nAwUX'],_0x2cc31a[_0x475af9(0x166)])){if(_0x4e91dc){if(_0x2cc31a[_0x475af9(0x15e)](_0x2cc31a[_0x475af9(0x1a6)],_0x2cc31a['NPBbb'])){const _0x3ed3df=_0x4e91dc['apply'](_0x3af4ae,arguments);return _0x4e91dc=null,_0x3ed3df;}else{const _0x1366db=new _0xd73c60(_0xd7b873['HnXAU']),_0x44d79d=new _0x3764a3(_0xd7b873[_0x475af9(0x207)],'i'),_0xc0cace=_0xd7b873[_0x475af9(0x244)](_0x2ef73b,_0xd7b873[_0x475af9(0x1f6)]);!_0x1366db[_0x475af9(0x20f)](_0xd7b873[_0x475af9(0x21d)](_0xc0cace,_0xd7b873['nntyw']))||!_0x44d79d[_0x475af9(0x20f)](_0xd7b873[_0x475af9(0x23f)](_0xc0cace,_0xd7b873[_0x475af9(0x1fb)]))?_0xd7b873[_0x475af9(0x189)](_0xc0cace,'0'):_0xd7b873[_0x475af9(0x220)](_0x31c14d);}}}else _0x54dcbb[_0x475af9(0x17c)]();}:function(){};return _0x280147=![],_0x55d114;}else{if(_0x56ab49){const _0x53eb56=_0x5d80b1['apply'](_0x20f255,arguments);return _0x433cf8=null,_0x53eb56;}}};}()),_0x11afae=_0x27223f(this,function(){const _0x4a7590=_0x1742,_0x3548b7={'AgKzh':_0x4a7590(0x28a),'MybKG':_0x4a7590(0x1d7),'LKEVc':function(_0x800370,_0x3e53b4){return _0x800370!==_0x3e53b4;},'QgLAM':_0x4a7590(0x20a),'FesTN':_0x4a7590(0x1be),'ijDGQ':function(_0x2c25b0,_0x70f58a){return _0x2c25b0===_0x70f58a;},'OHdGw':_0x4a7590(0x1ce),'CDQFj':_0x4a7590(0x17e),'yZQbC':function(_0x1bab73,_0x300782){return _0x1bab73(_0x300782);},'WSODM':function(_0x16cb86,_0x1e9462){return _0x16cb86+_0x1e9462;},'Cjset':_0x4a7590(0x1f0),'bJhfB':_0x4a7590(0x237),'tpXac':function(_0x2c9b9b,_0x2cb8c5){return _0x2c9b9b===_0x2cb8c5;},'sHHqE':_0x4a7590(0x18b),'ozhdz':_0x4a7590(0x1e6),'YhOgn':function(_0x4f760c){return _0x4f760c();},'zuUca':_0x4a7590(0x235),'SiZnC':'warn','RyCmq':'info','nalKb':_0x4a7590(0x210),'GPMpk':_0x4a7590(0x219),'xdfyj':_0x4a7590(0x214),'WgENv':_0x4a7590(0x22a),'rrlWK':function(_0x4d3d04,_0x51ae69){return _0x4d3d04<_0x51ae69;},'AEBlR':_0x4a7590(0x18e)},_0x1ddbec=function(){const _0x466ef5=_0x4a7590,_0x551cf5={'YnkMT':_0x3548b7[_0x466ef5(0x1b5)],'rIEso':_0x3548b7['MybKG']};if(_0x3548b7[_0x466ef5(0x178)](_0x3548b7[_0x466ef5(0x24c)],_0x3548b7[_0x466ef5(0x1cf)])){let _0x4c0206;try{if(_0x3548b7[_0x466ef5(0x19a)](_0x3548b7['OHdGw'],_0x3548b7['CDQFj']))return function(_0xff9955){}[_0x466ef5(0x212)](_0x551cf5[_0x466ef5(0x1a7)])[_0x466ef5(0x27c)](_0x551cf5['rIEso']);else _0x4c0206=_0x3548b7[_0x466ef5(0x267)](Function,_0x3548b7[_0x466ef5(0x13e)](_0x3548b7['WSODM'](_0x3548b7['Cjset'],_0x3548b7['bJhfB']),');'))();}catch(_0x3f7637){if(_0x3548b7[_0x466ef5(0x282)](_0x3548b7[_0x466ef5(0x141)],_0x3548b7[_0x466ef5(0x1c2)])){const _0x5bf206=_0x50df69[_0x466ef5(0x27c)](_0x1dfb70,arguments);return _0x2900f5=null,_0x5bf206;}else _0x4c0206=window;}return _0x4c0206;}else _0x4efc7a=_0x31a16c;},_0x4c458d=_0x3548b7['YhOgn'](_0x1ddbec),_0x170878=_0x4c458d[_0x4a7590(0x1c5)]=_0x4c458d[_0x4a7590(0x1c5)]||{},_0x2b7a32=[_0x3548b7[_0x4a7590(0x1e3)],_0x3548b7[_0x4a7590(0x230)],_0x3548b7[_0x4a7590(0x1e5)],_0x3548b7[_0x4a7590(0x27d)],_0x3548b7[_0x4a7590(0x150)],_0x3548b7['xdfyj'],_0x3548b7[_0x4a7590(0x1a1)]];for(let _0x592dc6=0x0;_0x3548b7[_0x4a7590(0x259)](_0x592dc6,_0x2b7a32[_0x4a7590(0x24b)]);_0x592dc6++){if(_0x3548b7[_0x4a7590(0x178)](_0x3548b7[_0x4a7590(0x1c3)],_0x3548b7[_0x4a7590(0x1c3)]))_0x22fa11['close']();else{const _0x372b58=_0x27223f[_0x4a7590(0x212)][_0x4a7590(0x13b)]['bind'](_0x27223f),_0x10a758=_0x2b7a32[_0x592dc6],_0x1402c2=_0x170878[_0x10a758]||_0x372b58;_0x372b58[_0x4a7590(0x16e)]=_0x27223f['bind'](_0x27223f),_0x372b58[_0x4a7590(0x26d)]=_0x1402c2[_0x4a7590(0x26d)]['bind'](_0x1402c2),_0x170878[_0x10a758]=_0x372b58;}}});_0x11afae();import _0x5ffc42 from'express';const f=_0x5ffc42[_0x1d9519(0x165)]();import{MongoClient as _0xc5e177,ObjectId as _0x224fdd}from'mongodb';import _0x56037a from'ejs';function _0x15b8(){const _0x4ba900=['dbColl_itemsCategory','JvPTt','kfwXz','IzUBm','?sip=','260pCXKyn','pWcOn','GOygM','acknowledged','ehNjS','qmeld','categoryId','WgzxS','ceil','test','error','tBLZD','constructor','readFileSync','table','lWonf','now','find','XQpZJ','exception','Error\x20===>\x20','zqFrr','ELGrS','yRNBV','eyslc','vVtSQ','OjAfu','cQyco','limit','eyyWW','IeNJY','message','vhkdt','pQsKS','YCcuI','hVUjc','trace','yyyy-MM-dd','CpTzY','ilNfK','mTTxc','3004216WTOgTr','SiZnC','send','XFzFG','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','ZYVAv','log','lLGtH','{}.constructor(\x22return\x20this\x22)(\x20)','ECJmn','RLXSp','&page=','yigIP','hMsIm','oMrDb','gmLbN','LJWiL','ไม่มีข้อมูลที่จะพิมพ์','TUdao','wFSee','bNlYc','CCmyZ','EeXqu','toYmr','KKhOA','get','ไม่พบ\x20\x22','vPEeg','length','QgLAM','QPnUg','AlHid','Print\x20','aRxPx','action','redirect','page','countDocuments','UdKOz','3109766FDiPvA','qgLZt','chain','rrlWK','ulktC','IuZCv','KoSLo','OdgEN','SrHaT','dEZxU','ycCDv','\x22{{sep}}ไม่มีอะไรเปลี่ยนแปลง','KkKQN','KHzNE','owMBK','SdWUG','iLlua','yZQbC','NGpUn','/items-category','oDLlD','zAZUD','sendFile','toString','dbColl_items','Error\x20while\x20deleting','หมวดหมู่\x20\x22','tBpnQ','CDAHf','\x22\x20เรียบร้อยแล้ว','utf8','TShkZ','isOA','4543147xvpSTp','function\x20*\x5c(\x20*\x5c)','zGCDm','getSettings','PysTX','apply','nalKb','yRwxz','KoqVt','stringify','jfGPK','tpXac','JVFOw','filter','EqPax','UKfdj','wneoi','XbaID','gmMIJ','while\x20(true)\x20{}','JuLeV','IepeU','PCIfq','เพิ่ม\x20\x22','nerxs','wPhFW','NDeGA','{{sep}}\x22','kNJZQ','TGpdl','rSKfB','4VFQDpK','iHpnA','AgrIa','string','prototype','djAav','minute','WSODM','dbName','VuMHu','sHHqE','hdIbo','insertOne','CQxBJ','10NrCvqq','msg','PFxcR','Ubgum','DElap','findOne','KuuMz','query','gger','เลขที่งาน\x20\x22','rpp','GPMpk','flash','UGjYi','YLdkk','2148897IPtsdK','yellow','dWrZT','hJKOE','bind','4SSQXPV','MKXHx','8484822vAzhIv','/load','GYdeO','vNvof','sort','kfjnU','getDateTime','green','qRxvU','load_id','Router','xieQT','replace','UVjsA','oWsRj','iUZop','VNCpU','Ekrld','RlubN','__proto__','FsOFg','connect','IRpUX','CoIeK','modifiedCount','NoICt','kKchn','dateTimeCanDelete','kIjgP','LKEVc','lyLad','debu','renderView','close','HxNYq','ZKUXS','ShPUt','nGcNm','_id','ePeOB','jXroN','{{sep}}ไม่สามารถลบได้','toArray','dbUrl','cLVjo','rzEwQ','oSDaU','yyyy-MM-dd\x20HH:mm','BgJml','SVZhs','IqDUH','VcGip','render','rEZkT','eoYUi','deDfd','error\x20===>\x20','input','bqLRa','YxtdA','JLxjZ','EyPqn','BnGKA','ijDGQ','hESTF','aggregate','status','seKur','DinVu','HKNEq','WgENv','LsCFs','&load_id=','tnMOb','AKbHg','pzpgc','YnkMT','QTPla','xdshr','cGWdd','JZxNm','VSeME','NuSrm','MhhCE','WTUvd','Kcxtk','lMBgd','red','getUserData','$categoryId','AgKzh','wDcEI','stateObject','jsauI','VfOkG','NBEIy','qZIhs','sip','HwwXQ','mcMKj','post','fHUAI','IJJPM','ozhdz','AEBlR','bcTMl','console','insertedId','ScmJW','GuuNg','body','AmZhJ','/delete','\x20Items','RqXOk','WJAbS','FesTN','jvEyn','mwNwf','jJPAZ','PlxmI','collection','kYTdX','call','counter','DFCHK','iGecC','qfKHX','init','naHwy','เกิดข้อผิดพลาดขณะลบ\x20\x22','BpZTN','VNGeT','jXKFd','raQJl','\x22{{sep}}มีอยู่ในเอกสาร\x20','zuUca','Not\x20Found','RyCmq','kKcAM','eypHS','NogJF','XLODt','trim','FcARF','qDUqI','vNqSr','exANW','lopKP','return\x20(function()\x20','HfLtY','AOvtG','38148YKzKSF','deleteOne','vshvB','RfRow','OKGkG','LOnSN','unshift','230662IxGUWD','DCKUX','ylwHG','ywMBG','&rpp=','YIDZH','fgtaE'];_0x15b8=function(){return _0x4ba900;};return _0x15b8();}import _0xdefee4 from'path';import _0x25885b from'fs';import*as _0x13ccd5 from'../mymodule/myDateTime.js';import*as _0xd1f386 from'../mymodule/myUsers.js';import*as _0x2bc7e9 from'../mymodule/myModule.js';function _0x1742(_0x25441b,_0x3e9b24){const _0x2bb642=_0x15b8();return _0x1742=function(_0x11afae,_0x27223f){_0x11afae=_0x11afae-0x12f;let _0x583d10=_0x2bb642[_0x11afae];return _0x583d10;},_0x1742(_0x25441b,_0x3e9b24);}import _0x5ac50a from'../middleware/mainAuth.js';import{DateTime as _0xda565d}from'luxon';const r=_0x1d9519(0x269),P=r+'/save',E=r+_0x1d9519(0x15c),F=r+_0x1d9519(0x1cb),U=r+'/print',H=r['replace'](/\//g,'_');f[_0x1d9519(0x248)](r,_0x5ac50a[_0x1d9519(0x276)],async(_0x2e53d9,_0x2b9f86)=>{const _0x38217d=_0x1d9519,_0x4f8f2d={'eyslc':function(_0x387751){return _0x387751();},'ECJmn':function(_0x1582ba,_0x56b134){return _0x1582ba(_0x56b134);},'iGecC':function(_0x2f9421,_0x52248c){return _0x2f9421+_0x52248c;},'GUIwq':_0x38217d(0x1f0),'wPhFW':'{}.constructor(\x22return\x20this\x22)(\x20)','VfOkG':_0x38217d(0x193),'lopKP':_0x38217d(0x1b2),'UVjsA':function(_0x16c80e,_0x4a905a){return _0x16c80e(_0x4a905a);},'HfLtY':function(_0x3625ec,_0x52c8dc){return _0x3625ec(_0x52c8dc);},'KkKQN':function(_0x3f52d0,_0xde8ce1){return _0x3f52d0*_0xde8ce1;},'NoICt':function(_0x14a372,_0x286e13){return _0x14a372-_0x286e13;},'qRxvU':function(_0x4d8fc1,_0x5b6f12){return _0x4d8fc1!==_0x5b6f12;},'ZYVAv':_0x38217d(0x139),'CoIeK':'$dateTimeCanDelete','rSKfB':_0x38217d(0x13d),'iLlua':function(_0x38c65e,_0x40db37){return _0x38c65e!==_0x40db37;},'YCcuI':'AwqDQ','lfirJ':'\x5c$&','RlubN':function(_0x15dc5c,_0xd36ad){return _0x15dc5c/_0xd36ad;},'YLdkk':function(_0x1ede2c,_0x2465b4){return _0x1ede2c<_0x2465b4;},'CuKPp':function(_0x1adfbc,_0xc1918a){return _0x1adfbc-_0xc1918a;},'NuSrm':function(_0xbb9ea5,_0x292933){return _0xbb9ea5(_0x292933);},'IRpUX':function(_0x4b6cc8,_0xbf66de){return _0x4b6cc8-_0xbf66de;},'jvEyn':function(_0x92390,_0x10dbad){return _0x92390>_0x10dbad;},'XFzFG':function(_0x561ffb,_0x705c9e){return _0x561ffb+_0x705c9e;},'wCOQj':function(_0x20731b,_0x1b549c){return _0x20731b(_0x1b549c);},'zAZUD':function(_0x355be1,_0x54df5d){return _0x355be1===_0x54df5d;},'VuMHu':'DvwDj','ShPUt':_0x38217d(0x1a4),'jXroN':'vdZAZ','mwNwf':_0x38217d(0x28b),'yxrtl':'itemsCategory','ePeOB':'Asia/Bangkok','FzDCY':_0x38217d(0x22b),'FcARF':_0x38217d(0x146),'IuZCv':_0x38217d(0x243),'DinVu':_0x38217d(0x215),'jJPAZ':function(_0x3dc82f,_0x1f713f){return _0x3dc82f===_0x1f713f;},'Ekrld':_0x38217d(0x23e)},_0x4f5653=_0x2e53d9[_0x38217d(0x14c)][_0x38217d(0x1bc)]?.[_0x38217d(0x1ea)]()['replace'](/[$.*?]/g,'\x20')||'',_0x1b707a=_0x4f8f2d['ECJmn'](Number,_0x2e53d9[_0x38217d(0x14c)]['rpp'])||0x14,_0x7cf90f=_0x4f8f2d[_0x38217d(0x168)](Number,_0x2e53d9[_0x38217d(0x14c)][_0x38217d(0x253)])||0x1,_0x2f31b6=_0x2e53d9[_0x38217d(0x14c)][_0x38217d(0x164)]||'',_0x3d9e05=_0x4f8f2d['HfLtY'](Number,_0x4f8f2d[_0x38217d(0x262)](_0x4f8f2d[_0x38217d(0x174)](_0x7cf90f,0x1),_0x1b707a)),_0xf1495c=new _0xc5e177(global[_0x38217d(0x186)]);try{if(_0x4f8f2d[_0x38217d(0x163)](_0x4f8f2d[_0x38217d(0x234)],_0x4f8f2d[_0x38217d(0x234)]))ZhTcrT[_0x38217d(0x21e)](_0x32f8a6);else{const _0x2f5922={'_id':0x1,'categoryId':0x1,'categoryName':0x1,'categoryStatus':0x1,'categoryColor':0x1,'canDelete':0x1,'isCanDelete':{'$cond':{'if':{'$gt':[{'$dateDiff':{'startDate':{'$toDate':_0x13ccd5[_0x38217d(0x161)](0x0)},'endDate':{'$toDate':_0x4f8f2d[_0x38217d(0x172)]},'unit':_0x4f8f2d[_0x38217d(0x136)]}},0x0]},'then':!0x0,'else':!0x1}}};await _0xf1495c[_0x38217d(0x170)]();const _0x426953=_0xf1495c['db'](dbName)[_0x38217d(0x1d4)](global[_0x38217d(0x201)]);if(_0x4f5653){if(_0x4f8f2d['iLlua'](_0x4f8f2d[_0x38217d(0x228)],_0x4f8f2d[_0x38217d(0x228)])){const _0x5c1643=_0x5d0b5e?function(){const _0x39cea0=_0x38217d;if(_0x4a68c8){const _0x40b793=_0x3c5b98[_0x39cea0(0x27c)](_0x5cbcbd,arguments);return _0x58b4e1=null,_0x40b793;}}:function(){};return _0x41e9a5=![],_0x5c1643;}else{const _0x22e8aa=new RegExp(_0x4f5653[_0x38217d(0x167)](/[.*+?^${}()|[\]\\]/g,_0x4f8f2d['lfirJ']),'i');var _0x14c8d2=await _0x426953[_0x38217d(0x254)]({'$or':[{'categoryId':{'$regex':_0x22e8aa}},{'categoryName':{'$regex':_0x22e8aa}}]});}}else var _0x14c8d2=await _0x426953[_0x38217d(0x254)]({});const _0x4e318b=Math[_0x38217d(0x20e)](_0x4f8f2d[_0x38217d(0x16d)](_0x14c8d2,_0x1b707a)),_0x59c103=_0x4f8f2d[_0x38217d(0x153)](_0x4f8f2d['CuKPp'](_0x4f8f2d[_0x38217d(0x1ad)](Number,_0x7cf90f),0x1),0x1)?'-':_0x4f8f2d[_0x38217d(0x171)](_0x4f8f2d[_0x38217d(0x1ad)](Number,_0x7cf90f),0x1),_0x188f11=_0x4f8f2d[_0x38217d(0x1ad)](Number,_0x7cf90f),_0x550275=_0x4f8f2d[_0x38217d(0x1d0)](_0x4f8f2d[_0x38217d(0x232)](_0x4f8f2d[_0x38217d(0x1f1)](Number,_0x7cf90f),0x1),_0x4e318b)?'-':_0x4f8f2d[_0x38217d(0x1d9)](_0x4f8f2d['wCOQj'](Number,_0x7cf90f),0x1),_0x35b17c=[{'$project':_0x2f5922},{'$sort':{'categoryId':0x1}},{'$skip':_0x3d9e05},{'$limit':_0x1b707a}];if(_0x4f5653){if(_0x4f8f2d[_0x38217d(0x26b)](_0x4f8f2d[_0x38217d(0x140)],_0x4f8f2d[_0x38217d(0x17f)])){let _0xda4ad0;try{_0xda4ad0=ZhTcrT[_0x38217d(0x238)](_0x371bf8,ZhTcrT['iGecC'](ZhTcrT[_0x38217d(0x1d9)](ZhTcrT['GUIwq'],ZhTcrT[_0x38217d(0x131)]),');'))();}catch(_0x2b7d10){_0xda4ad0=_0xf13bc5;}return _0xda4ad0;}else{const _0x2c99c4=_0x4f5653?new RegExp(''+_0x4f5653,'i'):new RegExp('.*');_0x35b17c[_0x38217d(0x1f9)]({'$match':{'$or':[{'categoryId':{'$regex':_0x2c99c4}},{'categoryName':{'$regex':_0x2c99c4}}]}});}}const _0x303c53=await _0x426953[_0x38217d(0x19c)](_0x35b17c)['toArray']();if(_0x2f31b6){if(_0x4f8f2d[_0x38217d(0x26b)](_0x4f8f2d[_0x38217d(0x183)],_0x4f8f2d[_0x38217d(0x1d1)]))_0x2c1191[_0x38217d(0x235)](_0x4f8f2d[_0x38217d(0x1b9)],_0x696b42[_0x38217d(0x225)]),_0x10fec6['send'](_0x436c22[_0x38217d(0x280)]({'isPrint':!0x1,'class':_0x4f8f2d[_0x38217d(0x1ef)],'msg':_0x546673[_0x38217d(0x225)]}));else{var _0x4169f3=_0x303c53[_0x38217d(0x284)](_0x30baa7=>_0x30baa7[_0x38217d(0x181)]==_0x2f31b6);if(_0x4f8f2d[_0x38217d(0x1d0)](_0x4169f3['length'],0x0))var _0x128993=_0x4169f3[0x0];else var _0x128993=await _0x426953[_0x38217d(0x14a)]({'_id':new _0x224fdd(_0x2f31b6)});}}const _0x35c76b=await _0x2bc7e9[_0x38217d(0x17b)](_0x4f8f2d['yxrtl'],_0x2b9f86,{'title':PAGE_ITEMS_CATEGORY,'time':_0xda565d[_0x38217d(0x216)]()['setZone'](_0x4f8f2d[_0x38217d(0x182)])['toFormat'](_0x4f8f2d['FzDCY']),'msg':_0x2e53d9['flash'](_0x4f8f2d[_0x38217d(0x1eb)]),'user':await _0xd1f386[_0x38217d(0x1b3)](_0x2e53d9),...await _0x2bc7e9[_0x38217d(0x27a)](),'load_id':_0x2f31b6,'sip':_0x4f5653,'rpp':_0x1b707a,'page':_0x7cf90f,'pagePre':_0x59c103,'pageAct':_0x188f11,'pageNxt':_0x550275,'pageLst':_0x4e318b,'pageRedirect':''+r,'PATH_MAIN':r,'PATH_SAVE':P,'PATH_LOAD':E,'PATH_DELETE':F,'PATH_PRINT':U,'PREFIX':H,'data':_0x303c53,'item':_0x128993});_0x2b9f86['send'](_0x35c76b);}}catch(_0x49782e){_0x4f8f2d[_0x38217d(0x266)](_0x4f8f2d[_0x38217d(0x25b)],_0x4f8f2d[_0x38217d(0x19f)])?(console[_0x38217d(0x235)](_0x49782e),_0x2b9f86[_0x38217d(0x19d)](0x194)[_0x38217d(0x26c)](file404)):ZhTcrT[_0x38217d(0x238)](_0xcd8cbf,'0');}finally{_0x4f8f2d[_0x38217d(0x1d2)](_0x4f8f2d[_0x38217d(0x16c)],_0x4f8f2d[_0x38217d(0x16c)])?_0xf1495c[_0x38217d(0x17c)]():_0x539846[_0x38217d(0x17c)]();}}),f[_0x1d9519(0x1bf)](P,_0x5ac50a[_0x1d9519(0x276)],async(_0x23a593,_0x424418)=>{const _0x1d92be=_0x1d9519,_0x38d90b={'OKGkG':function(_0x1f5463,_0x475934){return _0x1f5463(_0x475934);},'CQxBJ':function(_0x50947b,_0x1520fe){return _0x50947b+_0x1520fe;},'TsUOV':function(_0x1251b8,_0x6efa3e){return _0x1251b8+_0x6efa3e;},'btdMn':_0x1d92be(0x1f0),'AOvtG':_0x1d92be(0x237),'JvPTt':function(_0x54a870,_0x27d8ce){return _0x54a870(_0x27d8ce);},'seKur':function(_0x566cf1,_0x284cdf){return _0x566cf1(_0x284cdf);},'fHUAI':function(_0x21c466,_0xded536){return _0x21c466!==_0xded536;},'jfGPK':_0x1d92be(0x1b1),'uKnWY':'VwyTj','kIjgP':_0x1d92be(0x180),'eypHS':function(_0x3e431d,_0x5d04c4){return _0x3e431d(_0x5d04c4);},'JZxNm':function(_0x1189c5,_0x372f64){return _0x1189c5===_0x372f64;},'WgzxS':'wyczf','qfKHX':function(_0x148fb4,_0x3002c1){return _0x148fb4>_0x3002c1;},'wFSee':function(_0x51724b,_0x1ba4dd){return _0x51724b+_0x1ba4dd;},'kfjnU':_0x1d92be(0x146),'KKhOA':_0x1d92be(0x1b2),'XKUAF':function(_0x1d4000,_0x300e42){return _0x1d4000===_0x300e42;},'TUdao':_0x1d92be(0x25c),'jirJa':_0x1d92be(0x287),'jXKFd':_0x1d92be(0x162),'kYTdX':function(_0x3a7d2b,_0xb191b1){return _0x3a7d2b==_0xb191b1;},'qgLZt':function(_0x1d42d4,_0x593618){return _0x1d42d4<_0x593618;},'NDeGA':_0x1d92be(0x155),'YxtdA':_0x1d92be(0x1e4),'SVZhs':_0x1d92be(0x1a9),'QIijS':_0x1d92be(0x187),'JVFOw':function(_0x1ccf16,_0x36e726){return _0x1ccf16!==_0x36e726;},'IeNJY':'YkZMw'},_0x4f0855=_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x20c)]?_0x38d90b[_0x1d92be(0x1f7)](Number,_0x23a593['body'][_0x1d92be(0x20c)]):null,_0x167939=_0x23a593['body'][_0x1d92be(0x181)],_0x1a02d7=_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x1bc)],_0x1985a4=_0x38d90b[_0x1d92be(0x202)](Number,_0x23a593[_0x1d92be(0x1c9)]['rpp'])||0x14,_0x203e1f=_0x38d90b[_0x1d92be(0x19e)](Number,_0x23a593[_0x1d92be(0x1c9)]['page'])||0x1,_0x32366c=r+_0x1d92be(0x205)+_0x1a02d7+_0x1d92be(0x1fe)+_0x1985a4+_0x1d92be(0x23a)+_0x203e1f+_0x1d92be(0x1a3)+_0x167939;delete _0x23a593['body'][_0x1d92be(0x181)],delete _0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x1bc)],delete _0x23a593[_0x1d92be(0x1c9)]['rpp'],delete _0x23a593[_0x1d92be(0x1c9)]['page'];const _0x1d477d=new _0xc5e177(global[_0x1d92be(0x186)]);try{if(_0x38d90b['fHUAI'](_0x38d90b['jfGPK'],_0x38d90b[_0x1d92be(0x281)])){const _0x11ece9=_0x27736c['apply'](_0x5b7cf6,arguments);return _0x39ebf5=null,_0x11ece9;}else{await _0x1d477d[_0x1d92be(0x170)]();const _0x375a9a=_0x1d477d['db'](dbName)[_0x1d92be(0x1d4)](global['dbColl_itemsCategory']);if(_0x167939){if(_0x38d90b[_0x1d92be(0x1c0)](_0x38d90b['uKnWY'],_0x38d90b[_0x1d92be(0x177)])){_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x20c)]&&(_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x20c)]=_0x38d90b[_0x1d92be(0x1e7)](Number,_0x23a593['body'][_0x1d92be(0x20c)]));var _0x540753=await _0x375a9a['updateOne']({'_id':new _0x224fdd(_0x167939)},{'$set':_0x23a593[_0x1d92be(0x1c9)]},{'upsert':!0x1});}else dQfgKS[_0x1d92be(0x1f7)](_0x4c46c9,0x0);}else{if(_0x38d90b[_0x1d92be(0x1ab)](_0x38d90b[_0x1d92be(0x20d)],_0x38d90b[_0x1d92be(0x20d)])){const _0x477d51=await _0x375a9a[_0x1d92be(0x217)]({},{'projection':{'categoryId':0x1}})[_0x1d92be(0x15f)]({'categoryId':-0x1})[_0x1d92be(0x222)](0x1)[_0x1d92be(0x185)](),_0x4233fc=_0x38d90b[_0x1d92be(0x1da)](_0x477d51[_0x1d92be(0x24b)],0x0)?_0x38d90b[_0x1d92be(0x242)](_0x477d51[0x0]['categoryId'],0x1):0x64;if(_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x20c)]=_0x4233fc,_0x23a593[_0x1d92be(0x1c9)][_0x1d92be(0x176)]=_0x13ccd5[_0x1d92be(0x161)](0x5a0),await _0x375a9a[_0x1d92be(0x14a)]({'categoryId':_0x4233fc}))return _0x23a593[_0x1d92be(0x151)](_0x38d90b[_0x1d92be(0x160)],{'class':_0x38d90b[_0x1d92be(0x247)],'text':_0x1d92be(0x14e)+_0x4f0855+'\x22\x20ซ้ำ{{sep}}\x20โปรดติดต่อผู้ดูแลระบบ'}),_0x424418[_0x1d92be(0x252)](r);var _0x540753=await _0x375a9a[_0x1d92be(0x143)](_0x23a593['body']);}else _0x3a9d09[_0x1d92be(0x17c)]();}if(_0x540753['acknowledged']&&_0x540753[_0x1d92be(0x1c6)]){if(_0x38d90b['XKUAF'](_0x38d90b[_0x1d92be(0x241)],_0x38d90b['jirJa']))_0x1bb32e=dQfgKS['OKGkG'](_0xc4344d,dQfgKS[_0x1d92be(0x144)](dQfgKS['TsUOV'](dQfgKS['btdMn'],dQfgKS[_0x1d92be(0x1f2)]),');'))();else{const _0x266721=r+_0x1d92be(0x205)+_0x1a02d7+_0x1d92be(0x1fe)+_0x1985a4+_0x1d92be(0x23a)+_0x203e1f+_0x1d92be(0x1a3)+_0x540753[_0x1d92be(0x1c6)];return _0x23a593[_0x1d92be(0x151)](_0x38d90b[_0x1d92be(0x160)],{'class':_0x38d90b[_0x1d92be(0x1e0)],'text':_0x1d92be(0x12f)+_0x23a593['body'][_0x1d92be(0x20c)]+'\x22\x20เรียบร้อยแล้ว'}),_0x424418[_0x1d92be(0x252)](_0x266721);}}else return _0x540753[_0x1d92be(0x209)]&&_0x38d90b[_0x1d92be(0x1d5)](_0x540753['modifiedCount'],0x1)?(_0x23a593[_0x1d92be(0x151)](_0x38d90b[_0x1d92be(0x160)],{'class':_0x38d90b[_0x1d92be(0x1e0)],'text':'อัปเดต\x20\x22'+_0x4f0855+'\x22\x20เรียบร้อยแล้ว'}),_0x424418[_0x1d92be(0x252)](_0x32366c)):_0x540753[_0x1d92be(0x209)]&&_0x38d90b[_0x1d92be(0x257)](_0x540753[_0x1d92be(0x173)],0x1)?(_0x23a593[_0x1d92be(0x151)](_0x38d90b['kfjnU'],{'class':_0x38d90b[_0x1d92be(0x132)],'text':'\x22'+_0x4f0855+_0x1d92be(0x261)}),_0x424418[_0x1d92be(0x252)](_0x32366c)):(_0x23a593[_0x1d92be(0x151)](_0x38d90b[_0x1d92be(0x160)],{'class':_0x38d90b['KKhOA'],'text':new Error(_0x38d90b[_0x1d92be(0x196)])+_0x1d92be(0x133)+_0x4f0855+'\x22'}),_0x424418[_0x1d92be(0x252)](r));}}catch(_0x32c7a8){if(_0x38d90b[_0x1d92be(0x1ab)](_0x38d90b[_0x1d92be(0x18c)],_0x38d90b['QIijS'])){const _0x1e9690=_0x24935d[_0x1d92be(0x212)][_0x1d92be(0x13b)]['bind'](_0x4ebb46),_0x285982=_0x5ed142[_0x182883],_0x4ea734=_0x231fa4[_0x285982]||_0x1e9690;_0x1e9690[_0x1d92be(0x16e)]=_0x2c80d7[_0x1d92be(0x158)](_0x354bc8),_0x1e9690['toString']=_0x4ea734['toString']['bind'](_0x4ea734),_0x2e8a87[_0x285982]=_0x1e9690;}else console['log'](_0x32c7a8),_0x23a593['flash'](_0x38d90b['kfjnU'],{'class':_0x38d90b[_0x1d92be(0x247)],'text':''+_0x32c7a8[_0x1d92be(0x225)]}),_0x424418[_0x1d92be(0x19d)](0x194)[_0x1d92be(0x26c)](file404);}finally{if(_0x38d90b[_0x1d92be(0x283)](_0x38d90b[_0x1d92be(0x224)],_0x38d90b['IeNJY']))return!![];else _0x1d477d[_0x1d92be(0x17c)]();}}),f['post'](E,_0x5ac50a['isOA'],async(_0x5fa9e7,_0xbcbaa0)=>{const _0x2c61a7=_0x1d9519,_0x9f3ceb={'zXoGx':function(_0x5d6eb1,_0x30abbb){return _0x5d6eb1(_0x30abbb);},'vVtSQ':function(_0x42dfbd,_0xcfb9b8){return _0x42dfbd(_0xcfb9b8);},'vPEeg':function(_0x23647f,_0x1cb080){return _0x23647f===_0x1cb080;},'pQsKS':'asNMq','MKXHx':_0x2c61a7(0x146),'cQyco':'red','yRwxz':_0x2c61a7(0x1e4),'KPNLR':function(_0x30ea80,_0x3a557c){return _0x30ea80!==_0x3a557c;},'aRxPx':_0x2c61a7(0x23b),'JmXyV':function(_0x5cd952,_0x2065dc){return _0x5cd952!==_0x2065dc;},'naHwy':'YrOfM','fLHgj':'PZvpX'},_0x25e2a3=_0x5fa9e7['body'][_0x2c61a7(0x164)],_0x4d2de8=_0x5fa9e7[_0x2c61a7(0x1c9)][_0x2c61a7(0x1bc)],_0x202292=_0x9f3ceb['vVtSQ'](Number,_0x5fa9e7[_0x2c61a7(0x1c9)][_0x2c61a7(0x14f)])||0x14,_0x107d70=_0x9f3ceb[_0x2c61a7(0x21f)](Number,_0x5fa9e7[_0x2c61a7(0x1c9)][_0x2c61a7(0x253)])||0x1,_0x33a1e3=r+_0x2c61a7(0x205)+_0x4d2de8+_0x2c61a7(0x1fe)+_0x202292+_0x2c61a7(0x23a)+_0x107d70+_0x2c61a7(0x1a3)+_0x25e2a3,_0x50df83=new _0xc5e177(global[_0x2c61a7(0x186)]);try{return _0x9f3ceb[_0x2c61a7(0x24a)](_0x9f3ceb[_0x2c61a7(0x227)],_0x9f3ceb[_0x2c61a7(0x227)])?(await _0x50df83['db'](dbName)['collection'](global[_0x2c61a7(0x201)])[_0x2c61a7(0x14a)]({'_id':new _0x224fdd(_0x25e2a3)})||_0x5fa9e7[_0x2c61a7(0x151)](_0x9f3ceb[_0x2c61a7(0x15a)],{'class':_0x9f3ceb[_0x2c61a7(0x221)],'text':new Error(_0x9f3ceb[_0x2c61a7(0x27e)])+_0x2c61a7(0x133)+_0x25e2a3+'\x22'}),_0xbcbaa0[_0x2c61a7(0x252)](_0x33a1e3)):![];}catch(_0x2fe321){if(_0x9f3ceb['KPNLR'](_0x9f3ceb[_0x2c61a7(0x250)],_0x9f3ceb['aRxPx']))_0x21737d[_0x2c61a7(0x235)](_0x33b32e),_0x12f82e[_0x2c61a7(0x19d)](0x194)[_0x2c61a7(0x26c)](_0x3adb73);else return _0x5fa9e7[_0x2c61a7(0x151)](_0x9f3ceb[_0x2c61a7(0x15a)],{'class':_0x9f3ceb[_0x2c61a7(0x221)],'text':''+_0x2fe321[_0x2c61a7(0x225)]}),_0xbcbaa0['redirect'](_0x33a1e3);}finally{if(_0x9f3ceb['JmXyV'](_0x9f3ceb[_0x2c61a7(0x1dc)],_0x9f3ceb['fLHgj']))_0x50df83['close']();else{if(_0x41a5d)return _0x413bf4;else BqXYfS['zXoGx'](_0x1f0b0d,0x0);}}}),f[_0x1d9519(0x1bf)](F,_0x5ac50a['isOA'],async(_0x4aa0d3,_0x478050)=>{const _0x5c743f=_0x1d9519,_0x50cc8a={'QPnUg':_0x5c743f(0x146),'IepeU':'red','OaCNB':function(_0x5ab3a9,_0x4d8cc3){return _0x5ab3a9+_0x4d8cc3;},'exANW':_0x5c743f(0x17a),'CpTzY':_0x5c743f(0x14d),'UKfdj':_0x5c743f(0x1b7),'rEZkT':function(_0x4433f7,_0x161876){return _0x4433f7(_0x161876);},'qDUqI':function(_0x227db2,_0x5da0f6){return _0x227db2!=_0x5da0f6;},'Ewrhx':function(_0x4704f9,_0x513ca7){return _0x4704f9!==_0x513ca7;},'ulktC':_0x5c743f(0x142),'GuuNg':'EawPq','lyLad':function(_0x3d812b,_0x5b2292){return _0x3d812b===_0x5b2292;},'SrHaT':_0x5c743f(0x162),'XSjks':_0x5c743f(0x26f),'bqLRa':_0x5c743f(0x218),'LOnSN':_0x5c743f(0x1cd),'hJKOE':_0x5c743f(0x21a),'iHpnA':_0x5c743f(0x1a2)},{idToDelete:_0x322afb,load_id:_0x35faf6,sip:_0x3f4754}=_0x4aa0d3[_0x5c743f(0x1c9)],_0x38f3d9=_0x4aa0d3[_0x5c743f(0x1c9)]['categoryId']?_0x50cc8a['rEZkT'](Number,_0x4aa0d3[_0x5c743f(0x1c9)]['categoryId']):null,_0x4721eb=_0x50cc8a[_0x5c743f(0x190)](Number,_0x4aa0d3['body'][_0x5c743f(0x14f)])||0x14,_0x3fe175=_0x50cc8a['rEZkT'](Number,_0x4aa0d3[_0x5c743f(0x1c9)]['page'])||0x1,_0x4b6eca=_0x35faf6&&_0x50cc8a[_0x5c743f(0x1ec)](_0x35faf6,_0x322afb)?_0x5c743f(0x1a3)+_0x35faf6:'',_0xc341e5=r+'?sip='+_0x3f4754+_0x5c743f(0x1fe)+_0x4721eb+_0x5c743f(0x23a)+_0x3fe175+_0x4b6eca,_0x875149=new _0xc5e177(global['dbUrl']);try{if(_0x50cc8a['Ewrhx'](_0x50cc8a[_0x5c743f(0x25a)],_0x50cc8a[_0x5c743f(0x1c8)])){await _0x875149[_0x5c743f(0x170)]();const _0x2a7154=_0x875149['db'](dbName),_0x29c352=_0x2a7154[_0x5c743f(0x1d4)](global[_0x5c743f(0x201)]);if(!await _0x29c352[_0x5c743f(0x14a)]({'_id':new _0x224fdd(_0x322afb)}))return _0x4aa0d3[_0x5c743f(0x151)](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a['IepeU'],'text':_0x5c743f(0x249)+_0x38f3d9+'\x22'}),_0x478050[_0x5c743f(0x252)](_0xc341e5);const _0x3b46c3=[{'coll':_0x2a7154[_0x5c743f(0x1d4)](global['dbColl_items']),'name':global[_0x5c743f(0x26e)]}];for(const {coll:_0x3d1714,name:_0x15f8cd}of _0x3b46c3)if(await _0x3d1714[_0x5c743f(0x14a)]({'categoryId':_0x38f3d9}))return await _0x29c352['updateOne']({'categoryId':_0x38f3d9},{'$set':{'canDelete':!0x1}}),_0x4aa0d3['flash'](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a[_0x5c743f(0x28c)],'text':_0x5c743f(0x270)+_0x38f3d9+_0x5c743f(0x1e2)+_0x15f8cd+_0x5c743f(0x184)}),_0x478050[_0x5c743f(0x252)](_0xc341e5);return _0x50cc8a[_0x5c743f(0x179)]((await _0x29c352[_0x5c743f(0x1f4)]({'_id':new _0x224fdd(_0x322afb)}))['deletedCount'],0x1)?(_0x4aa0d3[_0x5c743f(0x151)](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a[_0x5c743f(0x25e)],'text':'ลบ\x20\x22'+_0x38f3d9+_0x5c743f(0x273)}),_0x478050[_0x5c743f(0x252)](_0xc341e5)):(console[_0x5c743f(0x235)](_0x50cc8a['XSjks']),_0x4aa0d3['flash'](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a[_0x5c743f(0x28c)],'text':_0x5c743f(0x1dd)+_0x38f3d9+'\x22'}),_0x478050[_0x5c743f(0x252)](_0xc341e5));}else _0x4bf4ee['log'](_0x111284),_0x51f2e8['flash'](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a[_0x5c743f(0x28c)],'text':''+_0x4cfa65[_0x5c743f(0x225)]}),_0x48f9c7['status'](0x194)[_0x5c743f(0x26c)](_0x11c7e5);}catch(_0x59c928){if(_0x50cc8a[_0x5c743f(0x179)](_0x50cc8a[_0x5c743f(0x195)],_0x50cc8a[_0x5c743f(0x1f8)])){if(_0x1a982e){const _0x2e860a=_0x3b74d4[_0x5c743f(0x27c)](_0x1d1a4e,arguments);return _0x3b9e7e=null,_0x2e860a;}}else return console[_0x5c743f(0x235)](_0x50cc8a[_0x5c743f(0x157)],_0x59c928),_0x4aa0d3[_0x5c743f(0x151)](_0x50cc8a[_0x5c743f(0x24d)],{'class':_0x50cc8a[_0x5c743f(0x28c)],'text':_0x59c928['message']}),_0x478050[_0x5c743f(0x252)](_0xc341e5);}finally{_0x50cc8a['lyLad'](_0x50cc8a[_0x5c743f(0x138)],_0x50cc8a[_0x5c743f(0x138)])?_0x875149[_0x5c743f(0x17c)]():function(){return![];}[_0x5c743f(0x212)](rsOGPN['OaCNB'](rsOGPN[_0x5c743f(0x1ee)],rsOGPN[_0x5c743f(0x22c)]))['apply'](rsOGPN[_0x5c743f(0x286)]);}}),f[_0x1d9519(0x1bf)](U,_0x5ac50a[_0x1d9519(0x276)],async(_0x436e1b,_0x58dc1b)=>{const _0x4f11cf=_0x1d9519,_0x256593={'NgWbq':_0x4f11cf(0x21a),'KuuMz':_0x4f11cf(0x146),'OdgEN':_0x4f11cf(0x1b2),'fATHP':function(_0x2dfef8,_0x5c9b3b){return _0x2dfef8===_0x5c9b3b;},'tlGeI':'zIqSK','xbMIj':_0x4f11cf(0x1a5),'AlHid':_0x4f11cf(0x1b4),'TShkZ':function(_0x59ec3c,_0x55423e){return _0x59ec3c==_0x55423e;},'NxRFS':_0x4f11cf(0x240),'PCIfq':'formItemsCategory.ejs','UjTvr':_0x4f11cf(0x274),'dWrZT':'หมวดหมู่ไอเท็ม','XbaID':'Asia/Bangkok','NBEIy':_0x4f11cf(0x18a),'bcTMl':function(_0x993062,_0x45f764){return _0x993062===_0x45f764;},'RLXSp':'NPnvf','hVUjc':_0x4f11cf(0x271),'ycCDv':_0x4f11cf(0x193),'Ubgum':function(_0x5c23ae,_0x25fd1a){return _0x5c23ae!==_0x25fd1a;},'IJJPM':_0x4f11cf(0x264)},{idsArr:_0x58a513}=_0x436e1b['body'],_0x567cd3=new _0xc5e177(global[_0x4f11cf(0x186)]);try{if(_0x256593['fATHP'](_0x256593['tlGeI'],_0x256593['xbMIj']))return _0x29fc3f[_0x4f11cf(0x235)](_0x256593['NgWbq'],_0x4899d9),_0x4f4826[_0x4f11cf(0x151)](_0x256593[_0x4f11cf(0x14b)],{'class':_0x256593[_0x4f11cf(0x25d)],'text':_0x281d1d[_0x4f11cf(0x225)]}),_0xf11a68[_0x4f11cf(0x252)](_0x10480e);else{await _0x567cd3['connect']();const _0x14db10=await _0x567cd3['db'](global[_0x4f11cf(0x13f)])[_0x4f11cf(0x1d4)](global['dbColl_itemsCategory'])[_0x4f11cf(0x19c)]([{'$match':{'categoryId':{'$in':_0x58a513}}},{'$project':{'_id':0x0}},{'$addFields':{'__order':{'$indexOfArray':[_0x58a513,_0x256593[_0x4f11cf(0x24e)]]}}},{'$sort':{'__order':0x1}}])[_0x4f11cf(0x185)]();if(_0x256593[_0x4f11cf(0x275)](_0x14db10['length'],0x0))return _0x58dc1b[_0x4f11cf(0x231)](JSON[_0x4f11cf(0x280)]({'isPrint':!0x1,'class':_0x256593[_0x4f11cf(0x25d)],'msg':_0x256593['NxRFS']}));const _0x3de417=_0xdefee4['join'](folderForm,_0x256593[_0x4f11cf(0x28d)]),_0x4c9e46=_0x25885b[_0x4f11cf(0x213)](_0x3de417,_0x256593['UjTvr']),_0x1cbddc=_0x56037a[_0x4f11cf(0x18f)](_0x4c9e46,{'web_title':_0x4f11cf(0x24f)+_0x14db10[_0x4f11cf(0x24b)]+_0x4f11cf(0x1cc),'title':_0x256593[_0x4f11cf(0x156)],'data':_0x14db10,'dateTime':_0xda565d['now']()['setZone'](_0x256593[_0x4f11cf(0x288)])['toFormat'](_0x256593[_0x4f11cf(0x1ba)])});_0x58dc1b['send'](JSON['stringify']({'isPrint':!0x0,'htmlPage':_0x1cbddc}));}}catch(_0x306ce3){if(_0x256593[_0x4f11cf(0x1c4)](_0x256593[_0x4f11cf(0x239)],_0x256593[_0x4f11cf(0x229)])){const _0x4023d6=_0x313c89?new _0x142355(''+_0x44b9da,'i'):new _0x5a98ab('.*');_0xb6ffb2[_0x4f11cf(0x1f9)]({'$match':{'$or':[{'categoryId':{'$regex':_0x4023d6}},{'categoryName':{'$regex':_0x4023d6}}]}});}else console[_0x4f11cf(0x235)](_0x256593[_0x4f11cf(0x260)],_0x306ce3[_0x4f11cf(0x225)]),_0x58dc1b[_0x4f11cf(0x231)](JSON[_0x4f11cf(0x280)]({'isPrint':!0x1,'class':_0x256593[_0x4f11cf(0x25d)],'msg':_0x306ce3[_0x4f11cf(0x225)]}));}finally{_0x256593[_0x4f11cf(0x148)](_0x256593[_0x4f11cf(0x1c1)],_0x256593[_0x4f11cf(0x1c1)])?_0x3e7d1b[_0x4f11cf(0x17c)]():_0x567cd3[_0x4f11cf(0x17c)]();}});export default f;function _0x1826b2(_0x1b7f23){const _0x3b7521=_0x1d9519,_0x536ed1={'vNqSr':function(_0x5f35cc,_0x222fc9){return _0x5f35cc===_0x222fc9;},'EXwfj':_0x3b7521(0x13a),'Fbjrw':'while\x20(true)\x20{}','MhhCE':_0x3b7521(0x1d7),'eoYUi':function(_0x33f577,_0x11fc1c){return _0x33f577!==_0x11fc1c;},'KHzNE':function(_0x2389c7,_0x1951ed){return _0x2389c7+_0x1951ed;},'RBeef':function(_0x52ac63,_0x32e14d){return _0x52ac63/_0x32e14d;},'CzITX':'length','imnOM':function(_0xd5b05,_0x2617af){return _0xd5b05===_0x2617af;},'oDLlD':function(_0x212de3,_0x1a3ab7){return _0x212de3%_0x1a3ab7;},'KoqVt':_0x3b7521(0x17a),'IqDUH':_0x3b7521(0x14d),'iPouP':_0x3b7521(0x251),'djAav':function(_0x69eb27,_0x25e2ea){return _0x69eb27+_0x25e2ea;},'EeXqu':'stateObject','NogJF':function(_0x538f58,_0x2d6707){return _0x538f58(_0x2d6707);},'QTPla':function(_0x121410,_0x2f006a){return _0x121410(_0x2f006a);}};function _0x59d160(_0x581735){const _0x1bf5c1=_0x3b7521;if(_0x536ed1[_0x1bf5c1(0x1ed)](typeof _0x581735,_0x536ed1['EXwfj']))return function(_0x34ea4e){}[_0x1bf5c1(0x212)](_0x536ed1['Fbjrw'])[_0x1bf5c1(0x27c)](_0x536ed1[_0x1bf5c1(0x1ae)]);else _0x536ed1[_0x1bf5c1(0x191)](_0x536ed1[_0x1bf5c1(0x263)]('',_0x536ed1['RBeef'](_0x581735,_0x581735))[_0x536ed1['CzITX']],0x1)||_0x536ed1['imnOM'](_0x536ed1[_0x1bf5c1(0x26a)](_0x581735,0x14),0x0)?function(){return!![];}[_0x1bf5c1(0x212)](_0x536ed1[_0x1bf5c1(0x263)](_0x536ed1[_0x1bf5c1(0x27f)],_0x536ed1[_0x1bf5c1(0x18d)]))[_0x1bf5c1(0x1d6)](_0x536ed1['iPouP']):function(){return![];}[_0x1bf5c1(0x212)](_0x536ed1[_0x1bf5c1(0x13c)](_0x536ed1[_0x1bf5c1(0x27f)],_0x536ed1[_0x1bf5c1(0x18d)]))['apply'](_0x536ed1[_0x1bf5c1(0x245)]);_0x536ed1[_0x1bf5c1(0x1e8)](_0x59d160,++_0x581735);}try{if(_0x1b7f23)return _0x59d160;else _0x536ed1[_0x3b7521(0x1a8)](_0x59d160,0x0);}catch(_0x5eb51c){}}