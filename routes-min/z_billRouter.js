const _0x45ca26=_0xf337;(function(_0x452436,_0x1b913d){const _0x740828=_0xf337,_0x336276=_0x452436();while(!![]){try{const _0x52fa46=-parseInt(_0x740828(0x18b))/0x1*(parseInt(_0x740828(0x1a8))/0x2)+-parseInt(_0x740828(0x247))/0x3+-parseInt(_0x740828(0x1ba))/0x4+-parseInt(_0x740828(0x1c6))/0x5*(-parseInt(_0x740828(0x1d2))/0x6)+parseInt(_0x740828(0x1d4))/0x7*(parseInt(_0x740828(0x24c))/0x8)+parseInt(_0x740828(0x1eb))/0x9+parseInt(_0x740828(0x273))/0xa*(parseInt(_0x740828(0x180))/0xb);if(_0x52fa46===_0x1b913d)break;else _0x336276['push'](_0x336276['shift']());}catch(_0xd2b726){_0x336276['push'](_0x336276['shift']());}}}(_0x2ace,0x2b4f0));const _0x955ad6=(function(){const _0x6e4bfa=_0xf337,_0x5cb18e={'QHyXq':function(_0x3bf0b6,_0x49fd){return _0x3bf0b6!==_0x49fd;},'hdCdp':_0x6e4bfa(0x1cd),'CobLY':_0x6e4bfa(0x169),'DVOzO':function(_0x873ae8,_0x2e51ba){return _0x873ae8===_0x2e51ba;},'fXKDb':_0x6e4bfa(0x22d),'AzKuW':_0x6e4bfa(0x26e)};let _0x60c954=!![];return function(_0x2594e0,_0x4c7515){const _0x119136=_0x6e4bfa;if(_0x5cb18e[_0x119136(0x168)](_0x5cb18e[_0x119136(0x1cc)],_0x5cb18e[_0x119136(0x1cc)])){const _0x28f596=_0x60c954?function(){const _0x27179a=_0x119136;if(_0x5cb18e[_0x27179a(0x260)](_0x5cb18e[_0x27179a(0x1b8)],_0x5cb18e['CobLY'])){if(_0x4c7515){if(_0x5cb18e['DVOzO'](_0x5cb18e[_0x27179a(0x23e)],_0x5cb18e[_0x27179a(0x23e)])){const _0x12f4f1=_0x4c7515[_0x27179a(0x1ec)](_0x2594e0,arguments);return _0x4c7515=null,_0x12f4f1;}else return![];}}else{const _0x108ab9=_0x25b958[_0x27179a(0x1ec)](_0x4863ef,arguments);return _0x474584=null,_0x108ab9;}}:function(){};return _0x60c954=![],_0x28f596;}else{const _0x52f733=_0x2e6df2[_0x119136(0x1b9)][_0x119136(0x1ed)][_0x119136(0x1b5)](_0x111012),_0x409713=_0x4119c3[_0xa55d72],_0x1feb84=_0x4adbe1[_0x409713]||_0x52f733;_0x52f733[_0x119136(0x261)]=_0x28cff3[_0x119136(0x1b5)](_0x4757f6),_0x52f733['toString']=_0x1feb84[_0x119136(0x16d)][_0x119136(0x1b5)](_0x1feb84),_0x3bff0d[_0x409713]=_0x52f733;}};}());function _0x2ace(){const _0xe351bf=['\x20ได้','EqzYd','getSessionData_sign','body','aNNsW','sort','LOGO_BILL_FILENAME','\x20เรียบร้อยแล้ว','\x20เรียบร้อยแล้ว{{sep}}[บันทึกการแก้ไข]','RVUsF','yellow','ySOFf','ascjj','LaxZt','FhxXF','/status','CJMJJ','pfhYJ','collection','send','DRiSh','EpYiA','post','CQvrC','RdaBJ','DdAit','ZnXKw','counter','ybLAE','replace','wRmZn','while\x20(true)\x20{}','error','init','getLogoBase64Src','EFdUd','shift','kJpLW','YOznA','getSettingsByCollection','mbYRo','UgLnB','/print','EerGl','isAuth','lNTxD','mRxwv','limit','cdfcF','dOaFF','cRRYP','flash','KaRkR','push','HcGrl','อัปเดท\x20','jmsWA','string','DOTGB','get','EnwHd','WaPIs','JNqDI','fXKDb','uBFoH','Router','JvpWL','ไม่สามารถบันทึกเอกสาร\x20สถานะ\x20','vFjvy','gOCZs','wQXIu','IKlWg','46674XXoVfu','QbVjf','length','trace','mwPOV','1875064ZiTXAP','padStart','getSettings','LemGO','uREdN','convert_DocDataType','TEnie','nfusw','sBnVl','HZJEx','KJmAs','VBVPN','insertOne','KCCRG','lXCuE','สร้างเอกสารใหม่\x20','sisYA','getMonth','modifiedCount','\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล','QHyXq','__proto__','dbName','KSnow','QxsAX','ndkIq','qBmRi','sXpxp','fLVps','runQM','mkDjm','debu','ANSWw','stringify','VePdM','updateOne','YUVyT','mNdvi','getFullYear','543370yxEjJr','DVOzO','tyxyo','DOC_STATUS','sKPrG','call','toString','aGMEF','/changes','oeCEr','findOne','XxfTO','warn','sendFile','VKZak','CIePR','dbColl_bill','input','wOnBk','ROLuZ','QSkbA','Wsozs','ZSmbz','SYfte','bRATd','55PBJDEq','ejKjh','HNcAK','DjItI','VFpZX','Zmtze','PEUBH','EFraT','SixaV','gWrsP','getChangeHistory','219671VfxZVi','XjVUF','rvidM','XyzVR','GfhJl','log','toArray','GQjjk','BzuZW','userFlash','QXbii','vGSuS','TLYYk','CbTIN','bill.ejs','green','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','aripG','AicGK','iAfLr','gger','QnmpT','vftPt','mKHNY','BvfLR','LBsQH','pTlXw','vxiqR','EYwda','2DoLJnP','docId','slice','pXPEO','KjEtv','mUksM','formatDateTime','CApUf','yqpPi','LgERJ','hBDEh','ADiki','gjylX','bind','console','judBF','hdCdp','constructor','935508oARGKh','eEyiz','KXhyy','VaEsN','uGwkQ','HxlSi','message','VNHPF','return\x20(function()\x20','table','KQGgf','red','702030VzODFH','fhrDf','ozVdU','renderView','VpamB','WjGNa','AzKuW','Lbkby','CUwjf','OOzAZ','sPsZa','BeHiW','6LvGtiv','stateObject','7mzecZR','Efyqb','JEoej','NJmdM','{}.constructor(\x22return\x20this\x22)(\x20)','function\x20*\x5c(\x20*\x5c)','find','lpqLZ','acknowledged','IMIJt','exception','joTwV','ZXATE','EPsxE','Yvkak','FdKtl','GyIZh','bxvAA','split','lnzvO','docStatusNumber','info','SnXcS','216GGBHJa','apply','prototype','wdTQX','/save','BFGfH','DxLVa','CsLJC','dJDjI','fhFbD','YWonn','MtcQn','ANdLx','xOVhH','MSEur','action','VKiVS','zPLRQ','GunFj','HPvmp'];_0x2ace=function(){return _0xe351bf;};return _0x2ace();}(function(){const _0x118a39=_0xf337,_0x377276={'vFjvy':function(_0x5281b4,_0x32dc77){return _0x5281b4(_0x32dc77);},'mKHNY':function(_0xa7cd76,_0x378333){return _0xa7cd76(_0x378333);},'LgERJ':function(_0x5002dc,_0x4cdd75){return _0x5002dc===_0x4cdd75;},'vxiqR':'QPvsH','fhFbD':_0x118a39(0x1d9),'IhuvV':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','EqzYd':_0x118a39(0x220),'XyzVR':function(_0xe84c01,_0x480703){return _0xe84c01+_0x480703;},'sKPrG':'chain','zYevi':function(_0x5f03e0,_0x57eebf){return _0x5f03e0+_0x57eebf;},'miIBv':_0x118a39(0x178),'HNcAK':function(_0x5281e4,_0x56931b){return _0x5281e4!==_0x56931b;},'wOnBk':_0x118a39(0x1d5),'aUmEg':_0x118a39(0x1cb),'VKZak':function(_0x8a55a8,_0x393e0a){return _0x8a55a8===_0x393e0a;},'YOznA':_0x118a39(0x219),'sBnVl':function(_0x4d5695){return _0x4d5695();},'ZXATE':function(_0x2e3cdd,_0x2d1e9f,_0x4ec575){return _0x2e3cdd(_0x2d1e9f,_0x4ec575);}};_0x377276[_0x118a39(0x1e0)](_0x955ad6,this,function(){const _0x192341=_0x118a39,_0x3ff33b={'BeHiW':function(_0x4455b8,_0x21fc3b){const _0x1b3b8b=_0xf337;return _0x377276[_0x1b3b8b(0x1a2)](_0x4455b8,_0x21fc3b);}};if(_0x377276[_0x192341(0x1b1)](_0x377276['vxiqR'],_0x377276[_0x192341(0x1a6)])){const _0x2510e3=new RegExp(_0x377276[_0x192341(0x1f4)]),_0x53475f=new RegExp(_0x377276['IhuvV'],'i'),_0x6577c8=_0x377276['mKHNY'](_0xf62666,_0x377276[_0x192341(0x200)]);if(!_0x2510e3['test'](_0x377276[_0x192341(0x18e)](_0x6577c8,_0x377276[_0x192341(0x16b)]))||!_0x53475f['test'](_0x377276['zYevi'](_0x6577c8,_0x377276['miIBv'])))_0x377276[_0x192341(0x182)](_0x377276[_0x192341(0x179)],_0x377276['aUmEg'])?_0x377276[_0x192341(0x1a2)](_0x6577c8,'0'):_0x3ff33b[_0x192341(0x1d1)](_0x55bb9e,'0');else{if(_0x377276[_0x192341(0x175)](_0x377276[_0x192341(0x225)],_0x377276[_0x192341(0x225)]))_0x377276[_0x192341(0x254)](_0xf62666);else{if(_0x404dd1)return _0x3864f5;else _0x377276[_0x192341(0x243)](_0x253ea2,0x0);}}}else{const _0x1cd29a=_0x47a94f[_0x192341(0x1ec)](_0x316c86,arguments);return _0x4c8712=null,_0x1cd29a;}})();}());const _0x588f3d=(function(){const _0x2263ac=_0xf337,_0x1ac789={'tdOQs':_0x2263ac(0x21e),'HAnzZ':_0x2263ac(0x21a),'QXbii':function(_0xc7439e,_0x1f5064){return _0xc7439e+_0x1f5064;},'wUWzt':_0x2263ac(0x26b),'aripG':_0x2263ac(0x19f),'CxFKn':'stateObject','sisYA':function(_0x96d2a4,_0x4701e6){return _0x96d2a4!==_0x4701e6;},'eEyiz':'CRTfO','dJDjI':function(_0x2354d1,_0x1ddde0){return _0x2354d1===_0x1ddde0;},'uBFoH':'hlywO','ANSWw':_0x2263ac(0x1e4),'MtcQn':_0x2263ac(0x237)};let _0x57027b=!![];return function(_0x1df1c0,_0x58f874){const _0x15667e=_0x2263ac,_0xae68fa={'XjVUF':function(_0x10b03c,_0x5146d9){const _0x14517f=_0xf337;return _0x1ac789[_0x14517f(0x195)](_0x10b03c,_0x5146d9);},'fhrDf':_0x1ac789['wUWzt'],'OkaYs':_0x1ac789[_0x15667e(0x19c)],'xOVhH':_0x1ac789['CxFKn'],'gAuIB':function(_0x5e2a9c,_0x2693c7){const _0x167b36=_0x15667e;return _0x1ac789[_0x167b36(0x25c)](_0x5e2a9c,_0x2693c7);},'sXpxp':_0x1ac789[_0x15667e(0x1bb)],'VNHPF':function(_0x1694b1,_0x2f3ff0){const _0x5ba866=_0x15667e;return _0x1ac789[_0x5ba866(0x1f3)](_0x1694b1,_0x2f3ff0);},'xUdNI':_0x1ac789[_0x15667e(0x23f)]};if(_0x1ac789[_0x15667e(0x1f3)](_0x1ac789[_0x15667e(0x26c)],_0x1ac789[_0x15667e(0x1f6)]))return function(_0x3fe559){}['constructor'](_0x1ac789['tdOQs'])[_0x15667e(0x1ec)](_0x1ac789['HAnzZ']);else{const _0x4238d5=_0x57027b?function(){const _0x49f7f9=_0x15667e;if(_0xae68fa['gAuIB'](_0xae68fa[_0x49f7f9(0x267)],_0xae68fa[_0x49f7f9(0x267)]))(function(){return![];}[_0x49f7f9(0x1b9)](_0xae68fa[_0x49f7f9(0x18c)](_0xae68fa[_0x49f7f9(0x1c7)],_0xae68fa['OkaYs']))[_0x49f7f9(0x1ec)](_0xae68fa[_0x49f7f9(0x1f8)]));else{if(_0x58f874){if(_0xae68fa[_0x49f7f9(0x1c1)](_0xae68fa['xUdNI'],_0xae68fa['xUdNI'])){const _0x182565=_0x58f874[_0x49f7f9(0x1ec)](_0x1df1c0,arguments);return _0x58f874=null,_0x182565;}else _0x2f26dd[_0x49f7f9(0x190)](_0x386f6c),_0x1321a0['status'](0x194)[_0x49f7f9(0x174)](_0x1d1dc6);}}}:function(){};return _0x57027b=![],_0x4238d5;}};}()),_0x8777de=_0x588f3d(this,function(){const _0x350a6e=_0xf337,_0x360664={'JvpWL':function(_0x315ccf,_0x5465e2){return _0x315ccf+_0x5465e2;},'lnzvO':_0x350a6e(0x26b),'LBsQH':'gger','bxvAA':'action','QxsAX':_0x350a6e(0x1d9),'DRiSh':'\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','KaRkR':function(_0x1e5a89,_0x3c6cfe){return _0x1e5a89(_0x3c6cfe);},'KSnow':_0x350a6e(0x220),'pTlXw':function(_0x1d8305,_0x395627){return _0x1d8305+_0x395627;},'ejKjh':'chain','PEUBH':function(_0x487f13,_0x1c0fb4){return _0x487f13+_0x1c0fb4;},'RVUsF':_0x350a6e(0x178),'BvfLR':function(_0x27f600){return _0x27f600();},'HcGrl':function(_0x21f524,_0x3c9577){return _0x21f524===_0x3c9577;},'nfusw':_0x350a6e(0x203),'ndkIq':_0x350a6e(0x1b3),'KBAQr':_0x350a6e(0x1ee),'judBF':_0x350a6e(0x20f),'JRjfN':function(_0x19a288,_0x21a404){return _0x19a288+_0x21a404;},'RvLwJ':_0x350a6e(0x1c2),'mUksM':_0x350a6e(0x1d8),'rvidM':function(_0x3ffc15,_0x16a43e){return _0x3ffc15===_0x16a43e;},'CUwjf':'cNCxj','hBDEh':_0x350a6e(0x256),'LaxZt':_0x350a6e(0x190),'ANdLx':_0x350a6e(0x173),'oTjWQ':_0x350a6e(0x1e9),'hlhoZ':_0x350a6e(0x21f),'YhlIh':_0x350a6e(0x1de),'Yvkak':_0x350a6e(0x1c3),'fipuj':_0x350a6e(0x24a),'bRATd':function(_0x44fbcc,_0x5a8083){return _0x44fbcc<_0x5a8083;},'MSEur':function(_0x371040,_0x426fef){return _0x371040===_0x426fef;},'XxfTO':_0x350a6e(0x269)},_0x3b82ee=function(){const _0x483fc4=_0x350a6e,_0x28be3c={'IKlWg':_0x360664[_0x483fc4(0x264)],'AicGK':_0x360664[_0x483fc4(0x213)],'ozVdU':function(_0x139d35,_0x92307){const _0x1e9a56=_0x483fc4;return _0x360664[_0x1e9a56(0x233)](_0x139d35,_0x92307);},'Thzea':_0x360664[_0x483fc4(0x263)],'zPLRQ':function(_0xcee811,_0x335fc3){const _0x7c6e6d=_0x483fc4;return _0x360664[_0x7c6e6d(0x1a5)](_0xcee811,_0x335fc3);},'ySOFf':_0x360664[_0x483fc4(0x181)],'RuFkL':function(_0x46ade2,_0x35a888){const _0x2fd49e=_0x483fc4;return _0x360664[_0x2fd49e(0x186)](_0x46ade2,_0x35a888);},'Zmtze':_0x360664[_0x483fc4(0x208)],'cCPix':function(_0x491048,_0x5b8668){return _0x360664['KaRkR'](_0x491048,_0x5b8668);},'YUVyT':function(_0x5c64eb){const _0x4dd205=_0x483fc4;return _0x360664[_0x4dd205(0x1a3)](_0x5c64eb);}};if(_0x360664[_0x483fc4(0x235)](_0x360664[_0x483fc4(0x253)],_0x360664[_0x483fc4(0x265)]))(function(){return!![];}[_0x483fc4(0x1b9)](_0x360664[_0x483fc4(0x241)](_0x360664[_0x483fc4(0x1e7)],_0x360664[_0x483fc4(0x1a4)]))['call'](_0x360664[_0x483fc4(0x1e5)]));else{let _0x54980a;try{if(_0x360664['HcGrl'](_0x360664['KBAQr'],_0x360664[_0x483fc4(0x1b7)])){const _0x286669=new _0x396610(_0x28be3c[_0x483fc4(0x246)]),_0x4c437b=new _0x2b9a93(_0x28be3c[_0x483fc4(0x19d)],'i'),_0x5b66ed=_0x28be3c[_0x483fc4(0x1c8)](_0x2d4d9d,_0x28be3c['Thzea']);!_0x286669['test'](_0x28be3c[_0x483fc4(0x1fc)](_0x5b66ed,_0x28be3c[_0x483fc4(0x20a)]))||!_0x4c437b['test'](_0x28be3c['RuFkL'](_0x5b66ed,_0x28be3c[_0x483fc4(0x185)]))?_0x28be3c['cCPix'](_0x5b66ed,'0'):_0x28be3c[_0x483fc4(0x270)](_0x3e62be);}else _0x54980a=_0x360664[_0x483fc4(0x233)](Function,_0x360664['JRjfN'](_0x360664[_0x483fc4(0x186)](_0x360664['RvLwJ'],_0x360664[_0x483fc4(0x1ad)]),');'))();}catch(_0x46e27a){_0x360664[_0x483fc4(0x18d)](_0x360664[_0x483fc4(0x1ce)],_0x360664[_0x483fc4(0x1b2)])?_0x28be3c['ozVdU'](_0x631652,0x0):_0x54980a=window;}return _0x54980a;}},_0x25f863=_0x360664[_0x350a6e(0x1a3)](_0x3b82ee),_0x415ca8=_0x25f863[_0x350a6e(0x1b6)]=_0x25f863[_0x350a6e(0x1b6)]||{},_0x1b4a8c=[_0x360664[_0x350a6e(0x20c)],_0x360664[_0x350a6e(0x1f7)],_0x360664['oTjWQ'],_0x360664['hlhoZ'],_0x360664['YhlIh'],_0x360664[_0x350a6e(0x1e2)],_0x360664['fipuj']];for(let _0x492af5=0x0;_0x360664[_0x350a6e(0x17f)](_0x492af5,_0x1b4a8c['length']);_0x492af5++){if(_0x360664[_0x350a6e(0x1f9)](_0x360664[_0x350a6e(0x172)],_0x360664['XxfTO'])){const _0x1138d7=_0x588f3d['constructor']['prototype'][_0x350a6e(0x1b5)](_0x588f3d),_0x95a3c5=_0x1b4a8c[_0x492af5],_0x400012=_0x415ca8[_0x95a3c5]||_0x1138d7;_0x1138d7[_0x350a6e(0x261)]=_0x588f3d[_0x350a6e(0x1b5)](_0x588f3d),_0x1138d7[_0x350a6e(0x16d)]=_0x400012[_0x350a6e(0x16d)][_0x350a6e(0x1b5)](_0x400012),_0x415ca8[_0x95a3c5]=_0x1138d7;}else{if(_0x1f1d85){const _0x543134=_0x13e27a['apply'](_0x4b3520,arguments);return _0x583a22=null,_0x543134;}}}});_0x8777de();import _0x484ac2 from'express';const p=_0x484ac2[_0x45ca26(0x240)]();import{MongoClient as _0x3a83ab}from'mongodb';import*as _0x5794e4 from'../mymodule/myDateTime.js';import*as _0x4e8343 from'../mymodule/myUsers.js';import*as _0x49bbe0 from'../mymodule/myModule.js';import*as _0x51e82f from'../mymodule/myDocs.js';import _0x4139a8 from'../middleware/mainAuth.js';const i='/bill',D=i+_0x45ca26(0x1ef),P=i+_0x45ca26(0x16f),F=i+'/load',H=i+'/search',v=i+_0x45ca26(0x20e),J=i+_0x45ca26(0x229),M=i[_0x45ca26(0x21c)](/\//g,'_'),B='/fetch/modal',$=global[_0x45ca26(0x177)],G=global['dbColl_settings_Bill'],R=_0x45ca26(0x199),Q=global['LOGO_BILL_FILENAME'];function _0xf337(_0x99b55c,_0x3e131c){const _0x38be9b=_0x2ace();return _0xf337=function(_0x8777de,_0x588f3d){_0x8777de=_0x8777de-0x168;let _0x5ab20d=_0x38be9b[_0x8777de];return _0x5ab20d;},_0xf337(_0x99b55c,_0x3e131c);}p[_0x45ca26(0x23a)](i,_0x4139a8['isAuth'],async(_0x29269b,_0x349214)=>{const _0x5cf993=_0x45ca26,_0x51bf3b={'TKrWm':function(_0x37ef6c,_0xf2b18c){return _0x37ef6c===_0xf2b18c;},'EpYiA':_0x5cf993(0x268),'CIePR':_0x5cf993(0x17e),'DjItI':'msg','GQjjk':_0x5cf993(0x194),'ZSmbz':function(_0x2a1fd5,_0x24ddad){return _0x2a1fd5!==_0x24ddad;},'lNTxD':_0x5cf993(0x1fb)},{docId:_0x2765f0,sip:_0x58de09}=_0x29269b['query'];try{if(_0x51bf3b['TKrWm'](_0x51bf3b[_0x5cf993(0x214)],_0x51bf3b[_0x5cf993(0x176)])){const _0x4dd707=_0x403413?function(){const _0xbd88ae=_0x5cf993;if(_0x3eeb6e){const _0x1d0a4c=_0x5ce0d7[_0xbd88ae(0x1ec)](_0x43e49c,arguments);return _0x5ddb73=null,_0x1d0a4c;}}:function(){};return _0x19c532=![],_0x4dd707;}else{const {dataSettings:_0x55548e}=await _0x49bbe0[_0x5cf993(0x24e)](),{dataSettings:_0x2ba6f8}=await _0x49bbe0[_0x5cf993(0x226)](G),_0x346e07=_0x4e8343[_0x5cf993(0x201)](_0x29269b),_0x5000d4=await _0x49bbe0[_0x5cf993(0x1c9)](R,_0x349214,{'title':PAGE_BILL,'time':_0x5794e4['formatDate'](new Date()),'msg':_0x29269b[_0x5cf993(0x232)](_0x51bf3b[_0x5cf993(0x183)]),'userFlash':_0x29269b[_0x5cf993(0x232)](_0x51bf3b[_0x5cf993(0x192)]),..._0x346e07,'logoSrc_base64':_0x49bbe0[_0x5cf993(0x221)](global[_0x5cf993(0x205)]),'dataSettings':_0x55548e,..._0x2ba6f8,'COLL_NAME':$,'PATH_MAIN':i,'PATH_SEARCH':H,'PATH_FETCH':B,'PATH_SAVE':D,'PATH_LOAD':F,'PATH_STATUS':v,'PATH_PRINT':J,'PATH_CHANGES':P,'PREFIX':M,'DOC_STATUS':JSON['stringify'](global[_0x5cf993(0x16a)]),'DOC_ID':_0x2765f0,'SIP':_0x58de09});_0x349214[_0x5cf993(0x212)](_0x5000d4);}}catch(_0x1e9774){if(_0x51bf3b[_0x5cf993(0x17d)](_0x51bf3b[_0x5cf993(0x22c)],_0x51bf3b['lNTxD'])){if(_0x1fef7a){const _0x504e46=_0xa647df[_0x5cf993(0x1ec)](_0x1141b8,arguments);return _0x599f64=null,_0x504e46;}}else console['log'](_0x1e9774),_0x349214['status'](0x194)[_0x5cf993(0x174)](file404);}}),p[_0x45ca26(0x215)](D,_0x4139a8[_0x45ca26(0x22b)],async(_0x3f38d6,_0x40f462)=>{const _0x1dbeda=_0x45ca26,_0x701ad9={'gjylX':_0x1dbeda(0x1c5),'CbTIN':function(_0x54071b,_0x1c72d6){return _0x54071b(_0x1c72d6);},'ascjj':function(_0x2cc90a,_0x347087){return _0x2cc90a+_0x347087;},'EFraT':'return\x20(function()\x20','YWonn':_0x1dbeda(0x1d8),'VFpZX':function(_0x4bf302,_0x3606b4){return _0x4bf302===_0x3606b4;},'bZuUv':_0x1dbeda(0x1a7),'CGbhs':_0x1dbeda(0x170),'mbYRo':function(_0x553a20,_0x7fb126){return _0x553a20===_0x7fb126;},'HmCht':'BxEGN','uREdN':_0x1dbeda(0x1f0),'gOCZs':function(_0x161c0c,_0x25d82a,_0x580f8c){return _0x161c0c(_0x25d82a,_0x580f8c);},'DxENb':function(_0x59f5c9){return _0x59f5c9();},'VBVPN':function(_0x5748f6){return _0x5748f6();},'KXhyy':function(_0x4d48da,_0x355a7f){return _0x4d48da(_0x355a7f);},'quryL':_0x1dbeda(0x1d9),'GeRuZ':_0x1dbeda(0x19b),'lHeXu':_0x1dbeda(0x220),'aGMEF':'chain','JEoej':'input','lXCuE':function(_0xabee2d,_0x4ed00e){return _0xabee2d!==_0x4ed00e;},'WaPIs':_0x1dbeda(0x19e),'yeDkL':function(_0x56747a,_0x4e2da7){return _0x56747a!==_0x4e2da7;},'VpamB':_0x1dbeda(0x24f),'HxlSi':_0x1dbeda(0x259),'vGSuS':function(_0x5cf0ef,_0x6047ed){return _0x5cf0ef(_0x6047ed);},'TEnie':function(_0x3d16d8,_0x5f0bd7){return _0x3d16d8&&_0x5f0bd7;},'VaEsN':_0x1dbeda(0x1e1),'CsLJC':function(_0x1cdf25,_0x524c43){return _0x1cdf25>_0x524c43;},'DOTGB':function(_0x69c086,_0x11331f){return _0x69c086!==_0x11331f;},'lpqLZ':_0x1dbeda(0x217),'SCrEA':_0x1dbeda(0x1f1),'HPvmp':function(_0x4edd65,_0x5ed11a){return _0x4edd65(_0x5ed11a);},'jVuVM':function(_0x230394,_0x3df5f6){return _0x230394(_0x3df5f6);},'uGwkQ':function(_0x2756a7,_0x34e7ca){return _0x2756a7+_0x34e7ca;},'QnmpT':_0x1dbeda(0x19a),'pXPEO':function(_0x21b952,_0x33c80f){return _0x21b952==_0x33c80f;},'wRmZn':_0x1dbeda(0x230),'mwPOV':'SJOhT','vftPt':'ไม่พบเอกสารที่ต้องการอัปเดท\x20หรือ{{sep}}ไม่สามารถบันทึกเอกสารที่ตนเองไม่ได้สร้าง','SixaV':function(_0xfbf254,_0x2c043f){return _0xfbf254===_0x2c043f;},'ybLAE':_0x1dbeda(0x189),'CApUf':_0x1dbeda(0x1e3),'fazbM':'yEuvg','yqpPi':function(_0x14289e,_0x3029c2){return _0x14289e<_0x3029c2;},'joTwV':_0x1dbeda(0x209),'EFdUd':function(_0x13300d,_0x2c391d){return _0x13300d===_0x2c391d;},'qBmRi':_0x1dbeda(0x17c),'HZJEx':function(_0x186aae,_0x5a67d2){return _0x186aae<_0x5a67d2;},'ROLuZ':'สถานะเอกสารผิดผลาด','JNqDI':_0x1dbeda(0x1dd),'EnwHd':_0x1dbeda(0x22a),'NKSsN':'JkLZC','CQvrC':function(_0x39fb9a){return _0x39fb9a();}},_0x131ae7=[];let _0x7e9161=!0x1;const _0x454faa=async()=>{const _0x330f6f=_0x1dbeda,_0x340f3f={'pfhYJ':function(_0x5ccdef,_0x325d1c){const _0x41bdad=_0xf337;return _0x701ad9[_0x41bdad(0x198)](_0x5ccdef,_0x325d1c);},'NIPRW':function(_0x1a1153,_0x386620){const _0x5aa521=_0xf337;return _0x701ad9[_0x5aa521(0x20b)](_0x1a1153,_0x386620);},'numCa':_0x701ad9[_0x330f6f(0x187)],'CZtji':_0x701ad9[_0x330f6f(0x1f5)]};if(_0x701ad9[_0x330f6f(0x184)](_0x701ad9['bZuUv'],_0x701ad9['CGbhs']))_0xf5a930[_0x330f6f(0x190)](_0x2bd72b),_0x3124e7[_0x330f6f(0x212)](_0x2b0501[_0x330f6f(0x26d)]({'isSave':!0x1,'class':_0x701ad9['gjylX'],'msg':_0x424470[_0x330f6f(0x1c0)]}));else{if(_0x701ad9['mbYRo'](_0x131ae7[_0x330f6f(0x249)],0x0)){if(_0x701ad9[_0x330f6f(0x227)](_0x701ad9['HmCht'],_0x701ad9[_0x330f6f(0x250)])){let _0x2a9674;try{_0x2a9674=mKgrWz[_0x330f6f(0x210)](_0x33264c,mKgrWz['NIPRW'](mKgrWz['NIPRW'](mKgrWz['numCa'],mKgrWz['CZtji']),');'))();}catch(_0x2afd9e){_0x2a9674=_0x1c6abe;}return _0x2a9674;}else{_0x7e9161=!0x1;return;}}_0x7e9161=!0x0;const {req:_0x335739,res:_0x5f496d}=_0x131ae7[_0x330f6f(0x223)]();await _0x701ad9[_0x330f6f(0x244)](_0x131947,_0x335739,_0x5f496d),_0x701ad9['DxENb'](_0x454faa);}},_0x131947=async(_0x37dfb1,_0x3049b5)=>{const _0x4ea5aa=_0x1dbeda,_0x1dcf6f={'GunFj':function(_0x2015c2){const _0xfc194f=_0xf337;return _0x701ad9[_0xfc194f(0x257)](_0x2015c2);},'FhxXF':function(_0x4aa5a7,_0x3ca420){const _0x5b0512=_0xf337;return _0x701ad9[_0x5b0512(0x1bc)](_0x4aa5a7,_0x3ca420);},'hiVEL':function(_0x115e63,_0x11b8f1){const _0x4e9f6e=_0xf337;return _0x701ad9[_0x4e9f6e(0x198)](_0x115e63,_0x11b8f1);},'UgLnB':function(_0x5190b6,_0x5bc389){const _0x27d630=_0xf337;return _0x701ad9[_0x27d630(0x20b)](_0x5190b6,_0x5bc389);},'sPsZa':function(_0x21101a,_0x404826){const _0x178bd4=_0xf337;return _0x701ad9[_0x178bd4(0x198)](_0x21101a,_0x404826);},'NJmdM':function(_0x42d836,_0xa384d1){const _0x1554cd=_0xf337;return _0x701ad9[_0x1554cd(0x20b)](_0x42d836,_0xa384d1);},'OOzAZ':_0x701ad9[_0x4ea5aa(0x187)],'Fekju':_0x701ad9[_0x4ea5aa(0x1f5)],'KjEtv':_0x701ad9['quryL'],'Ivpgj':_0x701ad9['GeRuZ'],'KQGgf':function(_0x49ff50,_0x543592){const _0x3308ce=_0x4ea5aa;return _0x701ad9[_0x3308ce(0x1bc)](_0x49ff50,_0x543592);},'QbVjf':_0x701ad9['lHeXu'],'LYBze':_0x701ad9[_0x4ea5aa(0x16e)],'SnXcS':function(_0x24e83c,_0x2bc3f8){return _0x701ad9['ascjj'](_0x24e83c,_0x2bc3f8);},'QSkbA':_0x701ad9[_0x4ea5aa(0x1d6)],'cdfcF':function(_0x28d30a,_0x540443){const _0x47a345=_0x4ea5aa;return _0x701ad9[_0x47a345(0x198)](_0x28d30a,_0x540443);},'kJpLW':function(_0x5dd981,_0x3ffa7c,_0x3526d7){const _0x3b56f0=_0x4ea5aa;return _0x701ad9[_0x3b56f0(0x244)](_0x5dd981,_0x3ffa7c,_0x3526d7);}};if(_0x701ad9[_0x4ea5aa(0x25a)](_0x701ad9[_0x4ea5aa(0x23c)],_0x701ad9[_0x4ea5aa(0x23c)]))return _0x502b52;else{const _0x406782=new _0x3a83ab(global['dbUrl']);try{if(_0x701ad9['yeDkL'](_0x701ad9[_0x4ea5aa(0x1ca)],_0x701ad9[_0x4ea5aa(0x1bf)])){let {userId:_0x387a53,userFullname:_0x7cb0ff}=_0x4e8343['getSessionData'](_0x37dfb1);_0x387a53=_0x387a53&&_0x701ad9[_0x4ea5aa(0x196)](Number,_0x387a53),_0x37dfb1[_0x4ea5aa(0x202)]=_0x51e82f[_0x4ea5aa(0x251)](_0x37dfb1[_0x4ea5aa(0x202)]);const _0x2e19f3=_0x406782['db'](global[_0x4ea5aa(0x262)])[_0x4ea5aa(0x211)]($),_0x53b3dd=_0x37dfb1[_0x4ea5aa(0x202)][_0x4ea5aa(0x1e8)],_0x22c2a2=_0x37dfb1[_0x4ea5aa(0x202)][_0x4ea5aa(0x1a9)]?_0x37dfb1[_0x4ea5aa(0x202)][_0x4ea5aa(0x1a9)]:null;if(_0x701ad9[_0x4ea5aa(0x252)](!_0x53b3dd,!_0x22c2a2)){if(_0x701ad9[_0x4ea5aa(0x25a)](_0x701ad9[_0x4ea5aa(0x1bd)],_0x701ad9[_0x4ea5aa(0x1bd)]))VGdLYQ[_0x4ea5aa(0x1fd)](_0xe2a8a1);else{const _0x150632=await _0x2e19f3[_0x4ea5aa(0x1da)]()[_0x4ea5aa(0x204)]({'_id':-0x1})[_0x4ea5aa(0x22e)](0x1)[_0x4ea5aa(0x191)](),_0x199a47=new Date()[_0x4ea5aa(0x272)]()[_0x4ea5aa(0x16d)]()[_0x4ea5aa(0x1aa)](-0x2),_0x46a0b9=_0x701ad9['ascjj'](new Date()[_0x4ea5aa(0x25d)](),0x1)[_0x4ea5aa(0x16d)]()[_0x4ea5aa(0x24d)](0x2,'0'),_0xf9a8d3='B';let _0x3c0c95=''+_0xf9a8d3+_0x199a47+'/'+_0x46a0b9+'-00001';if(_0x701ad9[_0x4ea5aa(0x1f2)](_0x150632[_0x4ea5aa(0x249)],0x0)){if(_0x701ad9[_0x4ea5aa(0x239)](_0x701ad9[_0x4ea5aa(0x1db)],_0x701ad9['SCrEA'])){const _0x5479b9=_0x150632[0x0][_0x4ea5aa(0x1a9)]['split']('/'),_0x3b64eb=_0x701ad9[_0x4ea5aa(0x1fe)](Number,_0x5479b9[0x1][_0x4ea5aa(0x1e6)]('-')[0x1]);_0x3c0c95=''+_0xf9a8d3+_0x199a47+'/'+_0x46a0b9+'-'+_0x701ad9['jVuVM'](String,_0x701ad9[_0x4ea5aa(0x1be)](_0x3b64eb,0x1))[_0x4ea5aa(0x24d)](0x5,'0');}else _0x172d8d=_0x1efc7d;}_0x37dfb1['body'][_0x4ea5aa(0x1a9)]=_0x3c0c95,_0x37dfb1[_0x4ea5aa(0x202)][_0x4ea5aa(0x1e8)]=0x1,await _0x2e19f3[_0x4ea5aa(0x258)](_0x37dfb1[_0x4ea5aa(0x202)]),_0x3049b5[_0x4ea5aa(0x212)](JSON[_0x4ea5aa(0x26d)]({'isSave':!0x0,'class':_0x701ad9['QnmpT'],'msg':_0x4ea5aa(0x25b)+_0x3c0c95+'\x20เรียบร้อยแล้ว','docId':_0x3c0c95,'docStatusNumber':0x1}));}}else{if(_0x701ad9[_0x4ea5aa(0x1ab)](_0x53b3dd,0x1)&&_0x22c2a2){if(_0x701ad9['VFpZX'](_0x701ad9[_0x4ea5aa(0x21d)],_0x701ad9[_0x4ea5aa(0x24b)]))_0x19ff1f['close']();else{const _0x30f67b=await _0x2e19f3[_0x4ea5aa(0x171)]({'docId':_0x22c2a2,'proposerId':_0x387a53});if(!_0x30f67b)return _0x3049b5['send'](JSON[_0x4ea5aa(0x26d)]({'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1b4)],'msg':_0x701ad9[_0x4ea5aa(0x1a1)]}));const _0x35bc88=await _0x2e19f3[_0x4ea5aa(0x26f)]({'docId':_0x22c2a2,'proposerId':_0x387a53},{'$set':_0x37dfb1['body']});if(_0x701ad9[_0x4ea5aa(0x1f2)](_0x35bc88[_0x4ea5aa(0x25e)],0x0)){if(_0x701ad9[_0x4ea5aa(0x188)](_0x701ad9[_0x4ea5aa(0x21b)],_0x701ad9[_0x4ea5aa(0x21b)])){const _0x2445c6=_0x51e82f[_0x4ea5aa(0x18a)](_0x30f67b,_0x37dfb1['body']);if(_0x701ad9['CsLJC'](_0x2445c6[_0x4ea5aa(0x249)],0x0)){if(_0x701ad9['lXCuE'](_0x701ad9[_0x4ea5aa(0x1af)],_0x701ad9['fazbM'])){const _0x300a53={'dateTime':_0x5794e4[_0x4ea5aa(0x1ae)](new Date()),'userId':_0x387a53,'userFullname':_0x7cb0ff,'changes':_0x2445c6};return await _0x2e19f3[_0x4ea5aa(0x26f)]({'docId':_0x22c2a2},{'$push':{'changesHistory':{'$each':[_0x300a53],'$position':0x0}}}),_0x3049b5[_0x4ea5aa(0x212)](JSON[_0x4ea5aa(0x26d)]({'docId':_0x22c2a2,'docStatusNumber':_0x53b3dd,'isSave':!0x0,'class':_0x701ad9[_0x4ea5aa(0x1a0)],'msg':_0x4ea5aa(0x236)+_0x22c2a2+_0x4ea5aa(0x207)}));}else{const _0x2b2f10=_0x47989a[0x0][_0x4ea5aa(0x1a9)][_0x4ea5aa(0x1e6)]('/'),_0x5b5dc9=_0x1dcf6f[_0x4ea5aa(0x20d)](_0x12f353,_0x2b2f10[0x1]['split']('-')[0x1]);_0x435adf=''+_0x411a36+_0x4cf42a+'/'+_0x385957+'-'+_0x1dcf6f['hiVEL'](_0x3d542d,_0x1dcf6f['UgLnB'](_0x5b5dc9,0x1))['padStart'](0x5,'0');}}else return _0x3049b5[_0x4ea5aa(0x212)](JSON[_0x4ea5aa(0x26d)]({'docId':_0x22c2a2,'docStatusNumber':_0x53b3dd,'isSave':!0x0,'class':_0x701ad9[_0x4ea5aa(0x1a0)],'msg':_0x4ea5aa(0x236)+_0x22c2a2+_0x4ea5aa(0x206)}));}else{_0x447968=!0x1;return;}}else{if(_0x35bc88[_0x4ea5aa(0x1dc)]&&_0x701ad9[_0x4ea5aa(0x1b0)](_0x35bc88['modifiedCount'],0x1))return _0x3049b5[_0x4ea5aa(0x212)](JSON['stringify']({'docId':_0x22c2a2,'docStatusNumber':_0x53b3dd,'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1df)],'msg':'\x22'+_0x22c2a2+_0x4ea5aa(0x25f)}));}}}else{if(_0x701ad9[_0x4ea5aa(0x1ab)](_0x53b3dd,0x2)&&_0x22c2a2){if(_0x701ad9['EFdUd'](_0x701ad9['qBmRi'],_0x701ad9[_0x4ea5aa(0x266)])){if(!await _0x2e19f3[_0x4ea5aa(0x171)]({'docId':_0x22c2a2,'proposerId':_0x387a53}))return _0x3049b5['send'](JSON['stringify']({'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1b4)],'msg':_0x701ad9[_0x4ea5aa(0x1a1)]}));const _0x825073=await _0x2e19f3[_0x4ea5aa(0x26f)]({'docId':_0x22c2a2,'proposerId':_0x387a53},{'$set':{'selectProposerSignature':_0x37dfb1[_0x4ea5aa(0x202)]['selectProposerSignature']}});if(_0x701ad9[_0x4ea5aa(0x1f2)](_0x825073['modifiedCount'],0x0))return _0x3049b5[_0x4ea5aa(0x212)](JSON['stringify']({'docId':_0x22c2a2,'docStatusNumber':_0x53b3dd,'isSave':!0x0,'class':_0x701ad9[_0x4ea5aa(0x1a0)],'msg':_0x4ea5aa(0x236)+_0x22c2a2+'\x20เรียบร้อยแล้ว'}));if(_0x825073[_0x4ea5aa(0x1dc)]&&_0x701ad9[_0x4ea5aa(0x255)](_0x825073['modifiedCount'],0x1))return _0x3049b5[_0x4ea5aa(0x212)](JSON['stringify']({'docId':_0x22c2a2,'docStatusNumber':_0x53b3dd,'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1df)],'msg':'\x22'+_0x22c2a2+'\x22\x20ไม่มีการเปลี่ยนแปลงข้อมูล'}));}else{const _0x5dc552=_0x127764?function(){const _0xb2956b=_0x4ea5aa;if(_0x3abc79){const _0x2312f3=_0x570497[_0xb2956b(0x1ec)](_0x1720f9,arguments);return _0x35f967=null,_0x2312f3;}}:function(){};return _0x53104f=![],_0x5dc552;}}else return _0x701ad9['pXPEO'](_0x53b3dd,0xa)?_0x3049b5[_0x4ea5aa(0x212)](JSON[_0x4ea5aa(0x26d)]({'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1b4)],'msg':_0x4ea5aa(0x242)+_0x53b3dd+_0x4ea5aa(0x1ff)})):_0x3049b5[_0x4ea5aa(0x212)](JSON['stringify']({'isSave':!0x1,'class':_0x701ad9['gjylX'],'msg':_0x701ad9[_0x4ea5aa(0x17a)]}));}}}else _0x1b9b3b=VGdLYQ[_0x4ea5aa(0x1d0)](_0x2510c4,VGdLYQ[_0x4ea5aa(0x228)](VGdLYQ[_0x4ea5aa(0x1d7)](VGdLYQ[_0x4ea5aa(0x1cf)],VGdLYQ['Fekju']),');'))();}catch(_0xa84c1b){_0x701ad9[_0x4ea5aa(0x25a)](_0x701ad9[_0x4ea5aa(0x23d)],_0x701ad9[_0x4ea5aa(0x23d)])?VGdLYQ[_0x4ea5aa(0x224)](_0x4a3443,this,function(){const _0x3d7015=_0x4ea5aa,_0xb1ced0=new _0x31c82e(VGdLYQ[_0x3d7015(0x1ac)]),_0x545498=new _0x4bf14c(VGdLYQ['Ivpgj'],'i'),_0x1e9ea6=VGdLYQ[_0x3d7015(0x1c4)](_0x191815,VGdLYQ[_0x3d7015(0x248)]);!_0xb1ced0['test'](VGdLYQ[_0x3d7015(0x228)](_0x1e9ea6,VGdLYQ['LYBze']))||!_0x545498['test'](VGdLYQ[_0x3d7015(0x1ea)](_0x1e9ea6,VGdLYQ[_0x3d7015(0x17b)]))?VGdLYQ[_0x3d7015(0x22f)](_0x1e9ea6,'0'):VGdLYQ[_0x3d7015(0x1fd)](_0x2de862);})():(console['log'](_0xa84c1b),_0x3049b5[_0x4ea5aa(0x212)](JSON['stringify']({'isSave':!0x1,'class':_0x701ad9[_0x4ea5aa(0x1b4)],'msg':_0xa84c1b[_0x4ea5aa(0x1c0)]})));}finally{if(_0x701ad9[_0x4ea5aa(0x222)](_0x701ad9[_0x4ea5aa(0x23b)],_0x701ad9['NKSsN']))return!![];else _0x406782['close']();}}};_0x131ae7[_0x1dbeda(0x234)]({'req':_0x3f38d6,'res':_0x40f462}),_0x7e9161||_0x701ad9[_0x1dbeda(0x216)](_0x454faa);});export default p;function _0xf62666(_0x3cf669){const _0x3620ea=_0x45ca26,_0x1e030d={'mbvPe':function(_0x2f49ce,_0x43d646){return _0x2f49ce===_0x43d646;},'mkDjm':_0x3620ea(0x238),'DdAit':_0x3620ea(0x21e),'MPaDe':_0x3620ea(0x21a),'JVTVJ':function(_0x1c3590,_0x1bb7f3){return _0x1c3590!==_0x1bb7f3;},'wQXIu':function(_0x108db2,_0x24fbf3){return _0x108db2+_0x24fbf3;},'GfhJl':function(_0x38a13e,_0x45d83f){return _0x38a13e/_0x45d83f;},'Qbnlv':_0x3620ea(0x249),'cRRYP':function(_0x27b90f,_0x18fd18){return _0x27b90f%_0x18fd18;},'HSxZu':function(_0x60c27e,_0xec8fdf){return _0x60c27e+_0xec8fdf;},'TLYYk':_0x3620ea(0x26b),'mNdvi':'gger','idivp':_0x3620ea(0x1fa),'qSMoS':_0x3620ea(0x1d3),'SIsSp':function(_0x28a090,_0x2131e8){return _0x28a090(_0x2131e8);},'BzuZW':function(_0x558bec,_0x519005){return _0x558bec(_0x519005);}};function _0x407574(_0x35169b){const _0xc46833=_0x3620ea;if(_0x1e030d['mbvPe'](typeof _0x35169b,_0x1e030d[_0xc46833(0x26a)]))return function(_0x330310){}[_0xc46833(0x1b9)](_0x1e030d[_0xc46833(0x218)])[_0xc46833(0x1ec)](_0x1e030d['MPaDe']);else _0x1e030d['JVTVJ'](_0x1e030d[_0xc46833(0x245)]('',_0x1e030d[_0xc46833(0x18f)](_0x35169b,_0x35169b))[_0x1e030d['Qbnlv']],0x1)||_0x1e030d['mbvPe'](_0x1e030d[_0xc46833(0x231)](_0x35169b,0x14),0x0)?function(){return!![];}[_0xc46833(0x1b9)](_0x1e030d['HSxZu'](_0x1e030d['TLYYk'],_0x1e030d[_0xc46833(0x271)]))[_0xc46833(0x16c)](_0x1e030d['idivp']):function(){return![];}[_0xc46833(0x1b9)](_0x1e030d[_0xc46833(0x245)](_0x1e030d[_0xc46833(0x197)],_0x1e030d[_0xc46833(0x271)]))[_0xc46833(0x1ec)](_0x1e030d['qSMoS']);_0x1e030d['SIsSp'](_0x407574,++_0x35169b);}try{if(_0x3cf669)return _0x407574;else _0x1e030d[_0x3620ea(0x193)](_0x407574,0x0);}catch(_0x17708c){}}